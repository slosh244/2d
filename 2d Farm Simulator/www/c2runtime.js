// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,y,oa,pa,sa,ta,ua,va,wa,P,xa,ya,za,Ca,Da,Q,Ea,Fa,Ga,Ha,Ia,X,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb={},Yb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,d,h,f){this.set(a,d,h,f)}function g(){this.bb=this.ab=this.eb=this.cb=this.ob=this.nb=this.Ma=this.La=0}function m(a,d,h,f){a<d?h<f?(u=a<h?a:h,H=d>f?d:f):(u=a<f?a:f,H=d>h?d:h):h<f?(u=d<h?d:h,H=a>f?a:f):(u=d<f?d:f,H=a>h?a:h)}function l(){this.items=this.K=null;this.Zg=0;S&&(this.K=new Set);this.og=[];this.Vd=!0}function n(a){p[A++]=a}function q(){this.ua=this.Lj=this.y=this.mk=0}function b(a){this.Ia=[];this.Yh=this.$h=this.ai=this.Zh=0;this.Ch(a)}function a(a,d){this.rk=a;
this.qk=d;this.cells={}}function t(a,d){this.rk=a;this.qk=d;this.cells={}}function v(a,d,h){var f;return E.length?(f=E.pop(),f.Yk=a,f.x=d,f.y=h,f):new aa(a,d,h)}function d(a,d,h){this.Yk=a;this.x=d;this.y=h;this.Za=new ba}function f(a,d,h){var f;return T.length?(f=T.pop(),f.Yk=a,f.x=d,f.y=h,f):new ca(a,d,h)}function e(a,d,h){this.Yk=a;this.x=d;this.y=h;this.Za=[];this.Nf=!0;this.kd=new ba;this.sg=!1}function k(a,d){return a.cd-d.cd}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};ha=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,d){return a>d?a:d};ma=function(a,d){return a<d?a:d};na=Math.PI;y=function(a){return 0<=a?a|0:(a|0)-1};oa=function(a){var d=a|0;return d===a?d:d+1};
pa=function(a,d,h,f,k,e,b,w){var z,C,B,t;a<h?(C=a,z=h):(C=h,z=a);k<b?(t=k,B=b):(t=b,B=k);if(z<t||C>B)return!1;d<f?(C=d,z=f):(C=f,z=d);e<w?(t=e,B=w):(t=w,B=e);if(z<t||C>B)return!1;z=k-a+b-h;C=e-d+w-f;a=h-a;d=f-d;k=b-k;e=w-e;w=ka(d*k-e*a);return ka(k*C-e*z)>w?!1:ka(a*C-d*z)<=w};c.prototype.set=function(a,d,h,f){this.left=a;this.top=d;this.right=h;this.bottom=f};c.prototype.yf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};c.prototype.width=function(){return this.right-
this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};c.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};c.prototype.Gt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};c.prototype.Ht=function(a,d,h){return!(a.right+
d<this.left||a.bottom+h<this.top||a.left+d>this.right||a.top+h>this.bottom)};c.prototype.rb=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};c.prototype.Cg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};sa=c;g.prototype.ze=function(a){this.La=a.left;this.Ma=a.top;this.nb=a.right;this.ob=a.top;this.cb=a.right;this.eb=a.bottom;this.ab=a.left;this.bb=a.bottom};g.prototype.Ap=function(a,d){if(0===d)this.ze(a);else{var h=
Math.sin(d),f=Math.cos(d),k=a.left*h,e=a.top*h,b=a.right*h,h=a.bottom*h,w=a.left*f,z=a.top*f,C=a.right*f,f=a.bottom*f;this.La=w-e;this.Ma=z+k;this.nb=C-e;this.ob=z+b;this.cb=C-h;this.eb=f+b;this.ab=w-h;this.bb=f+k}};g.prototype.offset=function(a,d){this.La+=a;this.Ma+=d;this.nb+=a;this.ob+=d;this.cb+=a;this.eb+=d;this.ab+=a;this.bb+=d;return this};var u=0,H=0;g.prototype.jn=function(a){m(this.La,this.nb,this.cb,this.ab);a.left=u;a.right=H;m(this.Ma,this.ob,this.eb,this.bb);a.top=u;a.bottom=H};g.prototype.rb=
function(a,d){var h=this.La,f=this.Ma,k=this.nb-h,e=this.ob-f,b=this.cb-h,w=this.eb-f,z=a-h,C=d-f,B=k*k+e*e,t=k*b+e*w,e=k*z+e*C,c=b*b+w*w,r=b*z+w*C,p=1/(B*c-t*t),k=(c*e-t*r)*p,B=(B*r-t*e)*p;if(0<=k&&0<B&&1>k+B)return!0;k=this.ab-h;e=this.bb-f;B=k*k+e*e;t=k*b+e*w;e=k*z+e*C;p=1/(B*c-t*t);k=(c*e-t*r)*p;B=(B*r-t*e)*p;return 0<=k&&0<B&&1>k+B};g.prototype.Td=function(a,d){if(d)switch(a){case 0:return this.La;case 1:return this.nb;case 2:return this.cb;case 3:return this.ab;case 4:return this.La;default:return this.La}else switch(a){case 0:return this.Ma;
case 1:return this.ob;case 2:return this.eb;case 3:return this.bb;case 4:return this.Ma;default:return this.Ma}};g.prototype.Qo=function(){return(this.La+this.nb+this.cb+this.ab)/4};g.prototype.Ro=function(){return(this.Ma+this.ob+this.eb+this.bb)/4};g.prototype.co=function(a){var d=a.Qo(),h=a.Ro();if(this.rb(d,h))return!0;d=this.Qo();h=this.Ro();if(a.rb(d,h))return!0;var f,k,e,b,w,z,C,B;for(C=0;4>C;C++)for(B=0;4>B;B++)if(d=this.Td(C,!0),h=this.Td(C,!1),f=this.Td(C+1,!0),k=this.Td(C+1,!1),e=a.Td(B,
!0),b=a.Td(B,!1),w=a.Td(B+1,!0),z=a.Td(B+1,!1),pa(d,h,f,k,e,b,w,z))return!0;return!1};ta=g;ua=function(a,d){for(var h in d)d.hasOwnProperty(h)&&(a[h]=d[h]);return a};va=function(a,d){var h,f;d=y(d);if(!(0>d||d>=a.length)){h=d;for(f=a.length-1;h<f;h++)a[h]=a[h+1];wa(a,f)}};wa=function(a,d){a.length=d};P=function(a){wa(a,0)};xa=function(a,d){P(a);var h,f;h=0;for(f=d.length;h<f;++h)a[h]=d[h]};ya=function(a,d){a.push.apply(a,d)};za=function(a,d){var h,f;h=0;for(f=a.length;h<f;++h)if(a[h]===d)return h;
return-1};Ca=function(a,d){var h=za(a,d);-1!==h&&va(a,h)};Da=function(a,d,h){return a<d?d:a>h?h:a};Q=function(a){return a/(180/na)};Ea=function(a){return 180/na*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*na;0>a&&(a+=2*na);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(Q(a))};X=function(a,d,h,f){return Math.atan2(f-d,h-a)};Ja=function(a,d){if(a===d)return 0;var h=Math.sin(a),f=Math.cos(a),k=Math.sin(d),e=Math.cos(d),h=h*k+f*e;return 1<=h?0:-1>=h?na:Math.acos(h)};
Ka=function(a,d,h){var f=Math.sin(a),k=Math.cos(a),e=Math.sin(d),b=Math.cos(d);return Math.acos(f*e+k*b)>h?0<k*e-f*b?Ga(a+h):Ga(a-h):Ga(d)};La=function(a,d){var h=Math.sin(a),f=Math.cos(a),k=Math.sin(d),e=Math.cos(d);return 0>=f*k-h*e};Ma=function(a,d,h,f){a=h-a;d=f-d;return Math.sqrt(a*a+d*d)};Na=function(a,d){return!a!==!d};Oa=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;return!1};Pa=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var G=+new Date;Qa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-G};var h=!1,r=h=!1,x=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),h=!h&&/safari/i.test(navigator.userAgent),r=/(iphone|ipod|ipad)/i.test(navigator.userAgent),x=window.c2ejecta);
var S=!h&&!x&&!r&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;l.prototype.contains=function(a){return this.zd()?!1:S?this.K.has(a):this.items&&this.items.hasOwnProperty(a)};l.prototype.add=function(a){if(S)this.K.has(a)||(this.K.add(a),this.Vd=!1);else{var d=a.toString(),h=this.items;h?h.hasOwnProperty(d)||(h[d]=a,this.Zg++,this.Vd=!1):(this.items={},this.items[d]=a,this.Zg=1,this.Vd=!1)}};l.prototype.remove=function(a){if(!this.zd())if(S)this.K.has(a)&&(this.K["delete"](a),
this.Vd=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.Zg--,this.Vd=!1)}};l.prototype.clear=function(){this.zd()||(S?this.K.clear():(this.items=null,this.Zg=0),P(this.og),this.Vd=!0)};l.prototype.zd=function(){return 0===this.count()};l.prototype.count=function(){return S?this.K.size:this.Zg};var p=null,A=0;l.prototype.Uu=function(){if(!this.Vd){if(S)P(this.og),p=this.og,A=0,this.K.forEach(n),p=null,A=0;else{var a=this.og;P(a);var d,h=0,f=this.items;
if(f)for(d in f)f.hasOwnProperty(d)&&(a[h++]=f[d])}this.Vd=!0}};l.prototype.pd=function(){this.Uu();return this.og};ba=l;var N=new ba;Ra=function(a){var d,h;d=0;for(h=a.length;d<h;++d)N.add(a[d]);xa(a,N.pd());N.clear()};Sa=function(a,d){S?Ta(a,d.K):Ua(a,d.pd())};Ta=function(a,d){var h,f,k,e;f=h=0;for(k=a.length;h<k;++h)e=a[h],d.has(e)||(a[f++]=e);wa(a,f)};Ua=function(a,d){var h,f,k,e;f=h=0;for(k=a.length;h<k;++h)e=a[h],-1===za(d,e)&&(a[f++]=e);wa(a,f)};q.prototype.add=function(a){this.y=a-this.mk;
this.Lj=this.ua+this.y;this.mk=this.Lj-this.ua-this.y;this.ua=this.Lj};q.prototype.reset=function(){this.ua=this.Lj=this.y=this.mk=0};Va=q;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.Ch=function(a){this.lp=a;this.Ac=a.length/2;this.Ia.length=a.length;this.di=this.ei=-1;this.mn=0};b.prototype.je=function(){return!this.lp.length};b.prototype.ea=function(){for(var a=this.Ia,d=a[0],h=d,f=a[1],k=f,e,b,w=1,z=this.Ac;w<z;++w)b=2*w,e=a[b],b=a[b+1],e<d&&(d=e),e>h&&(h=e),
b<f&&(f=b),b>k&&(k=b);this.Zh=d;this.$h=h;this.ai=f;this.Yh=k};b.prototype.ze=function(a,d,h){this.Ia.length=8;this.Ac=4;var f=this.Ia;f[0]=a.left-d;f[1]=a.top-h;f[2]=a.right-d;f[3]=a.top-h;f[4]=a.right-d;f[5]=a.bottom-h;f[6]=a.left-d;f[7]=a.bottom-h;this.ei=a.right-a.left;this.di=a.bottom-a.top;this.ea()};b.prototype.ye=function(a,d,h,f,e){this.Ia.length=8;this.Ac=4;var k=this.Ia;k[0]=a.La-d;k[1]=a.Ma-h;k[2]=a.nb-d;k[3]=a.ob-h;k[4]=a.cb-d;k[5]=a.eb-h;k[6]=a.ab-d;k[7]=a.bb-h;this.ei=f;this.di=e;this.ea()};
b.prototype.zp=function(a){this.Ac=a.Ac;xa(this.Ia,a.Ia);this.Zh=a.Zh;this.ai-a.ai;this.$h=a.$h;this.Yh=a.Yh};b.prototype.Ud=function(a,d,h){if(this.ei!==a||this.di!==d||this.mn!==h){this.ei=a;this.di=d;this.mn=h;var f,k,e,b,w,z=0,C=1,B=this.lp,t=this.Ia;0!==h&&(z=Math.sin(h),C=Math.cos(h));h=0;for(e=this.Ac;h<e;h++)f=2*h,k=f+1,b=B[f]*a,w=B[k]*d,t[f]=b*C-w*z,t[k]=w*C+b*z;this.ea()}};b.prototype.rb=function(a,d){var h=this.Ia;if(a===h[0]&&d===h[1])return!0;var f,k,e,b=this.Ac,w=this.Zh-110,z=this.ai-
101,C=this.$h+131,B=this.Yh+120,t,c,r=0,p=0;for(f=0;f<b;f++)k=2*f,e=(f+1)%b*2,t=h[k],k=h[k+1],c=h[e],e=h[e+1],pa(w,z,a,d,t,k,c,e)&&r++,pa(C,B,a,d,t,k,c,e)&&p++;return 1===r%2||1===p%2};b.prototype.Rg=function(a,d,h){var f=a.Ia,k=this.Ia;if(this.rb(f[0]+d,f[1]+h)||a.rb(k[0]-d,k[1]-h))return!0;var e,b,w,z,C,B,t,c,r,p,v,u;e=0;for(z=this.Ac;e<z;e++)for(b=2*e,w=(e+1)%z*2,c=k[b],b=k[b+1],r=k[w],p=k[w+1],w=0,t=a.Ac;w<t;w++)if(C=2*w,B=(w+1)%t*2,v=f[C]+d,C=f[C+1]+h,u=f[B]+d,B=f[B+1]+h,pa(c,b,r,p,v,C,u,B))return!0;
return!1};Xa=b;a.prototype.ee=function(a,d,h){var f;f=this.cells[a];return f?(f=f[d])?f:h?(f=v(this,a,d),this.cells[a][d]=f):null:h?(f=v(this,a,d),this.cells[a]={},this.cells[a][d]=f):null};a.prototype.Gb=function(a){return y(a/this.rk)};a.prototype.Hb=function(a){return y(a/this.qk)};a.prototype.update=function(a,d,h){var f,k,e,b,w;if(d)for(f=d.left,k=d.right;f<=k;++f)for(e=d.top,b=d.bottom;e<=b;++e)if(!h||!h.rb(f,e))if(w=this.ee(f,e,!1))w.remove(a),w.zd()&&(w.Za.clear(),1E3>E.length&&E.push(w),
this.cells[f][e]=null);if(h)for(f=h.left,k=h.right;f<=k;++f)for(e=h.top,b=h.bottom;e<=b;++e)d&&d.rb(f,e)||this.ee(f,e,!0).hl(a)};a.prototype.sj=function(a,d){var h,f,k,e,b,w;h=this.Gb(a.left);k=this.Hb(a.top);f=this.Gb(a.right);for(b=this.Hb(a.bottom);h<=f;++h)for(e=k;e<=b;++e)(w=this.ee(h,e,!1))&&w.dump(d)};Ya=a;t.prototype.ee=function(a,d,h){var e;e=this.cells[a];return e?(e=e[d])?e:h?(e=f(this,a,d),this.cells[a][d]=e):null:h?(e=f(this,a,d),this.cells[a]={},this.cells[a][d]=e):null};t.prototype.Gb=
function(a){return y(a/this.rk)};t.prototype.Hb=function(a){return y(a/this.qk)};t.prototype.update=function(a,d,h){var f,e,k,b,w;if(d)for(f=d.left,e=d.right;f<=e;++f)for(k=d.top,b=d.bottom;k<=b;++k)if(!h||!h.rb(f,k))if(w=this.ee(f,k,!1))w.remove(a),w.zd()&&(w.reset(),1E3>T.length&&T.push(w),this.cells[f][k]=null);if(h)for(f=h.left,e=h.right;f<=e;++f)for(k=h.top,b=h.bottom;k<=b;++k)d&&d.rb(f,k)||this.ee(f,k,!0).hl(a)};t.prototype.sj=function(a,d,h,f,e){var k,b;a=this.Gb(a);d=this.Hb(d);h=this.Gb(h);
for(k=this.Hb(f);a<=h;++a)for(f=d;f<=k;++f)(b=this.ee(a,f,!1))&&b.dump(e)};t.prototype.Zt=function(a){var d,h,f,e,k;d=a.left;f=a.top;h=a.right;for(e=a.bottom;d<=h;++d)for(a=f;a<=e;++a)if(k=this.ee(d,a,!1))k.Nf=!1};Za=t;var E=[];d.prototype.zd=function(){return this.Za.zd()};d.prototype.hl=function(a){this.Za.add(a)};d.prototype.remove=function(a){this.Za.remove(a)};d.prototype.dump=function(a){ya(a,this.Za.pd())};aa=d;var T=[];e.prototype.zd=function(){if(!this.Za.length)return!0;if(this.Za.length>
this.kd.count())return!1;this.Kk();return!0};e.prototype.hl=function(a){this.kd.contains(a)?(this.kd.remove(a),this.kd.zd()&&(this.sg=!1)):this.Za.length?(this.Za[this.Za.length-1].jd()>a.jd()&&(this.Nf=!1),this.Za.push(a)):(this.Za.push(a),this.Nf=!0)};e.prototype.remove=function(a){this.kd.add(a);this.sg=!0;30<=this.kd.count()&&this.Kk()};e.prototype.Kk=function(){this.sg&&(this.kd.count()===this.Za.length?this.reset():(Sa(this.Za,this.kd),this.kd.clear(),this.sg=!1))};e.prototype.ls=function(){this.Nf||
(this.Za.sort(k),this.Nf=!0)};e.prototype.reset=function(){P(this.Za);this.Nf=!0;this.kd.clear();this.sg=!1};e.prototype.dump=function(a){this.Kk();this.ls();this.Za.length&&a.push(this.Za)};ca=e;var J="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ab=function(a){return 0>=a||11<=a?"source-over":J[a-1]};bb=function(a,d,h){if(h)switch(a.wb=h.ONE,a.sb=h.ONE_MINUS_SRC_ALPHA,d){case 1:a.wb=h.ONE;a.sb=h.ONE;break;case 3:a.wb=
h.ONE;a.sb=h.ZERO;break;case 4:a.wb=h.ONE_MINUS_DST_ALPHA;a.sb=h.ONE;break;case 5:a.wb=h.DST_ALPHA;a.sb=h.ZERO;break;case 6:a.wb=h.ZERO;a.sb=h.SRC_ALPHA;break;case 7:a.wb=h.ONE_MINUS_DST_ALPHA;a.sb=h.ZERO;break;case 8:a.wb=h.ZERO;a.sb=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.wb=h.DST_ALPHA;a.sb=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.wb=h.ONE_MINUS_DST_ALPHA,a.sb=h.SRC_ALPHA}};cb=function(a){return Math.round(1E6*a)/1E6};db=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?
!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};eb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||db(a.tagName,"canvas")?!0:!1}})();var Zb="undefined"!==typeof Float32Array?Float32Array:Array;function $b(c){var g=new Zb(3);c&&(g[0]=c[0],g[1]=c[1],g[2]=c[2]);return g}
function ac(c){var g=new Zb(16);c&&(g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[3],g[4]=c[4],g[5]=c[5],g[6]=c[6],g[7]=c[7],g[8]=c[8],g[9]=c[9],g[10]=c[10],g[11]=c[11],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]);return g}function bc(c,g){g[0]=c[0];g[1]=c[1];g[2]=c[2];g[3]=c[3];g[4]=c[4];g[5]=c[5];g[6]=c[6];g[7]=c[7];g[8]=c[8];g[9]=c[9];g[10]=c[10];g[11]=c[11];g[12]=c[12];g[13]=c[13];g[14]=c[14];g[15]=c[15]}
function cc(c,g){var m=g[0],l=g[1];g=g[2];c[0]*=m;c[1]*=m;c[2]*=m;c[3]*=m;c[4]*=l;c[5]*=l;c[6]*=l;c[7]*=l;c[8]*=g;c[9]*=g;c[10]*=g;c[11]*=g}
function dc(c,g,m,l){l||(l=ac());var n,q,b,a,t,v,d,f,e=c[0],k=c[1];c=c[2];q=m[0];b=m[1];n=m[2];m=g[1];v=g[2];e===g[0]&&k===m&&c===v?(c=l,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(m=e-g[0],v=k-g[1],d=c-g[2],f=1/Math.sqrt(m*m+v*v+d*d),m*=f,v*=f,d*=f,g=b*d-n*v,n=n*m-q*d,q=q*v-b*m,(f=Math.sqrt(g*g+n*n+q*q))?(f=1/f,g*=f,n*=f,q*=f):q=n=g=0,b=v*q-d*n,a=d*g-m*q,t=m*n-v*g,(f=Math.sqrt(b*b+a*a+t*t))?(f=1/f,b*=f,a*=f,t*=f):t=a=b=0,
l[0]=g,l[1]=b,l[2]=m,l[3]=0,l[4]=n,l[5]=a,l[6]=v,l[7]=0,l[8]=q,l[9]=t,l[10]=d,l[11]=0,l[12]=-(g*e+n*k+q*c),l[13]=-(b*e+a*k+t*c),l[14]=-(m*e+v*k+d*c),l[15]=1)}
(function(){function c(a,b,c){this.ie=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.la=!!c;this.Ki=this.Sg=!1;this.oi=0;this.ck=1;this.Jm=1E3;this.$u=(this.Jm-this.ck)/32768;this.ok=$b([0,0,100]);this.zo=$b([0,0,0]);this.Tp=$b([0,1,0]);this.Sh=$b([1,1,1]);this.Dn=!0;this.$i=ac();this.ic=ac();this.tl=ac();this.wk=ac();this.B=a;this.version=0===this.B.getParameter(this.B.VERSION).indexOf("WebGL 2")?2:1;this.Zn()}function g(a,b,c){this.B=a;this.Dh=
b;this.name=c;this.xc=a.getAttribLocation(b,"aPos");this.qe=a.getAttribLocation(b,"aTex");this.xo=a.getUniformLocation(b,"matP");this.Wi=a.getUniformLocation(b,"matMV");this.Wf=a.getUniformLocation(b,"opacity");this.Gl=a.getUniformLocation(b,"colorFill");this.yo=a.getUniformLocation(b,"samplerFront");this.ih=a.getUniformLocation(b,"samplerBack");this.cf=a.getUniformLocation(b,"destStart");this.bf=a.getUniformLocation(b,"destEnd");this.kh=a.getUniformLocation(b,"seconds");this.Il=a.getUniformLocation(b,
"pixelWidth");this.Hl=a.getUniformLocation(b,"pixelHeight");this.hh=a.getUniformLocation(b,"layerScale");this.gh=a.getUniformLocation(b,"layerAngle");this.mh=a.getUniformLocation(b,"viewOrigin");this.jh=a.getUniformLocation(b,"scrollPos");this.Ct=!!(this.Il||this.Hl||this.kh||this.ih||this.cf||this.bf||this.hh||this.gh||this.mh||this.jh);this.Ho=this.Io=-999;this.Zi=1;this.Do=this.Co=0;this.Fo=this.Bo=this.Ao=1;this.Lo=this.Ko=this.Jo=this.No=this.Mo=this.Eo=0;this.sl=[];this.Go=ac();this.Wf&&a.uniform1f(this.Wf,
1);this.Gl&&a.uniform4f(this.Gl,1,1,1,1);this.yo&&a.uniform1i(this.yo,0);this.ih&&a.uniform1i(this.ih,1);this.cf&&a.uniform2f(this.cf,0,0);this.bf&&a.uniform2f(this.bf,1,1);this.hh&&a.uniform1f(this.hh,1);this.gh&&a.uniform1f(this.gh,0);this.mh&&a.uniform2f(this.mh,0,0);this.jh&&a.uniform2f(this.jh,0,0);this.kh&&a.uniform1f(this.kh,0);this.Te=!1}function m(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function l(a,b){this.type=a;this.n=b;this.B=b.B;this.Mb=this.mb=this.dp=0;this.S=this.Ec=null;this.Bp=[]}var n=ac();c.prototype.Zn=function(){var a=this.B,b;this.qo=1;this.Xe=this.le=null;this.ni=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.la?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.ro=a.ONE;this.no=a.ONE_MINUS_SRC_ALPHA;this.Rh=new Float32Array(8E3*(this.la?3:2));this.Jh=new Float32Array(16E3);this.Vl=new Float32Array(32E3);this.Ul=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ul);a.bufferData(a.ARRAY_BUFFER,this.Vl.byteLength,a.DYNAMIC_DRAW);this.Qh=Array(4);this.Ih=Array(4);for(b=0;4>b;b++)this.Qh[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Qh[b]),a.bufferData(a.ARRAY_BUFFER,this.Rh.byteLength,a.DYNAMIC_DRAW),this.Ih[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Ih[b]),a.bufferData(a.ARRAY_BUFFER,this.Jh.byteLength,a.DYNAMIC_DRAW);this.rd=0;this.Et=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Et);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.ag=this.Ce=this.Gc=0;this.Ca=[];b=this.la?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.zg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ca.push(c);c=this.zg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ca.push(c);c=this.zg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ca.push(c);c=this.zg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ca.push(c);for(var f in ec)ec.hasOwnProperty(f)&&this.Ca.push(this.zg(ec[f],b,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Kc=[];this.mc=0;this.jb=this.Pa=!1;this.zn=this.ah=-1;this.Af=null;this.Jk=a.createFramebuffer();this.qi=this.uj=null;this.gn=!1;this.la&&(this.qi=a.createRenderbuffer());this.Fe=$b([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.bu=a[0];this.Kl=a[1];2048<this.Kl&&(this.Kl=2048);this.Rb(0)};g.prototype.Fm=function(a){m(this.Go,
a)||(bc(a,this.Go),this.B.uniformMatrix4fv(this.Wi,!1,a))};c.prototype.zg=function(a,b,c){var d=this.B,f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,a.src);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(f),d.deleteShader(f),Error("error compiling fragment shader: "+a);var e=d.createShader(d.VERTEX_SHADER);d.shaderSource(e,b);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(e),d.deleteShader(f),d.deleteShader(e),
Error("error compiling vertex shader: "+a);b=d.createProgram();d.attachShader(b,f);d.attachShader(b,e);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))throw a=d.getProgramInfoLog(b),d.deleteShader(f),d.deleteShader(e),d.deleteProgram(b),Error("error linking shader program: "+a);d.useProgram(b);d.deleteShader(f);d.deleteShader(e);f=new g(d,b,c);f.Hk=a.Hk||0;f.Ik=a.Ik||0;f.yn=!!a.yn;f.Uc=!!a.Uc;f.dn=!!a.dn;f.T=a.T||[];a=0;for(e=f.T.length;a<e;a++)f.T[a][1]=d.getUniformLocation(b,f.T[a][0]),
f.sl.push(0),d.uniform1f(f.T[a][1],0);return f};c.prototype.Wk=function(a){var b,c;b=0;for(c=this.Ca.length;b<c;b++)if(this.Ca[b].name===a)return b;return-1};c.prototype.kp=function(a,b,c){var d=this.ic,f=this.$i,e=[0,0,0,0,0,0,0,0];e[0]=d[0]*a+d[4]*b+d[12];e[1]=d[1]*a+d[5]*b+d[13];e[2]=d[2]*a+d[6]*b+d[14];e[3]=d[3]*a+d[7]*b+d[15];e[4]=f[0]*e[0]+f[4]*e[1]+f[8]*e[2]+f[12]*e[3];e[5]=f[1]*e[0]+f[5]*e[1]+f[9]*e[2]+f[13]*e[3];e[6]=f[2]*e[0]+f[6]*e[1]+f[10]*e[2]+f[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/
e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};c.prototype.nf=function(a,b,c){if(this.width!==a||this.height!==b||c){this.gd();c=this.B;this.width=a;this.height=b;c.viewport(0,0,a,b);dc(this.ok,this.zo,this.Tp,this.ic);if(this.la){var d=-a/2;a=a/2;var f=b/2;b=-b/2;var e=this.ck,k=this.Jm,u=this.$i;u||(u=ac());var l=a-d,n=b-f,h=k-e;u[0]=2/l;u[1]=0;u[2]=0;u[3]=0;u[4]=0;u[5]=2/n;u[6]=0;u[7]=0;u[8]=0;u[9]=0;u[10]=-2/h;u[11]=0;u[12]=-(d+a)/l;u[13]=-(b+
f)/n;u[14]=-(k+e)/h;u[15]=1;this.Sh[0]=1;this.Sh[1]=1}else b=a/b,d=this.ck,a=this.Jm,u=this.$i,k=d*Math.tan(45*Math.PI/360),b*=k,f=-b,e=-k,u||(u=ac()),l=b-f,n=k-e,h=a-d,u[0]=2*d/l,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*d/n,u[6]=0,u[7]=0,u[8]=(b+f)/l,u[9]=(k+e)/n,u[10]=-(a+d)/h,u[11]=-1,u[12]=0,u[13]=0,u[14]=-(a*d*2)/h,u[15]=0,d=[0,0],a=[0,0],this.kp(0,0,d),this.kp(1,1,a),this.Sh[0]=1/(a[0]-d[0]),this.Sh[1]=-1/(a[1]-d[1]);d=0;for(a=this.Ca.length;d<a;d++)f=this.Ca[d],f.Te=!1,f.xo&&(c.useProgram(f.Dh),
c.uniformMatrix4fv(f.xo,!1,this.$i));c.useProgram(this.Ca[this.ah].Dh);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.Xe=this.le=null;this.qi&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Jk),c.bindRenderbuffer(c.RENDERBUFFER,this.qi),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.gn||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.qi),this.gn=!0),c.bindRenderbuffer(c.RENDERBUFFER,
null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.uj=null)}};c.prototype.md=function(){dc(this.ok,this.zo,this.Tp,this.ic);cc(this.ic,this.Sh)};c.prototype.translate=function(a,b){if(0!==a||0!==b){this.Fe[0]=a;this.Fe[1]=b;this.Fe[2]=0;var c=this.ic,d=this.Fe,f=d[0],e=d[1],d=d[2];c[12]=c[0]*f+c[4]*e+c[8]*d+c[12];c[13]=c[1]*f+c[5]*e+c[9]*d+c[13];c[14]=c[2]*f+c[6]*e+c[10]*d+c[14];c[15]=c[3]*f+c[7]*e+c[11]*d+c[15]}};c.prototype.scale=function(a,b){if(1!==a||1!==b)this.Fe[0]=a,this.Fe[1]=b,this.Fe[2]=
1,cc(this.ic,this.Fe)};c.prototype.gm=function(a){if(0!==a){var b=this.ic,c,d=Math.sin(a);a=Math.cos(a);var f=b[0],e=b[1],k=b[2],u=b[3],l=b[4],n=b[5],h=b[6],r=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=f*a+l*d;c[1]=e*a+n*d;c[2]=k*a+h*d;c[3]=u*a+r*d;c[4]=f*-d+l*a;c[5]=e*-d+n*a;c[6]=k*-d+h*a;c[7]=u*-d+r*a}};c.prototype.ad=function(){if(!m(this.tl,this.ic)){var a=this.Eb();a.type=5;a.S?bc(this.ic,a.S):a.S=ac(this.ic);bc(this.ic,
this.tl);this.jb=this.Pa=!1}};c.prototype.zj=function(a){this.la&&(32760<a&&(a=32760),this.oi=this.ok[2]-this.ck-a*this.$u)};l.prototype.Ur=function(){var a=this.B,b=this.n;0!==this.mb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.Jk),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Ki=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Ki=
!1)};l.prototype.Yr=function(){this.B.bindTexture(this.B.TEXTURE_2D,this.Ec)};l.prototype.Zr=function(){var a=this.B;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ec);a.activeTexture(a.TEXTURE0)};l.prototype.Vr=function(){var a=this.dp,b=this.n;b.ni=a;b=b.Af;b.Wf&&b.Zi!==a&&(b.Zi=a,this.B.uniform1f(b.Wf,a))};l.prototype.Pr=function(){this.B.drawElements(this.B.TRIANGLES,this.Mb,this.B.UNSIGNED_SHORT,this.mb)};l.prototype.Rr=function(){this.B.blendFunc(this.mb,this.Mb)};l.prototype.$r=
function(){var a,b,c,d=this.n.Ca,f=this.n.zn;a=0;for(b=d.length;a<b;a++)c=d[a],a===f&&c.Wi?(c.Fm(this.S),c.Te=!0):c.Te=!1;bc(this.S,this.n.wk)};l.prototype.Qr=function(){var a=this.B,b=this.n;this.Ec?(b.Xe===this.Ec&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Xe=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Jk),b.Ki||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ec,0)):(b.la||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};l.prototype.Mr=function(){var a=this.B,b=this.mb;0===b?(a.clearColor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};l.prototype.Tr=function(){var a=this.B;0!==this.mb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};l.prototype.Or=
function(){var a=this.B,b=this.n;b.la&&a.disable(a.DEPTH_TEST);var c=b.Ca[1];a.useProgram(c.Dh);!c.Te&&c.Wi&&(c.Fm(b.wk),c.Te=!0);a.enableVertexAttribArray(c.xc);a.bindBuffer(a.ARRAY_BUFFER,b.Ul);a.vertexAttribPointer(c.xc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.mb/4,this.Mb);c=b.Af;a.useProgram(c.Dh);0<=c.xc&&(a.enableVertexAttribArray(c.xc),a.bindBuffer(a.ARRAY_BUFFER,b.Qh[b.rd]),a.vertexAttribPointer(c.xc,b.la?3:2,a.FLOAT,!1,0,0));0<=c.qe&&(a.enableVertexAttribArray(c.qe),a.bindBuffer(a.ARRAY_BUFFER,
b.Ih[b.rd]),a.vertexAttribPointer(c.qe,2,a.FLOAT,!1,0,0));b.la&&a.enable(a.DEPTH_TEST)};l.prototype.Wr=function(){var a=this.B,b=this.n,c=b.Ca[this.mb];b.zn=this.mb;b.Af=c;a.useProgram(c.Dh);!c.Te&&c.Wi&&(c.Fm(b.wk),c.Te=!0);c.Wf&&c.Zi!==b.ni&&(c.Zi=b.ni,a.uniform1f(c.Wf,b.ni));0<=c.xc&&(a.enableVertexAttribArray(c.xc),a.bindBuffer(a.ARRAY_BUFFER,b.Qh[b.rd]),a.vertexAttribPointer(c.xc,b.la?3:2,a.FLOAT,!1,0,0));0<=c.qe&&(a.enableVertexAttribArray(c.qe),a.bindBuffer(a.ARRAY_BUFFER,b.Ih[b.rd]),a.vertexAttribPointer(c.qe,
2,a.FLOAT,!1,0,0))};l.prototype.Sr=function(){var a=this.S;this.B.uniform4f(this.n.Af.Gl,a[0],a[1],a[2],a[3])};l.prototype.Xr=function(){var a,b,c=this.n.Af,d=this.B;a=this.S;c.ih&&this.n.Xe!==this.Ec&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Ec),this.n.Xe=this.Ec,d.activeTexture(d.TEXTURE0));var f=a[0];c.Il&&f!==c.Io&&(c.Io=f,d.uniform1f(c.Il,f));f=a[1];c.Hl&&f!==c.Ho&&(c.Ho=f,d.uniform1f(c.Hl,f));f=a[2];b=a[3];!c.cf||f===c.Co&&b===c.Do||(c.Co=f,c.Do=b,d.uniform2f(c.cf,f,b));
f=a[4];b=a[5];!c.bf||f===c.Ao&&b===c.Bo||(c.Ao=f,c.Bo=b,d.uniform2f(c.bf,f,b));f=a[6];c.hh&&f!==c.Fo&&(c.Fo=f,d.uniform1f(c.hh,f));f=a[7];c.gh&&f!==c.Eo&&(c.Eo=f,d.uniform1f(c.gh,f));f=a[8];b=a[9];!c.mh||f===c.Mo&&b===c.No||(c.Mo=f,c.No=b,d.uniform2f(c.mh,f,b));f=a[10];b=a[11];!c.jh||f===c.Jo&&b===c.Ko||(c.Jo=f,c.Ko=b,d.uniform2f(c.jh,f,b));f=a[12];c.kh&&f!==c.Lo&&(c.Lo=f,d.uniform1f(c.kh,f));if(c.T.length)for(a=0,b=c.T.length;a<b;a++)f=this.Bp[a],f!==c.sl[a]&&(c.sl[a]=f,d.uniform1f(c.T[a][1],f))};
c.prototype.Eb=function(){this.mc===this.Kc.length&&this.Kc.push(new l(0,this));return this.Kc[this.mc++]};c.prototype.gd=function(){if(0!==this.mc&&!this.B.isContextLost()){var a=this.B;0<this.ag&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ul),a.bufferSubData(a.ARRAY_BUFFER,0,this.Vl.subarray(0,this.ag)),b&&0<=b.xc&&"<point>"===b.name&&a.vertexAttribPointer(b.xc,4,a.FLOAT,!1,0,0));if(0<this.Gc){var b=this.Af;a.bindBuffer(a.ARRAY_BUFFER,this.Qh[this.rd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Rh.subarray(0,
this.Gc));b&&0<=b.xc&&"<point>"!==b.name&&a.vertexAttribPointer(b.xc,this.la?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Ih[this.rd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Jh.subarray(0,this.Ce));b&&0<=b.qe&&"<point>"!==b.name&&a.vertexAttribPointer(b.qe,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.mc;a<b;a++)switch(c=this.Kc[a],c.type){case 1:c.Pr();break;case 2:c.Yr();break;case 3:c.Vr();break;case 4:c.Rr();break;case 5:c.$r();break;case 6:c.Qr();break;case 7:c.Mr();break;case 8:c.Or();break;
case 9:c.Wr();break;case 10:c.Xr();break;case 11:c.Zr();break;case 12:c.Sr();break;case 13:c.Tr();break;case 14:c.Ur()}this.ag=this.Ce=this.Gc=this.mc=0;this.Ki=this.jb=this.Pa=!1;this.rd++;4<=this.rd&&(this.rd=0)}};c.prototype.xe=function(a){if(a!==this.qo&&!this.Sg){var b=this.Eb();b.type=3;this.qo=b.dp=a;this.jb=this.Pa=!1}};c.prototype.Va=function(a){if(a!==this.le){var b=this.Eb();b.type=2;this.le=b.Ec=a;this.jb=this.Pa=!1}};c.prototype.we=function(a,b){if((a!==this.ro||b!==this.no)&&!this.Sg){var c=
this.Eb();c.type=4;c.mb=a;c.Mb=b;this.ro=a;this.no=b;this.jb=this.Pa=!1}};c.prototype.tp=function(){this.we(this.B.ONE,this.B.ONE_MINUS_SRC_ALPHA)};c.prototype.ue=function(a,b,c,d,f,e,k,u){15992<=this.Gc&&this.gd();var l=this.Gc,n=this.Ce,h=this.Rh,r=this.Jh,x=this.oi;if(this.Pa)this.Kc[this.mc-1].Mb+=6;else{var g=this.Eb();g.type=1;g.mb=this.la?l:l/2*3;g.Mb=6;this.Pa=!0;this.jb=!1}this.la?(h[l++]=a,h[l++]=b,h[l++]=x,h[l++]=c,h[l++]=d,h[l++]=x,h[l++]=f,h[l++]=e,h[l++]=x,h[l++]=k,h[l++]=u,h[l++]=x):
(h[l++]=a,h[l++]=b,h[l++]=c,h[l++]=d,h[l++]=f,h[l++]=e,h[l++]=k,h[l++]=u);r[n++]=0;r[n++]=0;r[n++]=1;r[n++]=0;r[n++]=1;r[n++]=1;r[n++]=0;r[n++]=1;this.Gc=l;this.Ce=n};c.prototype.ve=function(a,b,c,d,f,e,k,u,l){15992<=this.Gc&&this.gd();var n=this.Gc,h=this.Ce,r=this.Rh,x=this.Jh,g=this.oi;if(this.Pa)this.Kc[this.mc-1].Mb+=6;else{var p=this.Eb();p.type=1;p.mb=this.la?n:n/2*3;p.Mb=6;this.Pa=!0;this.jb=!1}var p=l.left,A=l.top,m=l.right;l=l.bottom;this.la?(r[n++]=a,r[n++]=b,r[n++]=g,r[n++]=c,r[n++]=d,
r[n++]=g,r[n++]=f,r[n++]=e,r[n++]=g,r[n++]=k,r[n++]=u,r[n++]=g):(r[n++]=a,r[n++]=b,r[n++]=c,r[n++]=d,r[n++]=f,r[n++]=e,r[n++]=k,r[n++]=u);x[h++]=p;x[h++]=A;x[h++]=m;x[h++]=A;x[h++]=m;x[h++]=l;x[h++]=p;x[h++]=l;this.Gc=n;this.Ce=h};c.prototype.np=function(a,b,c,d,f,e,k,u,l,n,h,r,x){15992<=this.Gc&&this.gd();var g=this.Gc,p=this.Ce,A=this.Rh,m=this.Jh,q=this.oi;if(this.Pa)this.Kc[this.mc-1].Mb+=6;else{var T=this.Eb();T.type=1;T.mb=this.la?g:g/2*3;T.Mb=6;this.Pa=!0;this.jb=!1}this.la?(A[g++]=a,A[g++]=
b,A[g++]=q,A[g++]=c,A[g++]=d,A[g++]=q,A[g++]=f,A[g++]=e,A[g++]=q,A[g++]=k,A[g++]=u,A[g++]=q):(A[g++]=a,A[g++]=b,A[g++]=c,A[g++]=d,A[g++]=f,A[g++]=e,A[g++]=k,A[g++]=u);m[p++]=l;m[p++]=n;m[p++]=h;m[p++]=0;m[p++]=r;m[p++]=0;m[p++]=x;m[p++]=0;this.Gc=g;this.Ce=p};c.prototype.vn=function(a){var b=a.length/2-2,c=b-1,d=a[0],f=a[1],e,k,u,l,n,h,r;for(e=0;e<b;e+=2)k=2*e,u=a[k+2],l=a[k+3],n=a[k+4],h=a[k+5],e===c?this.ue(d,f,u,l,n,h,n,h):(r=a[k+6],k=a[k+7],this.ue(d,f,u,l,n,h,r,k))};c.prototype.nu=function(a,
b,c,d){7996<=this.ag&&this.gd();var f=this.ag,e=this.Vl;if(this.jb)this.Kc[this.mc-1].Mb++;else{var k=this.Eb();k.type=8;k.mb=f;k.Mb=1;this.jb=!0;this.Pa=!1}e[f++]=a;e[f++]=b;e[f++]=c;e[f++]=d;this.ag=f};c.prototype.Rb=function(a){if(this.ah!==a){if(!this.Ca[a]){if(0===this.ah)return;a=0}var b=this.Eb();b.type=9;this.ah=b.mb=a;this.jb=this.Pa=!1}};c.prototype.yh=function(a){a=this.Ca[a];return!(!a.cf&&!a.bf)};c.prototype.Xl=function(a){a=this.Ca[a];return!!(a.cf||a.bf||a.yn)};c.prototype.Wl=function(a){return this.Ca[a].Uc};
c.prototype.vu=function(a){a=this.Ca[a];return 0!==a.Hk||0!==a.Ik};c.prototype.gt=function(a){return this.Ca[a].Hk};c.prototype.ht=function(a){return this.Ca[a].Ik};c.prototype.it=function(a,b){return this.Ca[a].T[b][2]};c.prototype.oj=function(a){return this.Ca[a].dn};c.prototype.eg=function(a,b,c,d,f,e,k,l,n,g,h,r,x,m,p){var A=this.Ca[this.ah],q,E;if(A.Ct||p.length){q=this.Eb();q.type=10;q.S?bc(this.ic,q.S):q.S=ac();E=q.S;E[0]=b;E[1]=c;E[2]=d;E[3]=f;E[4]=e;E[5]=k;E[6]=l;E[7]=n;E[8]=g;E[9]=h;E[10]=
r;E[11]=x;E[12]=m;A.ih?q.Ec=a:q.Ec=null;if(p.length)for(c=q.Bp,c.length=p.length,a=0,b=p.length;a<b;a++)c[a]=p[a];this.jb=this.Pa=!1}};c.prototype.clear=function(a,b,c,d){var f=this.Eb();f.type=7;f.mb=0;f.S||(f.S=ac());f.S[0]=a;f.S[1]=b;f.S[2]=c;f.S[3]=d;this.jb=this.Pa=!1};c.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var f=this.Eb();f.type=7;f.mb=1;f.S||(f.S=ac());f.S[0]=a;f.S[1]=b;f.S[2]=c;f.S[3]=d;this.jb=this.Pa=!1}};c.prototype.wp=function(a){if(this.la&&(a=!!a,this.Sg!==a)){var b=
this.Eb();b.type=14;b.mb=a?1:0;this.jb=this.Pa=!1;this.Sg=a;this.uj=null;this.Sg?this.Rb(2):this.Rb(0)}};c.prototype.vp=function(a){if(this.la){var b=this.Eb();b.type=13;b.mb=a?1:0;this.jb=this.Pa=!1}};c.prototype.Kn=function(){bc(this.tl,n);this.md();this.ad();var a=this.width/2,b=this.height/2;this.ue(-a,b,a,b,a,-b,-a,-b);bc(n,this.ic);this.ad()};c.prototype.up=function(a,b,c){this.Rb(3);var d=this.Eb();d.type=12;d.S||(d.S=ac());d.S[0]=a;d.S[1]=b;d.S[2]=c;d.S[3]=1;this.jb=this.Pa=!1};c.prototype.Lu=
function(){this.Rb(0)};c.prototype.Au=function(){this.Rb(2)};c.prototype.uu=function(){this.gd();this.B.flush()};var q=[],b={};c.prototype.Er=function(){P(q);b={}};c.prototype.Vf=function(a,c,l,d){c=!!c;l=!!l;var f=a.src+","+c+","+l+(c?",undefined":""),e=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(f))return e=b[f],e.ci++,e;this.gd();var k=this.B,u=ia(a.width)&&ia(a.height),e=k.createTexture();k.bindTexture(k.TEXTURE_2D,e);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var n=k.RGBA,g=
k.RGBA,h=k.UNSIGNED_BYTE;if(d&&!this.ie)switch(d){case 1:g=n=k.RGB;break;case 2:h=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:g=n=k.RGB,h=k.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!u&&c){d=document.createElement("canvas");d.width=ja(a.width);d.height=ja(a.height);var r=d.getContext("2d");"undefined"!==typeof r.imageSmoothingEnabled?r.imageSmoothingEnabled=l:(r.webkitImageSmoothingEnabled=l,r.mozImageSmoothingEnabled=l,r.msImageSmoothingEnabled=l);r.drawImage(a,
0,0,a.width,a.height,0,0,d.width,d.height);k.texImage2D(k.TEXTURE_2D,0,n,g,h,d)}else k.texImage2D(k.TEXTURE_2D,0,n,g,h,a);c?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));l?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),(u||2<=this.version)&&this.Dn?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,
k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.le=null;e.Le=a.width;e.Ke=a.height;e.ci=1;e.ln=f;q.push(e);return b[f]=e};c.prototype.Wb=function(a,b,c,d,f){this.gd();var e=this.B;this.ie&&(d=!1);var k=e.createTexture();e.bindTexture(e.TEXTURE_2D,k);e.texImage2D(e.TEXTURE_2D,
0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);f?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.le=null;
k.Le=a;k.Ke=b;q.push(k);return k};c.prototype.$p=function(a,b){var c;this.gd();var d=this.B;this.ie&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}d.bindTexture(d.TEXTURE_2D,null);this.le=null};c.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.ci&&1<a.ci?a.ci--:(this.gd(),
a===this.le&&(this.B.bindTexture(this.B.TEXTURE_2D,null),this.le=null),a===this.Xe&&(this.B.activeTexture(this.B.TEXTURE1),this.B.bindTexture(this.B.TEXTURE_2D,null),this.B.activeTexture(this.B.TEXTURE0),this.Xe=null),Ca(q,a),"undefined"!==typeof a.ln&&delete b[a.ln],this.B.deleteTexture(a)))};c.prototype.Cc=function(a){if(a!==this.uj){var b=this.Eb();b.type=6;this.uj=b.Ec=a;this.jb=this.Pa=!1}};fb=c})();
(function(){function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var d=this;this.tc=(this.kl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.he=!!a.dc;this.Kt="undefined"!==typeof window.AppMobi||
this.he;this.rc=!!window.c2cocoonjs;this.Pc=!!window.c2ejecta;this.rc&&(CocoonJS.App.onSuspended.addEventListener(function(){d.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){d.setSuspended(!1)}));this.Pc&&(document.addEventListener("pagehide",function(){d.setSuspended(!0)}),document.addEventListener("pageshow",function(){d.setSuspended(!1)}),document.addEventListener("resize",function(){d.setSize(window.innerWidth,window.innerHeight)}));this.Ga=this.he||this.rc||this.Pc;this.Li=
/edge\//i.test(navigator.userAgent);this.ie=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Li;this.fo=/tizen/i.test(navigator.userAgent);this.jl=/android/i.test(navigator.userAgent)&&!this.fo&&!this.ie&&!this.Li;this.mo=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ie&&!this.Li;this.Ut=/ipad/i.test(navigator.userAgent);this.Pi=this.mo||this.Ut||this.Pc;this.Mt=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ie&&!this.Li;this.Jt=/amazonwebappplatform/i.test(navigator.userAgent);this.Ot=/firefox/i.test(navigator.userAgent);this.nl="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.ko=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.St=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Wg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ql=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.jo=!!window.cr_windows10;this.Qt=this.ko||this.St||this.ql||this.jo;this.Lt=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.eo=this.jl&&!this.Mt&&!this.kl&&!this.Ot&&!this.Jt&&!this.Ga;this.devicePixelRatio=1;this.Lf=this.tc||this.kl||this.Kt||this.rc||this.jl||this.Pi||this.Wg||this.ql||this.Lt||this.fo||this.Pc;this.Lf||
(this.Lf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.ho=!!(this.Pi&&this.tc&&window.webkit);"undefined"===typeof cr_is_preview||this.nl||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.nl=!0);this.canvas=a;this.pn=document.getElementById("c2canvasdiv");this.n=this.B=null;this.Xk="(unavailable)";this.la=!1;this.Pe=0;this.za=null;this.wi=!1;this.Xo=this.Yo=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.he&&(window.c2runtime=this);this.nl&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.eo&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.N=this.width;this.M=this.height;this.li=this.width;this.Bg=this.height;this.Sf=window.innerWidth;this.Rf=window.innerHeight;this.ja=!0;this.Ug=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.u=[];this.ya=[];this.Bl={};this.Rc=[];this.Gk={};this.vd=[];this.qg=[];this.Tj=[];this.nr=[];this.or=[];this.nm=this.Hp=null;this.Ne={};this.ml=this.fe=!1;
this.Qc=0;this.ll=this.pl=!1;this.Mc=[];this.Tg=!1;this.Ti=this.km="";this.Sa=null;this.Ad="";this.Hh=this.Dp=!1;this.vi=[];this.Oe=this.Df=0;this.So=30;this.uk=this.nh=0;this.lg=1;this.Ob=new Va;this.$j=new Va;this.cj=this.Ai=this.Eg=this.De=this.Ze=this.Lk=this.Qi=0;this.wg=null;this.Bk=[];this.Fk=[];this.si=-1;this.Jl=[[]];this.Bm=this.Xi=0;this.qj(null);this.Fg=this.Uo=this.ph=0;this.Kj=[];this.ym=this.Zl=-1;this.Yg=!0;this.Vi=0;this.Mi=!1;this.Ou=0;this.vg=null;this.uc=this.Vn=!1;this.Wo=new ba;
this.Pl=new ba;this.Ql=new ba;this.lf=[];this.Yc=new Xa([]);this.wm=new Xa([]);this.vf=[];this.Ng={};this.Zd={};this.Rd={};this.pg={};this.hn={};this.vo=this.Si=this.Ha=this.Ra=this.uo=this.Ri=this.ma=null;this.ng=this.rl=!1;this.Nk=[null,null];this.Hf=0;this.Dd={};this.Fh=this.oe=null;this.Fp="";this.bj=[];this.zu()}}function g(a,d){return 128>=d?a[3]:256>=d?a[2]:512>=d?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function l(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function n(a,d,h,b){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=l;f.onerror=b;f.onsuccess=function(f){f=f.target.result;f.onerror=b;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:d}).onsuccess=h}}catch(c){b(c)}}function q(a,d,h){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=l;b.onerror=h;b.onsuccess=function(b){b=b.target.result;b.onerror=h;var f=b.transaction(["saves"]).objectStore("saves").get(a);f.onsuccess=function(){f.result?
d(f.result.data):d(null)}}}catch(f){h(f)}}function b(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var d,h={};for(d in a)!a.hasOwnProperty(d)||a[d]instanceof ba||a[d]&&"undefined"!==typeof a[d].fw||"spriteCreatedDestroyCallback"!==d&&(h[d]=a[d]);return h}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.zu=function(){var a=this;if(this.ho)this.Ss(function(d){a.fh(JSON.parse(d))},function(){alert("Error fetching data.js")});else{var d;this.Wg?d=new ActiveXObject("Microsoft.XMLHTTP"):d=new XMLHttpRequest;var h="data.js";if(this.ko||this.Wg||this.ql||this.jo)h="data.json";d.open("GET",h,!0);var b=!1;if(!this.Ga&&"response"in d&&"responseType"in d)try{d.responseType="json",b="json"===d.responseType}catch(f){b=!1}if(!b&&"responseType"in
d)try{d.responseType="text"}catch(c){}if("overrideMimeType"in d)try{d.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.Wg?d.onreadystatechange=function(){4===d.readyState&&a.fh(JSON.parse(d.responseText))}:(d.onload=function(){if(b)a.fh(d.response);else if(a.Pc){var h=d.responseText,h=h.substr(h.indexOf("{"));a.fh(JSON.parse(h))}else a.fh(JSON.parse(d.responseText))},d.onerror=function(a){ea("Error requesting "+h+":");ea(a)});d.send()}};c.prototype.Ft=function(){var a=this,d,h,b,
f,c,e,k,r,p;this.We=(!this.Ga||this.Pc||this.tc)&&this.Vu&&!this.eo;0===this.Jb&&this.Pi&&(this.We=!1);this.devicePixelRatio=this.We?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.pb();0<this.Jb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();a.eu();da("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.n.Zn();a.n.nf(a.n.width,a.n.height,!0);a.Ra=null;a.Ha=null;a.Nk[0]=null;a.Nk[1]=null;a.fu();a.ja=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.js&&(this.rc||this.Pc||!this.Ga)&&(d={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.jl||(this.B=this.canvas.getContext("webgl2",d)),this.B||(this.B=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d)))}catch(l){}if(this.B){if(d=
this.B.getExtension("WEBGL_debug_renderer_info"))this.Xk=this.B.getParameter(d.UNMASKED_RENDERER_WEBGL)+" ["+this.B.getParameter(d.UNMASKED_VENDOR_WEBGL)+"]";this.la&&(this.Xk+=" [front-to-back enabled]");this.Ga||(this.kb=document.createElement("canvas"),jQuery(this.kb).appendTo(this.canvas.parentNode),this.kb.oncontextmenu=function(){return!1},this.kb.onselectstart=function(){return!1},this.kb.width=Math.round(this.li*this.devicePixelRatio),this.kb.height=Math.round(this.Bg*this.devicePixelRatio),
jQuery(this.kb).css({width:this.li+"px",height:this.Bg+"px"}),this.jp(),this.Tl=this.kb.getContext("2d"));this.n=new fb(this.B,this.Lf,this.la);this.n.nf(this.canvas.width,this.canvas.height);this.n.Dn=0!==this.as;this.za=null;d=0;for(h=this.u.length;d<h;d++)for(c=this.u[d],b=0,f=c.O.length;b<f;b++)k=c.O[b],k.Ka=this.n.Wk(k.id),k.Uc=this.n.Wl(k.Ka),this.ng=this.ng||this.n.yh(k.Ka);d=0;for(h=this.Rc.length;d<h;d++){r=this.Rc[d];b=0;for(f=r.O.length;b<f;b++)k=r.O[b],k.Ka=this.n.Wk(k.id),k.Uc=this.n.Wl(k.Ka);
r.$c();b=0;for(f=r.Q.length;b<f;b++){p=r.Q[b];c=0;for(e=p.O.length;c<e;c++)k=p.O[c],k.Ka=this.n.Wk(k.id),k.Uc=this.n.Wl(k.Ka),this.ng=this.ng||this.n.yh(k.Ka);p.$c()}}}else{if(0<this.Jb&&this.he){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.za=AppMobi.canvas.getContext("2d");try{this.za.samplingMode=this.pa?"smooth":"sharp",this.za.globalScale=1,this.za.HTML5CompatibilityMode=!0,this.za.imageSmoothingEnabled=this.pa}catch(u){}0!==this.width&&
0!==this.height&&(this.za.width=this.width,this.za.height=this.height)}this.za||(this.rc?(d={antialias:!!this.pa,alpha:!0},this.za=this.canvas.getContext("2d",d)):(d={alpha:!0},this.za=this.canvas.getContext("2d",d)),this.yj(this.za,this.pa));this.Tl=this.kb=null}this.Mp=function(d){a.xb(!1,d)};window==window.top||this.Ga||this.Qt||this.Wg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.rc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.Ti="__c2_continuouspreview",this.Hh=!0),this.mu&&!this.Lf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var d=window.parent;d&&d.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.re()});this.Ga||(d=function(a){if(eb(a)&&document.activeElement&&document.activeElement!==
document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(d){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Jb&&this.We&&1<this.devicePixelRatio&&this.setSize(this.Ua,this.Ta,!0);this.Qp();this.zt();this.go();this.I={}};c.prototype.setSize=function(a,
d,h){var b=0,f=0,c=0,k=0,k=0;if(this.Sf!==a||this.Rf!==d||h){this.Sf=a;this.Rf=d;var e=this.Jb;if((c=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Mi)&&!this.tc)||0!==this.Jb||h)c&&(e=this.Hf),h=this.devicePixelRatio,4<=e?(c=this.Ua/this.Ta,a/d>c?(c*=d,5===e?(k=c*h/this.Ua,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),c=this.Ua*k/h,k=this.Ta*k/h,b=(a-c)/2,f=(d-k)/2,a=c,d=k):(b=(a-c)/2,a=c)):(k=a/c,5===e?(k=k*h/this.Ta,1<k?k=Math.floor(k):
1>k&&(k=1/Math.ceil(1/k)),c=this.Ua*k/h,k=this.Ta*k/h,b=(a-c)/2,f=(d-k)/2,a=c):f=(d-k)/2,d=k)):c&&0===e&&(b=Math.floor((a-this.Ua)/2),f=Math.floor((d-this.Ta)/2),a=this.Ua,d=this.Ta),2>e&&(this.ug=h),this.li=Math.round(a),this.Bg=Math.round(d),this.width=Math.round(a*h),this.height=Math.round(d*h),this.ja=!0,this.bq?(this.N=this.width,this.M=this.height,this.ec=!0):this.width<this.Ua&&this.height<this.Ta||1===e?(this.N=this.width,this.M=this.height,this.ec=!0):(this.N=this.Ua,this.M=this.Ta,this.ec=
!1,2===e?(c=this.Ua/this.Ta,e=this.Sf/this.Rf,e<c?this.N=this.M*e:e>c&&(this.M=this.N/e)):3===e&&(c=this.Ua/this.Ta,e=this.Sf/this.Rf,e>c?this.N=this.M*e:e<c&&(this.M=this.N/e))),this.pn&&!this.Ga&&(jQuery(this.pn).css({width:Math.round(a)+"px",height:Math.round(d)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(d)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*h),
this.canvas.height=Math.round(d*h),this.Pc?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(f)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px"):this.We&&!this.Ga&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px")),this.kb&&(this.kb.width=Math.round(a*h),this.kb.height=Math.round(d*h),this.kb.style.width=this.li+"px",this.kb.style.height=this.Bg+"px"),this.n&&this.n.nf(Math.round(a*h),Math.round(d*
h)),this.he&&this.za&&(this.za.width=Math.round(a),this.za.height=Math.round(d)),this.za&&this.yj(this.za,this.pa),this.Qp(),this.mo&&!this.tc&&window.scrollTo(0,0)}};c.prototype.Qp=function(){if(this.qr&&0!==this.Sl){var a="portrait";2===this.Sl&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(d){console&&console.warn&&console.warn("Failed to lock orientation: ",d)}}};c.prototype.eu=function(){this.n.Er();this.rl=!0;var a,d,h;a=0;for(d=this.u.length;a<d;a++)h=this.u[a],h.vh&&h.vh()};c.prototype.fu=function(){this.rl=!1;var a,d,h;a=0;for(d=this.u.length;a<d;a++)h=this.u[a],h.wh&&h.wh()};c.prototype.jp=function(){if(!this.Ga){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.Mi)&&!this.tc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.kb).css(a)}};var v=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(a){var d;if(a&&!this.Ug)for(da("[Construct 2] Suspending"),this.Ug=!0,-1!==this.Zl&&v&&v(this.Zl),-1!==this.ym&&clearTimeout(this.ym),a=0,d=this.Kj.length;a<d;a++)this.Kj[a](!0);else if(!a&&
this.Ug){da("[Construct 2] Resuming");this.Ug=!1;this.Qi=Qa();this.Ze=Qa();a=this.nh=this.Ai=0;for(d=this.Kj.length;a<d;a++)this.Kj[a](!1);this.xb(!1)}};c.prototype.Pd=function(a){return this.bj[a]};c.prototype.fh=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.Jn=a[1];this.Jb=a[12];this.Ua=a[10];this.Ta=a[11];this.ep=this.Ua/2;this.fp=this.Ta/2;this.Ga&&!this.Pc&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Jb=3);this.Im=a[18];this.pe=a[19];if(0===this.pe){var d=new Image;d.crossOrigin="anonymous";this.xp(d,"loading-logo.png");this.oe={Yi:d}}else if(4===this.pe){d=new Image;d.src="";var h=new Image;h.src="";var b=new Image;b.src="";var f=new Image;f.src="";var c=new Image;c.src="";var k=new Image;k.src="";var e=new Image;e.src="";var r=new Image;r.src="";var p=new Image;p.src="";var l=new Image;l.src="";var u=new Image;u.src="";var n=new Image;n.src="";this.oe={Yi:[d,h,b,f],ru:[c,k,e,r],Yu:[p,l,
u,n]}}this.ph=a[21];this.bj=fc();this.nd=new Y(this);d=0;for(h=a[2].length;d<h;d++)e=a[2][d],b=this.Pd(e[0]),gb(e,b.prototype),r=new b(this),r.Cj=e[1],r.ke=e[2],r.Tt=e[5],r.To=e[9],r.R&&r.R(),this.plugins.push(r);this.bj=fc();d=0;for(h=a[3].length;d<h;d++){e=a[3][d];c=this.Pd(e[1]);r=null;b=0;for(f=this.plugins.length;b<f;b++)if(this.plugins[b]instanceof c){r=this.plugins[b];break}p=new r.ka(r);p.name=e[0];p.D=e[2];p.il=e[3].slice(0);p.Xu=e[3].length;p.rr=e[4];p.Vs=e[5];p.X=e[11];p.D?(p.ef=[],p.wd=
this.Fg++,p.wa=null):(p.ef=null,p.wd=-1,p.wa=[]);p.ti=null;p.Ff=null;p.En=null;p.Nb=!1;p.Vb=null;e[6]?(p.Nj=e[6][0],p.xm=e[6][1],p.Lh=e[6][2]):(p.Nj=null,p.xm=0,p.Lh=0);e[7]?p.Ub=e[7]:p.Ub=null;p.index=d;p.c=[];p.pi=[];p.Kd=[new hb(p)];p.fd=0;p.pc=null;p.Kr=0;p.hg=!0;p.Vj=ib;p.Ys=jb;p.dt=kb;p.W=lb;p.zh=mb;p.pj=nb;p.jf=qb;p.Bi=rb;p.Ok=sb;p.Sk=tb;p.lc=ub;p.Tk=vb;p.xg=new Ya(this.Ua,this.Ta);p.Vh=!0;p.Wh=!1;p.I={};p.toString=wb;p.ya=[];b=0;for(f=e[8].length;b<f;b++){l=e[8][b];u=this.Pd(l[1]);n=null;
c=0;for(k=this.ya.length;c<k;c++)if(this.ya[c]instanceof u){n=this.ya[c];break}n||(n=new u(this),n.Ol=[],n.aj=new ba,n.R&&n.R(),this.ya.push(n),gc&&n instanceof gc&&(this.Hp=n),Yb.Nu&&n instanceof Yb.Nu&&(this.nm=n));-1===n.Ol.indexOf(p)&&n.Ol.push(p);c=new n.ka(n,p);c.name=l[0];c.X=l[2];c.R();p.ya.push(c)}p.global=e[9];p.ol=e[10];p.O=[];b=0;for(f=e[12].length;b<f;b++)p.O.push({id:e[12][b][0],name:e[12][b][1],Ka:-1,Uc:!1,Wa:!0,index:b});p.Dw=e[13];this.Im&&!p.D&&!p.ol&&r.ke||p.R();p.name&&(this.types[p.name]=
p);this.u.push(p);r.Cj&&(b=new r.aa(p),b.uid=this.ph++,b.mp=this.Uo++,b.Ve=0,b.Lg=xb,b.toString=yb,b.C=e[14],b.R(),p.c.push(b),this.Dd[b.uid.toString()]=b)}d=0;for(h=a[4].length;d<h;d++)for(c=a[4][d],k=this.u[c[0]],b=1,f=c.length;b<f;b++)e=this.u[c[b]],e.wa.push(k),k.ef.push(e);d=0;for(h=a[28].length;d<h;d++){c=a[28][d];k=[];b=0;for(f=c.length;b<f;b++)k.push(this.u[c[b]]);b=0;for(f=k.length;b<f;b++)k[b].Nb=!0,k[b].Vb=k}if(0<this.Fg)for(d=0,h=this.u.length;d<h;d++)if(e=this.u[d],!e.D&&e.wa.length){e.ti=
Array(this.Fg);e.Ff=Array(this.Fg);e.En=Array(this.Fg);p=[];b=n=u=l=0;for(f=e.wa.length;b<f;b++)for(r=e.wa[b],e.ti[r.wd]=l,l+=r.Xu,e.Ff[r.wd]=u,u+=r.rr,e.En[r.wd]=n,n+=r.Vs,c=0,k=r.O.length;c<k;c++)p.push(ua({},r.O[c]));e.O=p.concat(e.O);b=0;for(f=e.O.length;b<f;b++)e.O[b].index=b}d=0;for(h=a[5].length;d<h;d++)e=a[5][d],b=new zb(this,e),this.Bl[b.name]=b,this.Rc.push(b);d=0;for(h=a[6].length;d<h;d++)e=a[6][d],b=new Ab(this,e),this.Gk[b.name]=b,this.vd.push(b);d=0;for(h=this.vd.length;d<h;d++)this.vd[d].Ea();
d=0;for(h=this.vd.length;d<h;d++)this.vd[d].Em();d=0;for(h=this.Tj.length;d<h;d++)this.Tj[d].Ea();P(this.Tj);this.pr=a[7];this.Tc=a[9];this.ug=1;this.js=a[13];this.pa=a[14];this.tn=a[15];this.Vu=a[17];this.Sl=a[20];this.qr=0<this.Sl;this.mu=a[22];this.ec=this.bq=a[23];this.as=a[24];this.su=a[25];this.la=a[27]&&!this.ie;this.Gj=Date.now();P(this.bj);this.Ft()};var d=!1,f=0,e=[];c.prototype.yu=function(a,d){function h(){f--;b.Oo()}var b=this;a.addEventListener("load",h);a.addEventListener("error",h);
e.push([a,d]);this.Oo()};c.prototype.Oo=function(){for(var a;e.length&&100>f;)f++,a=e.shift(),this.xp(a[0],a[1])};c.prototype.Zj=function(a,h){a.cocoonLazyLoad=!0;a.onerror=function(h){d=a.kn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",h)};this.Pc?a.src=h:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(h,function(d){a.src=d},function(b){d=a.kn=!0;console&&console.error&&console.error("Error extracting image '"+h+"' from expansion file: ",b)}):(a.crossOrigin=
"anonymous",this.yu(a,h)));this.qg.push(a)};c.prototype.Us=function(a){var d,h;d=0;for(h=this.qg.length;d<h;d++)if(this.qg[d].Fr===a)return this.qg[d];return null};var k=0,u=!1;c.prototype.zt=function(){this.vg&&(k=this.vg.zw(this.pr))};c.prototype.en=function(){var a=k,d=0,h=0,b=!0,f,c,h=0;for(f=this.qg.length;h<f;h++){c=this.qg[h];var e=c.vk;if(!e||0>=e)e=5E4;a+=e;c.src&&(c.complete||c.loaded)&&!c.kn?d+=e:b=!1}b&&this.su&&this.vg&&(u||(this.vg.Aw(),u=!0),h=this.vg.jw(),d+=h,h<k&&(b=!1));this.Vc=
0==a?1:d/a;return b};var H=!1;c.prototype.go=function(){if(this.za||this.n){var a=this.za||this.Tl;this.kb&&this.jp();var h=window.innerWidth,b=window.innerHeight;this.Sf===h&&this.Rf===b||this.setSize(h,b);this.Vc=0;this.so=-1;var f=this;if(this.en()&&(4!==this.pe||H))this.At();else{b=Date.now()-this.Gj;if(a){var c=this.width,e=this.height,h=this.devicePixelRatio;if(3>this.pe&&(this.rc||500<=b&&this.so!=this.Vc)){a.clearRect(0,0,c,e);var b=c/2,e=e/2,c=0===this.pe&&this.oe.Yi.complete,k=40*h,p=0,
r=80*h,l;if(c){var n=this.oe.Yi,r=n.width*h;l=n.height*h;k=r/2;p=l/2;a.drawImage(n,y(b-k),y(e-p),r,l)}1>=this.pe?(b=y(b-k)+.5,e=y(e+(p+(c?12*h:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(b,e,Math.floor(r*this.Vc),6*h),a.strokeStyle="black",a.strokeRect(b,e,r,6*h),a.strokeStyle="white",a.strokeRect(b-1*h,e-1*h,r+2*h,8*h)):2===this.pe&&(a.font=this.Pc?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.Cw="middle",h=Math.round(100*this.Vc)+"%",c=a.measureText?a.measureText(h):null,a.fillText(h,
b-(c?c.width:0)/2,e));this.so=this.Vc}else if(4===this.pe){this.gs(a);t?t(function(){f.go()}):setTimeout(function(){f.go()},16);return}}setTimeout(function(){f.go()},this.rc?10:100)}}};var G=-1,h="undefined"===typeof cr_is_preview?200:0,r=!0,x=!1,S=0,p=0,A="undefined"===typeof cr_is_preview?3E3:0,N=null,E=null,T=0;c.prototype.gs=function(a){if(!H){for(var b=Math.ceil(this.width),f=Math.ceil(this.height),c=this.oe.Yi,e=this.oe.ru,k=this.oe.Yu,l=0;4>l;++l)if(!c[l].complete||!e[l].complete||!k[l].complete)return;
0===T&&(G=Date.now());var l=Date.now(),n=!1,u=a,m,q;r||x?(a.clearRect(0,0,b,f),N&&N.width===b&&N.height===f||(N=document.createElement("canvas"),N.width=b,N.height=f,E=N.getContext("2d")),u=E,n=!0,r&&1===T&&(G=Date.now())):a.globalAlpha=1;u.fillStyle="#333333";u.fillRect(0,0,b,f);256<this.Bg?(m=Da(.22*f,105,.6*b),q=.25*m,u.drawImage(g(e,m),.5*b-m/2,.2*f-q/2,m,q),q=m=Math.min(.395*f,.95*b),u.drawImage(g(c,m),.5*b-m/2,.485*f-q/2,m,q),m=Da(.22*f,105,.6*b),q=.25*m,u.drawImage(g(k,m),.5*b-m/2,.868*f-q/
2,m,q),u.fillStyle="#3C3C3C",m=b,q=Math.max(.005*f,2),u.fillRect(0,.8*f-q/2,m,q),u.fillStyle=d?"red":"#E0FF65",m=b*this.Vc,u.fillRect(.5*b-m/2,.8*f-q/2,m,q)):(q=m=.55*f,u.drawImage(g(c,m),.5*b-m/2,.45*f-q/2,m,q),u.fillStyle="#3C3C3C",m=b,q=Math.max(.005*f,2),u.fillRect(0,.85*f-q/2,m,q),u.fillStyle=d?"red":"#E0FF65",m=b*this.Vc,u.fillRect(.5*b-m/2,.85*f-q/2,m,q));n&&(r?a.globalAlpha=0===T?0:Math.min((l-G)/300,1):x&&(a.globalAlpha=Math.max(1-(l-p)/300,0)),a.drawImage(N,0,0,b,f));r&&300<=l-G&&2<=T&&
(r=!1,S=l);!r&&l-S>=A&&!x&&1<=this.Vc&&(x=!0,p=l);if(x&&l-p>=300+h||"undefined"!==typeof cr_is_preview&&1<=this.Vc&&500>Date.now()-G)H=!0,x=r=!1,this.oe=E=N=null;++T}};c.prototype.At=function(){this.kb&&(this.canvas.parentNode.removeChild(this.kb),this.kb=this.Tl=null);this.Gj=Date.now();this.Ze=Qa();var a,d,h;if(this.Im)for(a=0,d=this.u.length;a<d;a++)h=this.u[a],h.D||h.ol||!h.ra.ke||h.R();else this.Yg=!1;a=0;for(d=this.Rc.length;a<d;a++)this.Rc[a].Hr();2<=this.Jb&&(a=this.Ua/this.Ta,d=this.width/
this.height,this.ug=2!==this.Jb&&d>a||2===this.Jb&&d<a?this.height/this.Ta:this.width/this.Ua);this.Jn?this.Bl[this.Jn].um():this.Rc[0].um();this.Im||(this.Vi=1,this.trigger(Y.prototype.k.Pm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(d=this.u.length;a<d;a++)h=this.u[a],h.du&&h.du();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.xb(!1);this.he&&
AppMobi.webview.execute("onGameReady();")};c.prototype.xb=function(a,d,h){if(this.ma){var b=Qa();if(h||!this.Ug||a){a||(t?this.Zl=t(this.Mp):this.ym=setTimeout(this.Mp,this.Lf?1:16));d=d||b;var f=this.Jb;((h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.tc)||this.Mi)&&0<this.Hf&&(f=this.Hf);if(0<f){var f=window.innerWidth,c=window.innerHeight;this.Sf===f&&this.Rf===c||this.setSize(f,c)}this.Ga||(h?this.wi||(this.wi=!0):this.wi?(this.wi=
!1,0===this.Jb&&this.setSize(Math.round(this.Yo/this.devicePixelRatio),Math.round(this.Xo/this.devicePixelRatio),!0)):(this.Yo=this.width,this.Xo=this.height));this.Yg&&(h=this.en(),this.Vi=this.Vc,h&&(this.Yg=!1,this.Vc=1,this.trigger(Y.prototype.k.Pm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Yt(d);!this.ja&&!this.rc||this.rl||this.Hh||a||(this.ja=!1,this.n?this.Bb():this.qc(),this.Fh&&(this.canvas&&this.canvas.toDataURL&&(this.Fp=this.canvas.toDataURL(this.Fh[0],this.Fh[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.Fp),this.trigger(Y.prototype.k.Eq,null)),this.Fh=null));this.kw||(this.De++,this.Eg++,this.Ai++);this.nh+=Qa()-b}}};c.prototype.Yt=function(a){var d,h,b,f,c,e,k,p;1E3<=a-this.Ze&&(this.Ze+=1E3,1E3<=a-this.Ze&&(this.Ze=a),this.Lk=this.Ai,this.Ai=0,this.uk=this.nh,this.nh=0);d=0;0!==this.Qi&&(d=a-this.Qi,0>d&&(d=0),this.Oe=d/=1E3,.5<this.Oe?this.Oe=0:this.Oe>1/this.So&&(this.Oe=1/this.So));this.Qi=a;this.Df=this.Oe*this.lg;this.Ob.add(this.Df);this.$j.add(d);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Mi)&&!this.tc;2<=this.Jb||a&&0<this.Hf?(d=this.Ua/this.Ta,h=this.width/this.height,b=this.Jb,a&&0<this.Hf&&(b=this.Hf),this.ug=2!==b&&h>d||2===b&&h<d?this.height/this.Ta:this.width/this.Ua,this.ma&&(this.ma.lm(this.ma.scrollX),this.ma.mm(this.ma.scrollY))):this.ug=this.We?this.devicePixelRatio:1;this.pb();this.Qc++;this.nd.Du();this.Qc--;this.pb();this.Qc++;h=this.Wo.pd();a=0;for(d=h.length;a<d;a++)h[a].vw();a=
0;for(d=this.u.length;a<d;a++)if(e=this.u[a],!e.D&&(e.ya.length||e.wa.length))for(h=0,b=e.c.length;h<b;h++)for(k=e.c[h],f=0,c=k.L.length;f<c;f++)k.L[f].xb();a=0;for(d=this.u.length;a<d;a++)if(e=this.u[a],!e.D&&(e.ya.length||e.wa.length))for(h=0,b=e.c.length;h<b;h++)for(k=e.c[h],f=0,c=k.L.length;f<c;f++)p=k.L[f],p.qu&&p.qu();h=this.Pl.pd();a=0;for(d=h.length;a<d;a++)h[a].xb();this.Qc--;this.Bt();for(a=0;this.wg&&10>a++;)this.Cn(this.wg);a=0;for(d=this.vd.length;a<d;a++)this.vd[a].al=!1;this.ma.Qe&&
this.ma.Qe.Ja();P(this.lf);this.Qc++;a=0;for(d=this.u.length;a<d;a++)if(e=this.u[a],!e.D&&(e.ya.length||e.wa.length))for(h=0,b=e.c.length;h<b;h++)for(k=e.c[h],f=0,c=k.L.length;f<c;f++)p=k.L[f],p.kg&&p.kg();h=this.Ql.pd();a=0;for(d=h.length;a<d;a++)h[a].kg();this.Qc--};c.prototype.re=function(){var a,d,h,b,f,e,c,k,p;a=0;for(d=this.u.length;a<d;a++)if(c=this.u[a],!c.D)for(h=0,b=c.c.length;h<b;h++)if(k=c.c[h],k.re&&k.re(),k.L)for(f=0,e=k.L.length;f<e;f++)p=k.L[f],p.re&&p.re()};c.prototype.Cn=function(a){var d=
this.ma;this.ma.Pu();var h,b,f;if(this.n)for(h=0,b=this.u.length;h<b;h++)f=this.u[h],f.D||!f.Uj||f.global&&0!==f.c.length||-1!==a.Qg.indexOf(f)||f.Uj();d==a&&P(this.nd.Sb);P(this.lf);this.rp(!0);a.um();this.rp(!1);this.ja=!0;this.pb()};c.prototype.rp=function(a){var d,h,b,f,e,c,k,p,r;d=0;for(h=this.ya.length;d<h;d++)b=this.ya[d],a?b.qh&&b.qh():b.uh&&b.uh();d=0;for(h=this.u.length;d<h;d++)if(b=this.u[d],b.global||b.ra.Cj)for(f=0,e=b.c.length;f<e;f++)if(c=b.c[f],a?c.qh&&c.qh():c.uh&&c.uh(),c.L)for(k=
0,p=c.L.length;k<p;k++)r=c.L[k],a?r.qh&&r.qh():r.uh&&r.uh()};c.prototype.Pj=function(a){this.Pl.add(a)};c.prototype.Lp=function(a){this.Ql.add(a)};c.prototype.Se=function(a){return a&&-1!==a.oh?this.Oe*a.oh:this.Df};c.prototype.qc=function(){this.ma.qc(this.za);this.he&&this.za.present()};c.prototype.Bb=function(){this.la&&(this.Pe=1,this.ma.Cf(this.n));this.ma.Bb(this.n);this.n.uu()};c.prototype.jr=function(a){a&&this.Bk.push(a)};c.prototype.Rn=function(a){a=a.toString();return this.Dd.hasOwnProperty(a)?
this.Dd[a]:null};var J=[];c.prototype.Od=function(a){var d,h;d=a.type.name;var b=null;if(this.Ne.hasOwnProperty(d)){if(b=this.Ne[d],b.contains(a))return}else b=J.length?J.pop():new ba,this.Ne[d]=b;b.add(a);this.fe=!0;if(a.Nb)for(d=0,h=a.siblings.length;d<h;d++)this.Od(a.siblings[d]);this.ml&&b.og.push(a);this.ll||(this.Qc++,this.trigger(Object.getPrototypeOf(a.type.ra).k.Gq,a),this.Qc--)};c.prototype.pb=function(){if(this.fe){var a,d,h,b,f,c;this.ml=!0;h=0;for(f=this.Mc.length;h<f;++h)for(a=this.Mc[h],
d=a.type,d.c.push(a),b=0,c=d.wa.length;b<c;++b)d.wa[b].c.push(a),d.wa[b].hg=!0;P(this.Mc);this.yq();Pa(this.Ne);this.fe=this.ml=!1}};c.prototype.yq=function(){for(var a in this.Ne)this.Ne.hasOwnProperty(a)&&this.iq(this.Ne[a])};c.prototype.iq=function(a){var d=a.pd(),h=d[0].type,b,f,c,e,k,p;Sa(h.c,a);h.hg=!0;0===h.c.length&&(h.Wh=!1);b=0;for(f=h.wa.length;b<f;++b)p=h.wa[b],Sa(p.c,a),p.hg=!0;b=0;for(f=this.nd.Sb.length;b<f;++b)if(k=this.nd.Sb[b],k.Fb.hasOwnProperty(h.index)&&Sa(k.Fb[h.index].yd,a),
!h.D)for(c=0,e=h.wa.length;c<e;++c)p=h.wa[c],k.Fb.hasOwnProperty(p.index)&&Sa(k.Fb[p.index].yd,a);if(k=d[0].j){if(k.kc)for(c=k.c,b=0,f=c.length;b<f;++b)e=c[b],a.contains(e)&&(e.ea(),k.lb.update(e,e.Qb,null),e.Qb.set(0,0,-1,-1));Sa(k.c,a);k.Bh(0)}for(b=0;b<d.length;++b)this.hq(d[b],h);a.clear();J.push(a);this.ja=!0};c.prototype.hq=function(a,d){var h,b,f;h=0;for(b=this.Bk.length;h<b;++h)this.Bk[h](a);a.nc&&d.xg.update(a,a.nc,null);(h=a.j)&&h.bg(a,!0);if(a.L)for(h=0,b=a.L.length;h<b;++h)f=a.L[h],f.$f&&
f.$f(),f.behavior.aj.remove(a);this.Wo.remove(a);this.Pl.remove(a);this.Ql.remove(a);a.$f&&a.$f();this.Dd.hasOwnProperty(a.uid.toString())&&delete this.Dd[a.uid.toString()];this.cj--;100>d.pi.length&&d.pi.push(a)};c.prototype.wn=function(a,d,h,b){if(a.D){var f=y(Math.random()*a.ef.length);return this.wn(a.ef[f],d,h,b)}return a.pc?this.$d(a.pc,d,!1,h,b,!1):null};var R=[];c.prototype.$d=function(a,d,h,b,f,c){var e,k,p,r;if(!a)return null;var l=this.u[a[1]],n=l.ra.ke;if(this.Yg&&n&&!l.ol||n&&!this.n&&
11===a[0][11])return null;var u=d;n||(d=null);var g;l.pi.length?(g=l.pi.pop(),g.Bc=!0,l.ra.aa.call(g,l)):(g=new l.ra.aa(l),g.Bc=!1);!h||c||this.Dd.hasOwnProperty(a[2].toString())?g.uid=this.ph++:g.uid=a[2];this.Dd[g.uid.toString()]=g;g.mp=this.Uo++;g.Ve=l.c.length;e=0;for(k=this.Mc.length;e<k;++e)this.Mc[e].type===l&&g.Ve++;g.Lg=xb;g.toString=yb;p=a[3];if(g.Bc)Pa(g.I);else{g.I={};if("undefined"!==typeof cr_is_preview)for(g.bo=[],g.bo.length=p.length,e=0,k=p.length;e<k;e++)g.bo[e]=p[e][1];g.Qa=[];
g.Qa.length=p.length}e=0;for(k=p.length;e<k;e++)g.Qa[e]=p[e][0];if(n){var m=a[0];g.x=fa(b)?m[0]:b;g.y=fa(f)?m[1]:f;g.z=m[2];g.width=m[3];g.height=m[4];g.depth=m[5];g.i=m[6];g.opacity=m[7];g.Kb=m[8];g.Lb=m[9];g.qb=m[10];e=m[11];!this.n&&l.O.length&&(g.qb=e);g.yg=ab(g.qb);this.B&&bb(g,g.qb,this.B);if(g.Bc){e=0;for(k=m[12].length;e<k;e++)for(p=0,r=m[12][e].length;p<r;p++)g.Aa[e][p]=m[12][e][p];g.ia.set(0,0,0,0);g.nc.set(0,0,-1,-1);g.Qb.set(0,0,-1,-1);g.yb.ze(g.ia);P(g.lk)}else{g.Aa=m[12].slice(0);e=
0;for(k=g.Aa.length;e<k;e++)g.Aa[e]=m[12][e].slice(0);g.ba=[];g.Qd=[];g.Qd.length=l.O.length;g.ia=new sa(0,0,0,0);g.nc=new sa(0,0,-1,-1);g.Qb=new sa(0,0,-1,-1);g.yb=new ta;g.lk=[];g.F=Bb;g.mr=Cb;g.rb=Db;g.ea=Eb;g.Xp=Fb;g.Hm=Gb;g.jd=Hb}g.Ee=!1;g.Tu=0;g.Su=0;g.Ru=null;14===m.length&&(g.Ee=!0,g.Tu=m[13][0],g.Su=m[13][1],g.Ru=m[13][2]);e=0;for(k=l.O.length;e<k;e++)g.Qd[e]=!0;g.Ed=!0;g.$c=Ib;g.$c();g.Yp=!!g.ba.length;g.bi=!0;g.pk=!0;l.Vh=!0;g.visible=!0;g.oh=-1;g.j=d;g.cd=d.c.length;g.Pe=0;"undefined"===
typeof g.P&&(g.P=null);this.ja=g.oc=!0}var x;P(R);e=0;for(k=l.wa.length;e<k;e++)R.push.apply(R,l.wa[e].ya);R.push.apply(R,l.ya);if(g.Bc)for(e=0,k=R.length;e<k;e++){var A=R[e];x=g.L[e];x.Bc=!0;A.behavior.aa.call(x,A,g);m=a[4][e];p=0;for(r=m.length;p<r;p++)x.C[p]=m[p];x.R();A.behavior.aj.add(g)}else for(g.L=[],e=0,k=R.length;e<k;e++)A=R[e],x=new A.behavior.aa(A,g),x.Bc=!1,x.C=a[4][e].slice(0),x.R(),g.L.push(x),A.behavior.aj.add(g);m=a[5];if(g.Bc)for(e=0,k=m.length;e<k;e++)g.C[e]=m[e];else g.C=m.slice(0);
this.Mc.push(g);this.fe=!0;d&&(d.tg(g,!0),1!==d.yc||1!==d.zc)&&(l.Wh=!0);this.cj++;if(l.Nb){if(g.Nb=!0,g.Bc?P(g.siblings):g.siblings=[],!h&&!c){e=0;for(k=l.Vb.length;e<k;e++)if(l.Vb[e]!==l){if(!l.Vb[e].pc)return null;g.siblings.push(this.$d(l.Vb[e].pc,u,!1,n?g.x:b,n?g.y:f,!0))}e=0;for(k=g.siblings.length;e<k;e++)for(g.siblings[e].siblings.push(g),p=0;p<k;p++)e!==p&&g.siblings[e].siblings.push(g.siblings[p])}}else g.Nb=!1,g.siblings=null;g.R();e=0;for(k=g.L.length;e<k;e++)g.L[e].pu&&g.L[e].pu();return g};
c.prototype.Uk=function(a){var d,h;d=0;for(h=this.ma.Q.length;d<h;d++){var b=this.ma.Q[d];if(db(b.name,a))return b}return null};c.prototype.Ig=function(a){a=y(a);0>a&&(a=0);a>=this.ma.Q.length&&(a=this.ma.Q.length-1);return this.ma.Q[a]};c.prototype.sk=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].W().da=!0};c.prototype.zh=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].zh()};c.prototype.pj=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].pj()};c.prototype.jf=function(a){var d,h;d=0;
for(h=a.length;d<h;d++)a[d].jf()};c.prototype.Vp=function(a){if(a.Vh){var d,h,b=a.c;d=0;for(h=b.length;d<h;++d)b[d].Hm();b=this.Mc;d=0;for(h=b.length;d<h;++d)b[d].type===a&&b[d].Hm();a.Vh=!1}};c.prototype.Qk=function(a,d,h,b){var f,e,c=a?1!==a.yc||1!==a.zc:!1;if(d.D)for(a=0,f=d.ef.length;a<f;++a)e=d.ef[a],c||e.Wh?ya(b,e.c):(this.Vp(e),e.xg.sj(h,b));else c||d.Wh?ya(b,d.c):(this.Vp(d),d.xg.sj(h,b))};c.prototype.Tn=function(a,d,h,b){var f,e;f=0;for(e=d.length;f<e;++f)this.Qk(a,d[f],h,b)};c.prototype.jt=
function(a,d,h){var b=this.Hp;b&&this.Tn(a,b.Ol,d,h)};c.prototype.Mj=function(a,d,h){var b=a.W(),f,e,c,k,p=this.Oa().zb.jc,r,g,l;if(b.da)for(b.da=!1,P(b.c),f=0,k=a.c.length;f<k;f++)c=a.c[f],c.ea(),r=c.j.fb(d,h,!0),g=c.j.fb(d,h,!1),c.rb(r,g)?b.c.push(c):p&&b.U.push(c);else{e=0;l=p?b.U:b.c;f=0;for(k=l.length;f<k;f++)c=l[f],c.ea(),r=c.j.fb(d,h,!0),g=c.j.fb(d,h,!1),c.rb(r,g)&&(p?b.c.push(c):(b.c[e]=b.c[f],e++));l.length=e}a.lc();return b.$k()};c.prototype.Be=function(a,d){if(!(a&&d&&a!==d&&a.oc&&d.oc))return!1;
a.ea();d.ea();var h=a.j,b=d.j,f,e,c,k,p,r,g,l;if(h===b||h.yc===b.yc&&b.zc===b.zc&&h.scale===b.scale&&h.i===b.i&&h.dd===b.dd){if(!a.ia.Gt(d.ia)||!a.yb.co(d.yb)||a.Ee&&d.Ee)return!1;if(a.Ee)return this.Kp(a,d);if(d.Ee)return this.Kp(d,a);g=a.P&&!a.P.je();f=d.P&&!d.P.je();if(!g&&!f)return!0;g?(a.P.Ud(a.width,a.height,a.i),g=a.P):(this.Yc.ye(a.yb,a.x,a.y,a.width,a.height),g=this.Yc);f?(d.P.Ud(d.width,d.height,d.i),l=d.P):(this.Yc.ye(d.yb,d.x,d.y,d.width,d.height),l=this.Yc);return g.Rg(l,d.x-a.x,d.y-
a.y)}g=a.P&&!a.P.je();f=d.P&&!d.P.je();g?(a.P.Ud(a.width,a.height,a.i),this.Yc.zp(a.P)):this.Yc.ye(a.yb,a.x,a.y,a.width,a.height);g=this.Yc;f?(d.P.Ud(d.width,d.height,d.i),this.wm.zp(d.P)):this.wm.ye(d.yb,d.x,d.y,d.width,d.height);l=this.wm;f=0;for(e=g.Ac;f<e;f++)c=2*f,k=c+1,p=g.Ia[c],r=g.Ia[k],g.Ia[c]=h.Cb(p+a.x,r+a.y,!0),g.Ia[k]=h.Cb(p+a.x,r+a.y,!1);g.ea();f=0;for(e=l.Ac;f<e;f++)c=2*f,k=c+1,p=l.Ia[c],r=l.Ia[k],l.Ia[c]=b.Cb(p+d.x,r+d.y,!0),l.Ia[k]=b.Cb(p+d.x,r+d.y,!1);l.ea();return g.Rg(l,0,0)};
var F=new ta;new sa(0,0,0,0);var K=[];c.prototype.Kp=function(a,d){var h,b,f,e,c=d.ia,k=a.x,p=a.y;a.Mn(c,K);var r=d.P&&!d.P.je();h=0;for(b=K.length;h<b;++h)if(f=K[h],e=f.op,c.Ht(e,k,p)&&(F.ze(e),F.offset(k,p),F.co(d.yb)))if(r)if(d.P.Ud(d.width,d.height,d.i),f.hf){if(f.hf.Rg(d.P,d.x-(k+e.left),d.y-(p+e.top)))return P(K),!0}else{if(this.Yc.ye(F,0,0,e.right-e.left,e.bottom-e.top),this.Yc.Rg(d.P,d.x,d.y))return P(K),!0}else if(f.hf){if(this.Yc.ye(d.yb,0,0,d.width,d.height),f.hf.Rg(this.Yc,-(k+e.left),
-(p+e.top)))return P(K),!0}else return P(K),!0;P(K);return!1};c.prototype.Rp=function(a,d){if(!d)return!1;var h,b,f,e,c;h=0;for(b=a.ya.length;h<b;h++)if(a.ya[h].behavior instanceof d)return!0;if(!a.D)for(h=0,b=a.wa.length;h<b;h++)for(c=a.wa[h],f=0,e=c.ya.length;f<e;f++)if(c.ya[f].behavior instanceof d)return!0;return!1};c.prototype.Cm=function(a){return this.Rp(a,Yb.Dv)};c.prototype.Dm=function(a){return this.Rp(a,Yb.Ev)};var I=[];c.prototype.ac=function(a){var d,h,b;a.ea();this.jt(a.j,a.ia,I);d=
0;for(h=I.length;d<h;++d)if(b=I[d],b.I.solidEnabled&&this.Be(a,b))return P(I),b;P(I);return null};c.prototype.rj=function(a,d,h,b){b=b||50;var f=a.x,e=a.y,c,k=null,p=null;for(c=0;c<b;c++)if(a.x=f+d*c,a.y=e+h*c,a.F(),!this.Be(a,k)&&((k=this.ac(a))&&(p=k),!k&&!k))return p&&this.wu(a,d,h,p),!0;a.x=f;a.y=e;a.F();return!1};c.prototype.wu=function(a,d,h,b){var f=2,e,c=!1;e=!1;for(var k=a.x,p=a.y;16>=f;)e=1/f,f*=2,a.x+=d*e*(c?1:-1),a.y+=h*e*(c?1:-1),a.F(),this.Be(a,b)?e=c=!0:(e=c=!1,k=a.x,p=a.y);e&&(a.x=
k,a.y=p,a.F())};c.prototype.Ah=function(a,d){var h=fa(d)?100:d,b=0,f=a.x,e=a.y,c=0,k=0,p=0,r=this.ac(a);if(!r)return!0;for(;b<=h;){switch(c){case 0:k=0;p=-1;b++;break;case 1:k=1;p=-1;break;case 2:k=1;p=0;break;case 3:p=k=1;break;case 4:k=0;p=1;break;case 5:k=-1;p=1;break;case 6:k=-1;p=0;break;case 7:p=k=-1}c=(c+1)%8;a.x=y(f+k*b);a.y=y(e+p*b);a.F();if(!this.Be(a,r)&&(r=this.ac(a),!r))return!0}a.x=f;a.y=e;a.F();return!1};c.prototype.kf=function(a,d){a.oc&&d.oc&&this.lf.push([a,d])};c.prototype.lr=function(a,
d,h){var b,f,e;b=0;for(f=this.lf.length;b<f;++b){e=this.lf[b];if(e[0]===a)e=e[1];else if(e[1]===a)e=e[0];else continue;if(d.D){if(-1===d.ef.indexOf(d))continue}else if(e.type!==d)continue;-1===h.indexOf(e)&&h.push(e)}};c.prototype.Cr=function(a,d){var h,b,f;h=0;for(b=this.lf.length;h<b;h++)if(f=this.lf[h],f[0]===a&&f[1]===d||f[0]===d&&f[1]===a)return!0;return!1};c.prototype.nn=function(a,d,h){var b=a.x,f=a.y,e=la(10,Ma(d,h,b,f)),c=X(d,h,b,f),k=this.ac(a);if(!k)return Ga(c+na);var p=k,r,g,l,n,u=Q(5);
for(r=1;36>r;r++)if(g=c-r*u,a.x=d+Math.cos(g)*e,a.y=h+Math.sin(g)*e,a.F(),!this.Be(a,p)&&(p=this.ac(a),!p)){l=g;break}36===r&&(l=Ga(c+na));p=k;for(r=1;36>r;r++)if(g=c+r*u,a.x=d+Math.cos(g)*e,a.y=h+Math.sin(g)*e,a.F(),!this.Be(a,p)&&(p=this.ac(a),!p)){n=g;break}36===r&&(n=Ga(c+na));a.x=b;a.y=f;a.F();if(n===l)return n;a=Ja(n,l)/2;a=La(n,l)?Ga(l+a+na):Ga(n+a);l=Math.cos(c);c=Math.sin(c);n=Math.cos(a);a=Math.sin(a);d=l*n+c*a;return X(0,0,l-2*d*n,c-2*d*a)};var O=-1;c.prototype.trigger=function(a,d,h){if(!this.ma)return!1;
var b=this.ma.Qe;if(!b)return!1;var f=!1,e,c,k;O++;var p=b.yk;c=0;for(k=p.length;c<k;++c)e=this.Op(a,d,p[c],h),f=f||e;e=this.Op(a,d,b,h);O--;return f||e};c.prototype.Op=function(a,d,h,b){var f=!1,e,c,k,p;if(d)for(k=this.Am(a,d,d.type.name,h,b),f=f||k,p=d.type.wa,e=0,c=p.length;e<c;++e)k=this.Am(a,d,p[e].name,h,b),f=f||k;else k=this.Am(a,d,"system",h,b),f=f||k;return f};c.prototype.Am=function(a,d,h,b,f){var e,c=!1,k=!1,k="undefined"!==typeof f,p=(k?b.Gn:b.Pp)[h];if(!p)return c;var r=null;b=0;for(e=
p.length;b<e;++b)if(p[b].method==a){r=p[b].Dg;break}if(!r)return c;var g;k?g=r[f]:g=r;if(!g)return null;b=0;for(e=g.length;b<e;b++)a=g[b][0],f=g[b][1],k=this.Qs(d,h,a,f),c=c||k;return c};c.prototype.Qs=function(a,d,h,b){var f,e,c=!1;this.Bm++;var k=this.Oa().zb;k&&this.zh(k.Ae);var p=1<this.Bm;this.zh(h.Ae);p&&this.xu();var r=this.qj(h);r.zb=h;a&&(f=this.types[d].W(),f.da=!1,P(f.c),f.c[0]=a,this.types[d].lc());a=!0;if(h.parent){d=r.Jp;for(f=h.parent;f;)d.push(f),f=f.parent;d.reverse();f=0;for(e=d.length;f<
e;f++)if(!d[f].Fu()){a=!1;break}}a&&(this.Eg++,h.jc?h.Eu(b):h.Ja(),c=c||r.Ye);this.mj();p&&this.ou();this.jf(h.Ae);k&&this.jf(k.Ae);this.fe&&0===this.Qc&&0===O&&!this.pl&&this.pb();this.Bm--;return c};c.prototype.Ci=function(){var a=this.Oa();return a.zb.Xa[a.Na]};c.prototype.Nt=function(){return 0===this.Oa().Na};c.prototype.xu=function(){this.Xi++;this.Xi>=this.Jl.length&&this.Jl.push([])};c.prototype.ou=function(){this.Xi--};c.prototype.Nn=function(){return this.Jl[this.Xi]};c.prototype.qj=function(a){this.si++;
this.si>=this.Fk.length&&this.Fk.push(new Jb);var d=this.Oa();d.reset(a);return d};c.prototype.mj=function(){this.si--};c.prototype.Oa=function(){return this.Fk[this.si]};c.prototype.On=function(a,d){for(var h,b,f,e,c,k;d;){h=0;for(b=d.Dc.length;h<b;h++)if(k=d.Dc[h],k instanceof Kb&&db(a,k.name))return k;d=d.parent}h=0;for(b=this.vd.length;h<b;h++)for(c=this.vd[h],f=0,e=c.be.length;f<e;f++)if(k=c.be[f],k instanceof Kb&&db(a,k.name))return k;return null};c.prototype.Pn=function(a){var d,h;d=0;for(h=
this.Rc.length;d<h;d++)if(this.Rc[d].X===a)return this.Rc[d];return null};c.prototype.Ei=function(a){var d,h;d=0;for(h=this.u.length;d<h;d++)if(this.u[d].X===a)return this.u[d];return null};c.prototype.Zs=function(a){var d,h;d=0;for(h=this.vf.length;d<h;d++)if(this.vf[d].X===a)return this.vf[d];return null};c.prototype.Lr=function(a,d){this.Fh=[a,d];this.ja=!0};c.prototype.Bt=function(){var a=this,d=this.km,h=this.Ad,f=this.Ti,e=!1;this.Dp&&(e=!0,d="__c2_continuouspreview",this.Dp=!1);if(d.length){this.pb();
h=this.Ju();if(m()&&!this.rc)n(d,h,function(){da("Saved state to IndexedDB storage ("+h.length+" bytes)");a.Ad=h;a.trigger(Y.prototype.k.dk,null);a.Ad="";e&&b()},function(f){try{localStorage.setItem("__c2save_"+d,h),da("Saved state to WebStorage ("+h.length+" bytes)"),a.Ad=h,a.trigger(Y.prototype.k.dk,null),a.Ad="",e&&b()}catch(c){da("Failed to save game state: "+f+"; "+c),a.trigger(Y.prototype.k.Sm,null)}});else try{localStorage.setItem("__c2save_"+d,h),da("Saved state to WebStorage ("+h.length+
" bytes)"),a.Ad=h,this.trigger(Y.prototype.k.dk,null),a.Ad="",e&&b()}catch(c){da("Error saving to WebStorage: "+c),a.trigger(Y.prototype.k.Sm,null)}this.Ti=this.km="";this.Sa=null}if(f.length){if(m()&&!this.rc)q(f,function(d){d?(a.Sa=d,da("Loaded state from IndexedDB storage ("+a.Sa.length+" bytes)")):(a.Sa=localStorage.getItem("__c2save_"+f)||"",da("Loaded state from WebStorage ("+a.Sa.length+" bytes)"));a.Hh=!1;a.Sa||(a.Sa=null,a.trigger(Y.prototype.k.Uh,null))},function(){a.Sa=localStorage.getItem("__c2save_"+
f)||"";da("Loaded state from WebStorage ("+a.Sa.length+" bytes)");a.Hh=!1;a.Sa||(a.Sa=null,a.trigger(Y.prototype.k.Uh,null))});else{try{this.Sa=localStorage.getItem("__c2save_"+f)||"",da("Loaded state from WebStorage ("+this.Sa.length+" bytes)")}catch(k){this.Sa=null}this.Hh=!1;a.Sa||(a.Sa=null,a.trigger(Y.prototype.k.Uh,null))}this.km=this.Ti=""}null!==this.Sa&&(this.pb(),this.Xt(this.Sa)?(this.Ad=this.Sa,this.trigger(Y.prototype.k.Pq,null),this.Ad=""):a.trigger(Y.prototype.k.Uh,null),this.Sa=null)};
c.prototype.Ju=function(){var d,h,b,f,e,c,k,p={c2save:!0,version:1,rt:{time:this.Ob.ua,walltime:this.$j.ua,timescale:this.lg,tickcount:this.De,execcount:this.Eg,next_uid:this.ph,running_layout:this.ma.X,start_time_offset:Date.now()-this.Gj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(h=this.u.length;d<h;d++)if(e=this.u[d],!e.D&&!this.Cm(e)){c={instances:[]};Oa(e.I)&&(c.ex=a(e.I));b=0;for(f=e.c.length;b<f;b++)c.instances.push(this.jm(e.c[b]));p.types[e.X.toString()]=c}d=
0;for(h=this.Rc.length;d<h;d++)b=this.Rc[d],p.layouts[b.X.toString()]=b.$a();f=p.events.groups;d=0;for(h=this.vf.length;d<h;d++)b=this.vf[d],f[b.X.toString()]=this.Ng[b.Mg].Jf;h=p.events.cnds;for(k in this.Zd)this.Zd.hasOwnProperty(k)&&(d=this.Zd[k],Oa(d.I)&&(h[k]={ex:a(d.I)}));h=p.events.acts;for(k in this.Rd)this.Rd.hasOwnProperty(k)&&(d=this.Rd[k],Oa(d.I)&&(h[k]={ex:a(d.I)}));h=p.events.vars;for(k in this.pg)this.pg.hasOwnProperty(k)&&(d=this.pg[k],d.Ni||d.parent&&!d.Xg||(h[k]=d.data));p.system=
this.nd.$a();return JSON.stringify(p)};c.prototype.qp=function(){var a,d,h,b,f,e;this.Dd={};a=0;for(d=this.u.length;a<d;a++)if(h=this.u[a],!h.D)for(b=0,f=h.c.length;b<f;b++)e=h.c[b],this.Dd[e.uid.toString()]=e};c.prototype.Xt=function(a){var d;try{d=JSON.parse(a)}catch(h){return!1}if(!d.c2save||1<d.version)return!1;this.Tg=!0;a=d.rt;this.Ob.reset();this.Ob.ua=a.time;this.$j.reset();this.$j.ua=a.walltime||0;this.lg=a.timescale;this.De=a.tickcount;this.Eg=a.execcount;this.Gj=Date.now()-a.start_time_offset;
var b=a.running_layout;if(b!==this.ma.X)if(b=this.Pn(b))this.Cn(b);else return;var f,e,c,k,p,r,g;r=d.types;for(e in r)if(r.hasOwnProperty(e)&&(k=this.Ei(parseInt(e,10)))&&!k.D&&!this.Cm(k)){r[e].ex?k.I=r[e].ex:Pa(k.I);p=k.c;c=r[e].instances;b=0;for(f=ma(p.length,c.length);b<f;b++)this.Ui(p[b],c[b]);b=c.length;for(f=p.length;b<f;b++)this.Od(p[b]);b=p.length;for(f=c.length;b<f;b++){p=null;if(k.ra.ke&&(p=this.ma.Di(c[b].w.l),!p))continue;p=this.$d(k.pc,p,!1,0,0,!0);this.Ui(p,c[b])}k.hg=!0}this.pb();
this.qp();f=d.layouts;for(e in f)f.hasOwnProperty(e)&&(b=this.Pn(parseInt(e,10)))&&b.tb(f[e]);f=d.events.groups;for(e in f)f.hasOwnProperty(e)&&(b=this.Zs(parseInt(e,10)))&&this.Ng[b.Mg]&&this.Ng[b.Mg].Ku(f[e]);b=d.events.cnds;for(e in this.Zd)this.Zd.hasOwnProperty(e)&&(b.hasOwnProperty(e)?this.Zd[e].I=b[e].ex:this.Zd[e].I={});b=d.events.acts;for(e in this.Rd)this.Rd.hasOwnProperty(e)&&(b.hasOwnProperty(e)?this.Rd[e].I=b[e].ex:this.Rd[e].I={});b=d.events.vars;for(e in b)b.hasOwnProperty(e)&&this.pg.hasOwnProperty(e)&&
(this.pg[e].data=b[e]);this.ph=a.next_uid;this.Tg=!1;b=0;for(f=this.vi.length;b<f;++b)p=this.vi[b],this.trigger(Object.getPrototypeOf(p.type.ra).k.Th,p);P(this.vi);this.nd.tb(d.system);b=0;for(f=this.u.length;b<f;b++)if(k=this.u[b],!k.D&&!this.Cm(k))for(d=0,e=k.c.length;d<e;d++){p=k.c[d];if(k.Nb)for(r=p.Lg(),P(p.siblings),a=0,c=k.Vb.length;a<c;a++)g=k.Vb[a],k!==g&&p.siblings.push(g.c[r]);p.Ge&&p.Ge();if(p.L)for(a=0,c=p.L.length;a<c;a++)r=p.L[a],r.Ge&&r.Ge()}return this.ja=!0};c.prototype.jm=function(d,
h){var b,f,e,c,k;c=d.type;e=c.ra;var p={};h?p.c2=!0:p.uid=d.uid;Oa(d.I)&&(p.ex=a(d.I));if(d.Qa&&d.Qa.length)for(p.ivs={},b=0,f=d.Qa.length;b<f;b++)p.ivs[d.type.il[b].toString()]=d.Qa[b];if(e.ke){e={x:d.x,y:d.y,w:d.width,h:d.height,l:d.j.X,zi:d.jd()};0!==d.i&&(e.a=d.i);1!==d.opacity&&(e.o=d.opacity);.5!==d.Kb&&(e.hX=d.Kb);.5!==d.Lb&&(e.hY=d.Lb);0!==d.qb&&(e.bm=d.qb);d.visible||(e.v=d.visible);d.oc||(e.ce=d.oc);-1!==d.oh&&(e.mts=d.oh);if(c.O.length)for(e.fx=[],b=0,f=c.O.length;b<f;b++)k=c.O[b],e.fx.push({name:k.name,
active:d.Qd[k.index],params:d.Aa[k.index]});p.w=e}if(d.L&&d.L.length)for(p.behs={},b=0,f=d.L.length;b<f;b++)c=d.L[b],c.$a&&(p.behs[c.type.X.toString()]=c.$a());d.$a&&(p.data=d.$a());return p};c.prototype.bt=function(a,d){var h,b;h=0;for(b=a.il.length;h<b;h++)if(a.il[h]===d)return h;return-1};c.prototype.Xs=function(a,d){var h,b;h=0;for(b=a.L.length;h<b;h++)if(a.L[h].type.X===d)return h;return-1};c.prototype.Ui=function(a,d,h){var b,f,e,c,k;k=a.type;var p=k.ra;if(h){if(!d.c2)return}else a.uid=d.uid;
d.ex?a.I=d.ex:Pa(a.I);if(f=d.ivs)for(b in f)f.hasOwnProperty(b)&&(e=this.bt(k,parseInt(b,10)),0>e||e>=a.Qa.length||(c=f[b],null===c&&(c=NaN),a.Qa[e]=c));if(p.ke){e=d.w;a.j.X!==e.l&&(f=a.j,a.j=this.ma.Di(e.l),a.j?(f.bg(a,!0),a.j.tg(a,!0),a.F(),a.j.Bh(0)):(a.j=f,h||this.Od(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.cd=e.zi;a.i=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.Kb=e.hasOwnProperty("hX")?e.hX:.5;a.Lb=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?
e.v:!0;a.oc=e.hasOwnProperty("ce")?e.ce:!0;a.oh=e.hasOwnProperty("mts")?e.mts:-1;a.qb=e.hasOwnProperty("bm")?e.bm:0;a.yg=ab(a.qb);this.B&&bb(a,a.qb,this.B);a.F();if(e.hasOwnProperty("fx"))for(h=0,f=e.fx.length;h<f;h++)c=k.Sk(e.fx[h].name),0>c||(a.Qd[c]=e.fx[h].active,a.Aa[c]=e.fx[h].params);a.$c()}if(k=d.behs)for(b in k)k.hasOwnProperty(b)&&(h=this.Xs(a,parseInt(b,10)),0>h||a.L[h].tb(k[b]));d.data&&a.tb(d.data)};c.prototype.Hn=function(a,d,h){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(d,h)},h)};c.prototype.Ss=function(a,d){this.Hn("data.js",function(h){var b=new FileReader;b.onload=function(d){a(d.target.result)};b.onerror=d;b.readAsText(h)},d)};var V=[],D=0;c.prototype.Ll=function(){if(V.length&&!(8<=D)){D++;var a=V.shift();this.Nr(a.filename,a.Qu,a.ms)}};c.prototype.Rs=function(a,d,h){var b=this;V.push({filename:a,Qu:function(a){D--;b.Ll();d(a)},ms:function(a){D--;b.Ll();h(a)}});this.Ll()};c.prototype.Nr=function(a,d,h){this.Hn(a,function(a){var h=
new FileReader;h.onload=function(a){d(a.target.result)};h.readAsArrayBuffer(a)},h)};c.prototype.Ts=function(a,d,h){var b="",e=a.toLowerCase(),f=e.substr(e.length-4),e=e.substr(e.length-5);".mp4"===f?b="video/mp4":".webm"===e?b="video/webm":".m4a"===f?b="audio/mp4":".mp3"===f&&(b="audio/mpeg");this.Rs(a,function(a){a=URL.createObjectURL(new Blob([a],{type:b}));d(a)},h)};c.prototype.It=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};c.prototype.xp=function(a,
d){this.ho&&!this.It(d)?this.Ts(d,function(d){a.src=d},function(a){alert("Failed to load image: "+a)}):a.src=d};c.prototype.yj=function(a,d){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=d:(a.webkitImageSmoothingEnabled=d,a.mozImageSmoothingEnabled=d,a.msImageSmoothingEnabled=d)};Lb=function(a){return new c(document.getElementById(a))};Mb=function(a,d){return new c({dc:!0,width:a,height:d})};window.cr_createRuntime=Lb;window.cr_createDCRuntime=Mb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Xh=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(c,g){var m=window.cr_getC2Runtime();m&&m.Lr(c,g)};window.cr_sizeCanvas=function(c,g){if(0!==c&&0!==g){var m=window.cr_getC2Runtime();m&&m.setSize(c,g)}};window.cr_setSuspended=function(c){var g=window.cr_getC2Runtime();g&&g.setSuspended(c)};
(function(){function c(a,b){this.b=a;this.Qe=null;this.scrollX=this.b.Ua/2;this.scrollY=this.b.Ta/2;this.scale=1;this.i=0;this.Gf=!0;this.name=b[0];this.lu=b[1];this.ku=b[2];this.width=b[1];this.height=b[2];this.Sp=b[3];this.Cp=b[4];this.X=b[5];var e=b[6],c,g;this.Q=[];this.Qg=[];c=0;for(g=e.length;c<g;c++){var l=new Nb(this,e[c]);l.Vo=c;this.Q.push(l)}e=b[7];this.ge=[];c=0;for(g=e.length;c<g;c++){var l=e[c],n=this.b.u[l[1]];n.pc||(n.pc=l);this.ge.push(l);-1===this.Qg.indexOf(n)&&this.Qg.push(n)}this.O=
[];this.ba=[];this.Ed=!0;this.Aa=[];c=0;for(g=b[8].length;c<g;c++)this.O.push({id:b[8][c][0],name:b[8][c][1],Ka:-1,Uc:!1,Wa:!0,index:c}),this.Aa.push(b[8][c][2].slice(0));this.$c();this.$l=new sa(0,0,1,1);this.am=new sa(0,0,1,1);this.te={}}function g(a,b){return a.cd-b.cd}function m(a,b){this.Da=a;this.b=a.b;this.c=[];this.scale=1;this.i=0;this.ud=!1;this.Ld=new sa(0,0,0,0);this.Np=new ta;this.fa=this.Z=this.ga=this.Y=0;this.rf=!1;this.Nd=-1;this.tk=0;this.name=b[0];this.index=b[1];this.X=b[2];this.visible=
b[3];this.Jc=b[4];this.Zc=b[5];this.yc=b[6];this.zc=b[7];this.opacity=b[8];this.yi=b[9];this.kc=b[10];this.dd=b[11];this.qb=b[12];this.hs=b[13];this.yg="source-over";this.sb=this.wb=0;this.lb=null;this.Bd=l();this.Wc=!0;this.Tf=new sa(0,0,-1,-1);this.hb=new sa(0,0,-1,-1);this.kc&&(this.lb=new Za(this.b.Ua,this.b.Ta));this.ld=!1;var e=b[14],c,g;this.Ip=[];this.hc=[];this.Ag=[];c=0;for(g=e.length;c<g;c++){var n=e[c],m=this.b.u[n[1]];m.pc||(m.pc=n,m.Kr=this.index);this.hc.push(n);-1===this.Da.Qg.indexOf(m)&&
this.Da.Qg.push(m)}xa(this.Ip,this.hc);this.O=[];this.ba=[];this.Ed=!0;this.Aa=[];c=0;for(g=b[15].length;c<g;c++)this.O.push({id:b[15][c][0],name:b[15][c][1],Ka:-1,Uc:!1,Wa:!0,index:c}),this.Aa.push(b[15][c][2].slice(0));this.$c();this.$l=new sa(0,0,1,1);this.am=new sa(0,0,1,1)}function l(){return a.length?a.pop():[]}function n(d){P(d);a.push(d)}c.prototype.Iu=function(a){var b=a.type.X.toString();this.te.hasOwnProperty(b)||(this.te[b]=[]);this.te[b].push(this.b.jm(a))};c.prototype.Wn=function(){var a=
this.Q[0];return!a.Zc&&1===a.opacity&&!a.yi&&a.visible};c.prototype.$c=function(){P(this.ba);this.Ed=!0;var a,b,e;a=0;for(b=this.O.length;a<b;a++)e=this.O[a],e.Wa&&(this.ba.push(e),e.Uc||(this.Ed=!1))};c.prototype.Rk=function(a){var b,e,c;b=0;for(e=this.O.length;b<e;b++)if(c=this.O[b],c.name===a)return c;return null};var q=[],b=!0;c.prototype.um=function(){this.Cp&&(this.Qe=this.b.Gk[this.Cp],this.Qe.Em());this.b.ma=this;this.width=this.lu;this.height=this.ku;this.scrollX=this.b.Ua/2;this.scrollY=
this.b.Ta/2;var a,f,e,c,l,n,m;a=0;for(e=this.b.u.length;a<e;a++)if(f=this.b.u[a],!f.D)for(l=f.c,f=0,c=l.length;f<c;f++)if(n=l[f],n.j){var h=n.j.Vo;h>=this.Q.length&&(h=this.Q.length-1);n.j=this.Q[h];-1===n.j.c.indexOf(n)&&n.j.c.push(n);n.j.rf=!0}if(!b)for(a=0,e=this.Q.length;a<e;++a)this.Q[a].c.sort(g);P(q);this.tr();a=0;for(e=this.Q.length;a<e;a++)n=this.Q[a],n.Ir(),n.Wj();l=!1;if(!this.Gf){for(m in this.te)if(this.te.hasOwnProperty(m)&&(f=this.b.Ei(parseInt(m,10)))&&!f.D&&this.b.Dm(f)){c=this.te[m];
a=0;for(e=c.length;a<e;a++){n=null;if(f.ra.ke&&(n=this.Di(c[a].w.l),!n))continue;n=this.b.$d(f.pc,n,!1,0,0,!0);this.b.Ui(n,c[a]);l=!0;q.push(n)}P(c)}a=0;for(e=this.Q.length;a<e;a++)this.Q[a].c.sort(g),this.Q[a].rf=!0}l&&(this.b.pb(),this.b.qp());for(a=0;a<q.length;a++)if(n=q[a],n.type.Nb)for(e=n.Lg(),f=0,c=n.type.Vb.length;f<c;f++)m=n.type.Vb[f],n.type!==m&&(m.c.length>e?n.siblings.push(m.c[e]):m.pc&&(l=this.b.$d(m.pc,n.j,!0,n.x,n.y,!0),this.b.pb(),m.Vj(),n.siblings.push(l),q.push(l)));a=0;for(e=
this.ge.length;a<e;a++)n=this.ge[a],f=this.b.u[n[1]],f.Nb||this.b.$d(this.ge[a],null,!0);this.b.wg=null;this.b.pb();if(this.b.za&&!this.b.Ga)for(a=0,e=this.b.u.length;a<e;a++)m=this.b.u[a],!m.D&&m.c.length&&m.nj&&m.nj(this.b.za);if(this.b.Tg)xa(this.b.vi,q);else for(a=0,e=q.length;a<e;a++)n=q[a],this.b.trigger(Object.getPrototypeOf(n.type.ra).k.Th,n);P(q);this.b.Tg||this.b.trigger(Y.prototype.k.Oq,null);this.Gf=!1};c.prototype.Hr=function(){var a,b,e,c,g;b=a=0;for(e=this.ge.length;a<e;a++)c=this.ge[a],
g=this.b.u[c[1]],g.global?g.Nb||this.b.$d(c,null,!0):(this.ge[b]=c,b++);wa(this.ge,b)};c.prototype.Pu=function(){this.b.Tg||this.b.trigger(Y.prototype.k.Nq,null);this.b.ll=!0;P(this.b.nd.Sb);var a,f,e,c,g,l;if(!this.Gf)for(a=0,f=this.Q.length;a<f;a++)for(this.Q[a].Gm(),g=this.Q[a].c,e=0,c=g.length;e<c;e++)l=g[e],l.type.global||this.b.Dm(l.type)&&this.Iu(l);a=0;for(f=this.Q.length;a<f;a++){g=this.Q[a].c;e=0;for(c=g.length;e<c;e++)l=g[e],l.type.global||this.b.Od(l);this.b.pb();P(g);this.Q[a].rf=!0}a=
0;for(f=this.b.u.length;a<f;a++)if(g=this.b.u[a],!(g.global||g.ra.ke||g.ra.Cj||g.D)){e=0;for(c=g.c.length;e<c;e++)this.b.Od(g.c[e]);this.b.pb()}b=!1;this.b.ll=!1};new sa(0,0,0,0);c.prototype.qc=function(a){var b,e=a,c=!1,g=!this.b.ec;g&&(this.b.Si||(this.b.Si=document.createElement("canvas"),b=this.b.Si,b.width=this.b.N,b.height=this.b.M,this.b.vo=b.getContext("2d"),c=!0),b=this.b.Si,e=this.b.vo,b.width!==this.b.N&&(b.width=this.b.N,c=!0),b.height!==this.b.M&&(b.height=this.b.M,c=!0),c&&this.b.yj(e,
this.b.pa));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.b.tn&&!this.Wn()&&e.clearRect(0,0,this.b.N,this.b.M);var l,n,c=0;for(l=this.Q.length;c<l;c++)n=this.Q[c],n.visible&&0<n.opacity&&11!==n.qb&&(n.c.length||!n.Zc)?n.qc(e):n.Wj();g&&a.drawImage(b,0,0,this.b.width,this.b.height)};c.prototype.Cf=function(a){a.wp(!0);this.b.Ha||(this.b.Ha=a.Wb(this.b.N,this.b.M,this.b.pa));if(this.b.Ha.Le!==this.b.N||this.b.Ha.Ke!==this.b.M)a.deleteTexture(this.b.Ha),this.b.Ha=a.Wb(this.b.N,this.b.M,
this.b.pa);a.Cc(this.b.Ha);this.b.ec||a.nf(this.b.N,this.b.M);var b,e;for(b=this.Q.length-1;0<=b;--b)e=this.Q[b],e.visible&&1===e.opacity&&e.Ed&&0===e.qb&&(e.c.length||!e.Zc)?e.Cf(a):e.Wj();a.wp(!1)};c.prototype.Bb=function(a){var b=0<this.ba.length||this.b.ng||!this.b.ec||this.b.la;if(b){this.b.Ha||(this.b.Ha=a.Wb(this.b.N,this.b.M,this.b.pa));if(this.b.Ha.Le!==this.b.N||this.b.Ha.Ke!==this.b.M)a.deleteTexture(this.b.Ha),this.b.Ha=a.Wb(this.b.N,this.b.M,this.b.pa);a.Cc(this.b.Ha);this.b.ec||a.nf(this.b.N,
this.b.M)}else this.b.Ha&&(a.Cc(null),a.deleteTexture(this.b.Ha),this.b.Ha=null);this.b.tn&&!this.Wn()&&a.clear(0,0,0,0);var e,c,g;e=0;for(c=this.Q.length;e<c;e++)g=this.Q[e],g.visible&&0<g.opacity&&(g.c.length||!g.Zc)?g.Bb(a):g.Wj();b&&(0===this.ba.length||1===this.ba.length&&this.b.ec?(1===this.ba.length?(b=this.ba[0].index,a.Rb(this.ba[0].Ka),a.eg(null,1/this.b.N,1/this.b.M,0,0,1,1,this.scale,this.i,0,0,this.b.N/2,this.b.M/2,this.b.Ob.ua,this.Aa[b]),a.oj(this.ba[0].Ka)&&(this.b.ja=!0)):a.Rb(0),
this.b.ec||a.nf(this.b.width,this.b.height),a.Cc(null),a.vp(!1),a.xe(1),a.Va(this.b.Ha),a.tp(),a.md(),a.ad(),b=this.b.width/2,e=this.b.height/2,a.ue(-b,e,b,e,b,-e,-b,-e),a.Va(null),a.vp(!0)):this.cm(a,null,null,null))};c.prototype.Jg=function(){return 0<this.ba.length||this.b.ng||!this.b.ec||this.b.la?this.b.Ha:null};c.prototype.Qn=function(){var a=this.Q[0].gc(),b,e,c;b=1;for(e=this.Q.length;b<e;b++)c=this.Q[b],(0!==c.yc||0!==c.zc)&&c.gc()<a&&(a=c.gc());return a};c.prototype.lm=function(a){if(!this.Sp){var b=
1/this.Qn()*this.b.N/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.ja=!0)};c.prototype.mm=function(a){if(!this.Sp){var b=1/this.Qn()*this.b.M/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.ja=!0)};c.prototype.tr=function(){this.lm(this.scrollX);this.mm(this.scrollY)};c.prototype.cm=function(a,b,e,c){var g=e?e.ba:b?b.ba:this.ba,l=1,n=0,h=0,r=0,m=this.b.N,q=this.b.M;e?(l=e.j.gc(),n=e.j.fc(),h=e.j.Y,r=e.j.Z,m=e.j.ga,q=
e.j.fa):b&&(l=b.gc(),n=b.fc(),h=b.Y,r=b.Z,m=b.ga,q=b.fa);var p=this.b.Nk,A,t,E,v,J=0,R=1,F,K,I=this.b.N,O=this.b.M,V=I/2,D=O/2,w=b?b.$l:this.$l,z=b?b.am:this.am,C=0,B=0,L=0,M=0,W=I,Aa=I,U=O,Ba=O,ra=E=0;v=e?e.j.fc():0;if(e){A=0;for(t=g.length;A<t;A++)E+=a.gt(g[A].Ka),ra+=a.ht(g[A].Ka);M=e.ia;C=b.Cb(M.left,M.top,!0,!0);L=b.Cb(M.left,M.top,!1,!0);W=b.Cb(M.right,M.bottom,!0,!0);U=b.Cb(M.right,M.bottom,!1,!0);0!==v&&(A=b.Cb(M.right,M.top,!0,!0),t=b.Cb(M.right,M.top,!1,!0),B=b.Cb(M.left,M.bottom,!0,!0),
M=b.Cb(M.left,M.bottom,!1,!0),v=Math.min(C,W,A,B),W=Math.max(C,W,A,B),C=v,v=Math.min(L,U,t,M),U=Math.max(L,U,t,M),L=v);C-=E;L-=ra;W+=E;U+=ra;z.left=C/I;z.top=1-L/O;z.right=W/I;z.bottom=1-U/O;B=C=y(C);M=L=y(L);Aa=W=oa(W);Ba=U=oa(U);B-=E;M-=ra;Aa+=E;Ba+=ra;0>C&&(C=0);0>L&&(L=0);W>I&&(W=I);U>O&&(U=O);0>B&&(B=0);0>M&&(M=0);Aa>I&&(Aa=I);Ba>O&&(Ba=O);w.left=C/I;w.top=1-L/O;w.right=W/I;w.bottom=1-U/O}else w.left=z.left=0,w.top=z.top=0,w.right=z.right=1,w.bottom=z.bottom=1;ra=e&&(a.yh(g[0].Ka)||0!==E||0!==
ra||1!==e.opacity||e.type.ra.To)||b&&!e&&1!==b.opacity;a.tp();if(ra){p[J]||(p[J]=a.Wb(I,O,this.b.pa));if(p[J].Le!==I||p[J].Ke!==O)a.deleteTexture(p[J]),p[J]=a.Wb(I,O,this.b.pa);a.Rb(0);a.Cc(p[J]);K=Ba-M;a.clearRect(B,O-M-K,Aa-B,K);e?e.Bb(a):(a.Va(this.b.Ra),a.xe(b.opacity),a.md(),a.translate(-V,-D),a.ad(),a.ve(C,U,W,U,W,L,C,L,w));z.left=z.top=0;z.right=z.bottom=1;e&&(v=w.top,w.top=w.bottom,w.bottom=v);J=1;R=0}a.xe(1);E=g.length-1;var $a=a.Xl(g[E].Ka)||!b&&!e&&!this.b.ec;A=v=0;for(t=g.length;A<t;A++){p[J]||
(p[J]=a.Wb(I,O,this.b.pa));if(p[J].Le!==I||p[J].Ke!==O)a.deleteTexture(p[J]),p[J]=a.Wb(I,O,this.b.pa);a.Rb(g[A].Ka);v=g[A].index;a.oj(g[A].Ka)&&(this.b.ja=!0);0!=A||ra?(a.eg(c,1/I,1/O,z.left,z.top,z.right,z.bottom,l,n,h,r,(h+m)/2,(r+q)/2,this.b.Ob.ua,e?e.Aa[v]:b?b.Aa[v]:this.Aa[v]),a.Va(null),A!==E||$a?(a.Cc(p[J]),K=Ba-M,F=O-M-K,a.clearRect(B,F,Aa-B,K)):(e?a.we(e.wb,e.sb):b&&a.we(b.wb,b.sb),a.Cc(c)),a.Va(p[R]),a.md(),a.translate(-V,-D),a.ad(),a.ve(C,U,W,U,W,L,C,L,w),A!==E||$a||a.Va(null)):(a.Cc(p[J]),
K=Ba-M,F=O-M-K,a.clearRect(B,F,Aa-B,K),e?(e.gb&&e.gb.V?(F=e.gb.V,R=1/F.width,F=1/F.height):(R=1/e.width,F=1/e.height),a.eg(c,R,F,z.left,z.top,z.right,z.bottom,l,n,h,r,(h+m)/2,(r+q)/2,this.b.Ob.ua,e.Aa[v]),e.Bb(a)):(a.eg(c,1/I,1/O,0,0,1,1,l,n,h,r,(h+m)/2,(r+q)/2,this.b.Ob.ua,b?b.Aa[v]:this.Aa[v]),a.Va(b?this.b.Ra:this.b.Ha),a.md(),a.translate(-V,-D),a.ad(),a.ve(C,U,W,U,W,L,C,L,w)),z.left=z.top=0,z.right=z.bottom=1,e&&!$a&&(v=U,U=L,L=v));J=0===J?1:0;R=0===J?1:0}$a&&(a.Rb(0),e?a.we(e.wb,e.sb):b?a.we(b.wb,
b.sb):this.b.ec||(a.nf(this.b.width,this.b.height),V=this.b.width/2,D=this.b.height/2,L=C=0,W=this.b.width,U=this.b.height),a.Cc(c),a.Va(p[R]),a.md(),a.translate(-V,-D),a.ad(),e&&1===g.length&&!ra?a.ve(C,L,W,L,W,U,C,U,w):a.ve(C,U,W,U,W,L,C,L,w),a.Va(null))};c.prototype.Di=function(a){var b,e;b=0;for(e=this.Q.length;b<e;b++)if(this.Q[b].X===a)return this.Q[b];return null};c.prototype.$a=function(){var a,b,e,c={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Gf,
persist:this.te,fx:[],layers:{}};a=0;for(b=this.O.length;a<b;a++)e=this.O[a],c.fx.push({name:e.name,active:e.Wa,params:this.Aa[e.index]});a=0;for(b=this.Q.length;a<b;a++)e=this.Q[a],c.layers[e.X.toString()]=e.$a();return c};c.prototype.tb=function(a){var b,e,c,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.te=a.persist;"undefined"!==typeof a.fv&&(this.Gf=a.fv);var l=a.fx;b=0;for(e=l.length;b<e;b++)if(c=this.Rk(l[b].name))c.Wa=l[b].active,this.Aa[c.index]=
l[b].params;this.$c();b=a.layers;for(g in b)b.hasOwnProperty(g)&&(a=this.Di(parseInt(g,10)))&&a.tb(b[g])};zb=c;m.prototype.$c=function(){P(this.ba);this.Ed=!0;var a,b,e;a=0;for(b=this.O.length;a<b;a++)e=this.O[a],e.Wa&&(this.ba.push(e),e.Uc||(this.Ed=!1))};m.prototype.Rk=function(a){var b,e,c;b=0;for(e=this.O.length;b<e;b++)if(c=this.O[b],c.name===a)return c;return null};m.prototype.Ir=function(){var a,b,e,c,g,l;b=a=0;for(e=this.hc.length;a<e;a++){c=this.hc[a];g=this.b.u[c[1]];l=this.b.Dm(g);g=!0;
if(!l||this.Da.Gf){c=this.b.$d(c,this,!0);if(!c)continue;q.push(c);c.type.global&&(g=!1,this.Ag.push(c.uid))}g&&(this.hc[b]=this.hc[a],b++)}this.hc.length=b;this.b.pb();!this.b.n&&this.O.length&&(this.qb=this.hs);this.yg=ab(this.qb);this.b.B&&bb(this,this.qb,this.b.B);this.Wc=!0};m.prototype.bg=function(a,b){var e=za(this.c,a);0>e||(b&&this.kc&&a.Qb&&a.Qb.right>=a.Qb.left&&(a.ea(),this.lb.update(a,a.Qb,null),a.Qb.set(0,0,-1,-1)),e===this.c.length-1?this.c.pop():(va(this.c,e),this.Bh(e)),this.Wc=!0)};
m.prototype.tg=function(a,b){a.cd=this.c.length;this.c.push(a);b&&this.kc&&a.Qb&&a.F();this.Wc=!0};m.prototype.tu=function(a){this.c.unshift(a);this.Bh(0)};m.prototype.cu=function(a,b,e){var c=a.jd();b=b.jd();va(this.c,c);c<b&&b--;e&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.Bh(c<b?c:b)};m.prototype.Bh=function(a){-1===this.Nd?this.Nd=a:a<this.Nd&&(this.Nd=a);this.Wc=this.rf=!0};m.prototype.Gm=function(){if(this.rf){-1===this.Nd&&(this.Nd=0);var a,b,e;if(this.kc)for(a=this.Nd,
b=this.c.length;a<b;++a)e=this.c[a],e.cd=a,this.lb.Zt(e.Qb);else for(a=this.Nd,b=this.c.length;a<b;++a)this.c[a].cd=a;this.rf=!1;this.Nd=-1}};m.prototype.gc=function(a){return this.ct()*(this.b.ec||a?this.b.ug:1)};m.prototype.ct=function(){return(this.scale*this.Da.scale-1)*this.dd+1};m.prototype.fc=function(){return this.ud?0:Ga(this.Da.i+this.i)};var a=[],t=[],v=[];m.prototype.Vk=function(){this.Gm();this.lb.sj(this.Y,this.Z,this.ga,this.fa,v);if(!v.length)return l();if(1===v.length){var a=l();
xa(a,v[0]);P(v);return a}for(var b=!0;1<v.length;){for(var a=v,e=void 0,c=void 0,g=void 0,m=void 0,q=void 0,e=0,c=a.length;e<c-1;e+=2){var g=a[e],m=a[e+1],q=l(),h=g,r=m,x=q,S=0,p=0,A=0,N=h.length,E=r.length,T=void 0,J=void 0;for(x.length=N+E;S<N&&p<E;++A)T=h[S],J=r[p],T.cd<J.cd?(x[A]=T,++S):(x[A]=J,++p);for(;S<N;++S,++A)x[A]=h[S];for(;p<E;++p,++A)x[A]=r[p];b||(n(g),n(m));t.push(q)}1===c%2&&(b?(g=l(),xa(g,a[c-1]),t.push(g)):t.push(a[c-1]));xa(a,t);P(t);b=!1}a=v[0];P(v);return a};m.prototype.qc=function(a){this.ld=
this.yi||1!==this.opacity||0!==this.qb;var b=this.b.canvas,e=a,c=!1;this.ld&&(this.b.Ri||(this.b.Ri=document.createElement("canvas"),b=this.b.Ri,b.width=this.b.N,b.height=this.b.M,this.b.uo=b.getContext("2d"),c=!0),b=this.b.Ri,e=this.b.uo,b.width!==this.b.N&&(b.width=this.b.N,c=!0),b.height!==this.b.M&&(b.height=this.b.M,c=!0),c&&this.b.yj(e,this.b.pa),this.Zc&&e.clearRect(0,0,this.b.N,this.b.M));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Zc||(e.fillStyle="rgb("+this.Jc[0]+","+
this.Jc[1]+","+this.Jc[2]+")",e.fillRect(0,0,this.b.N,this.b.M));e.save();this.ud=!0;var c=this.fb(0,0,!0,!0),g=this.fb(0,0,!1,!0);this.ud=!1;this.b.Tc&&(c=Math.round(c),g=Math.round(g));this.vj(c,g,e);var l=this.gc();e.scale(l,l);e.translate(-c,-g);this.kc?(this.hb.left=this.lb.Gb(this.Y),this.hb.top=this.lb.Hb(this.Z),this.hb.right=this.lb.Gb(this.ga),this.hb.bottom=this.lb.Hb(this.fa),this.Wc||!this.hb.Cg(this.Tf)?(n(this.Bd),c=this.Vk(),this.Wc=!1,this.Tf.yf(this.hb)):c=this.Bd):c=this.c;for(var m,
h=null,g=0,l=c.length;g<l;++g)m=c[g],m!==h&&(this.bs(m,e),h=m);this.kc&&(this.Bd=c);e.restore();this.ld&&(a.globalCompositeOperation=this.yg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.bs=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var e=a.ia;e.right<this.Y||e.bottom<this.Z||e.left>this.ga||e.top>this.fa||(b.globalCompositeOperation=a.yg,a.qc(b))}};m.prototype.Wj=function(){this.ud=!0;var a=this.fb(0,0,!0,!0),b=this.fb(0,0,!1,!0);this.ud=!1;this.b.Tc&&(a=Math.round(a),
b=Math.round(b));this.vj(a,b,null)};m.prototype.vj=function(a,b,e){var c=this.gc();this.Y=a;this.Z=b;this.ga=a+1/c*this.b.N;this.fa=b+1/c*this.b.M;this.Y>this.ga&&(a=this.Y,this.Y=this.ga,this.ga=a);this.Z>this.fa&&(a=this.Z,this.Z=this.fa,this.fa=a);a=this.fc();0!==a&&(e&&(e.translate(this.b.N/2,this.b.M/2),e.rotate(-a),e.translate(this.b.N/-2,this.b.M/-2)),this.Ld.set(this.Y,this.Z,this.ga,this.fa),this.Ld.offset((this.Y+this.ga)/-2,(this.Z+this.fa)/-2),this.Np.Ap(this.Ld,a),this.Np.jn(this.Ld),
this.Ld.offset((this.Y+this.ga)/2,(this.Z+this.fa)/2),this.Y=this.Ld.left,this.Z=this.Ld.top,this.ga=this.Ld.right,this.fa=this.Ld.bottom)};m.prototype.Cf=function(a){if(this.ld=this.yi){this.b.Ra||(this.b.Ra=a.Wb(this.b.N,this.b.M,this.b.pa));if(this.b.Ra.Le!==this.b.N||this.b.Ra.Ke!==this.b.M)a.deleteTexture(this.b.Ra),this.b.Ra=a.Wb(this.b.N,this.b.M,this.b.pa);a.Cc(this.b.Ra)}this.ud=!0;var b=this.fb(0,0,!0,!0),e=this.fb(0,0,!1,!0);this.ud=!1;this.b.Tc&&(b=Math.round(b),e=Math.round(e));this.vj(b,
e,null);b=this.gc();a.md();a.scale(b,b);a.gm(-this.fc());a.translate((this.Y+this.ga)/-2,(this.Z+this.fa)/-2);a.ad();this.kc?(this.hb.left=this.lb.Gb(this.Y),this.hb.top=this.lb.Hb(this.Z),this.hb.right=this.lb.Gb(this.ga),this.hb.bottom=this.lb.Hb(this.fa),this.Wc||!this.hb.Cg(this.Tf)?(n(this.Bd),b=this.Vk(),this.Wc=!1,this.Tf.yf(this.hb)):b=this.Bd):b=this.c;for(var c,g=null,e=b.length-1;0<=e;--e)c=b[e],c!==g&&(this.ds(b[e],a),g=c);this.kc&&(this.Bd=b);this.Zc||(this.tk=this.b.Pe++,a.zj(this.tk),
a.up(1,1,1),a.Kn(),a.Au())};m.prototype.Bb=function(a){var b=0,c=0;if(this.ld=this.yi||1!==this.opacity||0<this.ba.length||0!==this.qb){this.b.Ra||(this.b.Ra=a.Wb(this.b.N,this.b.M,this.b.pa));if(this.b.Ra.Le!==this.b.N||this.b.Ra.Ke!==this.b.M)a.deleteTexture(this.b.Ra),this.b.Ra=a.Wb(this.b.N,this.b.M,this.b.pa);a.Cc(this.b.Ra);this.Zc&&a.clear(0,0,0,0)}this.Zc||(this.b.la?(a.zj(this.tk),a.up(this.Jc[0]/255,this.Jc[1]/255,this.Jc[2]/255),a.Kn(),a.Lu()):a.clear(this.Jc[0]/255,this.Jc[1]/255,this.Jc[2]/
255,1));this.ud=!0;var k=this.fb(0,0,!0,!0),b=this.fb(0,0,!1,!0);this.ud=!1;this.b.Tc&&(k=Math.round(k),b=Math.round(b));this.vj(k,b,null);k=this.gc();a.md();a.scale(k,k);a.gm(-this.fc());a.translate((this.Y+this.ga)/-2,(this.Z+this.fa)/-2);a.ad();this.kc?(this.hb.left=this.lb.Gb(this.Y),this.hb.top=this.lb.Hb(this.Z),this.hb.right=this.lb.Gb(this.ga),this.hb.bottom=this.lb.Hb(this.fa),this.Wc||!this.hb.Cg(this.Tf)?(n(this.Bd),b=this.Vk(),this.Wc=!1,this.Tf.yf(this.hb)):b=this.Bd):b=this.c;var g,
l,m=null,c=0;for(g=b.length;c<g;++c)l=b[c],l!==m&&(this.cs(b[c],a),m=l);this.kc&&(this.Bd=b);this.ld&&(b=this.ba.length?this.ba[0].Ka:0,c=this.ba.length?this.ba[0].index:0,0===this.ba.length||1===this.ba.length&&!a.Xl(b)&&1===this.opacity?(1===this.ba.length?(a.Rb(b),a.eg(this.Da.Jg(),1/this.b.N,1/this.b.M,0,0,1,1,k,this.fc(),this.Y,this.Z,(this.Y+this.ga)/2,(this.Z+this.fa)/2,this.b.Ob.ua,this.Aa[c]),a.oj(b)&&(this.b.ja=!0)):a.Rb(0),a.Cc(this.Da.Jg()),a.xe(this.opacity),a.Va(this.b.Ra),a.we(this.wb,
this.sb),a.md(),a.ad(),k=this.b.N/2,b=this.b.M/2,a.ue(-k,b,k,b,k,-b,-k,-b),a.Va(null)):this.Da.cm(a,this,null,this.Da.Jg()))};m.prototype.cs=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var c=a.ia;c.right<this.Y||c.bottom<this.Z||c.left>this.ga||c.top>this.fa||(b.zj(a.Pe),a.Yp?this.es(a,b):(b.Rb(0),b.we(a.wb,a.sb),a.Bb(b)))}};m.prototype.ds=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var c=a.ia;c.right<this.Y||c.bottom<this.Z||c.left>this.ga||c.top>this.fa||(a.Pe=
this.b.Pe++,0===a.qb&&1===a.opacity&&a.Ed&&a.Cf&&(b.zj(a.Pe),a.Cf(b)))}};m.prototype.es=function(a,b){var c=a.ba[0].Ka,k=a.ba[0].index,g=this.gc();if(1!==a.ba.length||b.Xl(c)||b.vu(c)||(a.i||a.j.fc())&&b.yh(c)||1!==a.opacity||a.type.ra.To)this.Da.cm(b,this,a,this.ld?this.b.Ra:this.Da.Jg()),b.md(),b.scale(g,g),b.gm(-this.fc()),b.translate((this.Y+this.ga)/-2,(this.Z+this.fa)/-2),b.ad();else{b.Rb(c);b.we(a.wb,a.sb);b.oj(c)&&(this.b.ja=!0);var l=0,n=0,h=0,r=0;b.yh(c)&&(r=a.ia,l=this.Cb(r.left,r.top,
!0,!0),n=this.Cb(r.left,r.top,!1,!0),h=this.Cb(r.right,r.bottom,!0,!0),r=this.Cb(r.right,r.bottom,!1,!0),l=l/windowWidth,n=1-n/windowHeight,h=h/windowWidth,r=1-r/windowHeight);var m;a.gb&&a.gb.V?(m=a.gb.V,c=1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.eg(this.ld?this.b.Ra:this.Da.Jg(),c,m,l,n,h,r,g,this.fc(),this.Y,this.Z,(this.Y+this.ga)/2,(this.Z+this.fa)/2,this.b.Ob.ua,a.Aa[k]);a.Bb(b)}};m.prototype.fb=function(a,b,c,k){var g=this.b.devicePixelRatio;this.b.We&&(a*=g,b*=g);var g=this.b.ep,
l=this.b.fp,g=(this.Da.scrollX-g)*this.yc+g,l=(this.Da.scrollY-l)*this.zc+l,n=g,h=l,r=1/this.gc(!k);k?(n-=this.b.N*r/2,h-=this.b.M*r/2):(n-=this.b.width*r/2,h-=this.b.height*r/2);n+=a*r;h+=b*r;b=this.fc();0!==b&&(n-=g,h-=l,a=Math.cos(b),b=Math.sin(b),k=n*a-h*b,h=h*a+n*b,n=k+g,h+=l);return c?n:h};m.prototype.Cb=function(a,b,c,k){var g=this.b.ep,l=this.b.fp,n=(this.Da.scrollX-g)*this.yc+g,h=(this.Da.scrollY-l)*this.zc+l,l=n,g=h,r=this.fc();if(0!==r){a-=n;b-=h;var m=Math.cos(-r),r=Math.sin(-r),q=a*m-
b*r;b=b*m+a*r;a=q+n;b+=h}n=1/this.gc(!k);k?(l-=this.b.N*n/2,g-=this.b.M*n/2):(l-=this.b.width*n/2,g-=this.b.height*n/2);l=(a-l)/n;g=(b-g)/n;a=this.b.devicePixelRatio;this.b.We&&!k&&(l/=a,g/=a);return c?l:g};m.prototype.$a=function(){var a,b,c,k={s:this.scale,a:this.i,vl:this.Y,vt:this.Z,vr:this.ga,vb:this.fa,v:this.visible,bc:this.Jc,t:this.Zc,px:this.yc,py:this.zc,o:this.opacity,zr:this.dd,fx:[],cg:this.Ag,instances:[]};a=0;for(b=this.O.length;a<b;a++)c=this.O[a],k.fx.push({name:c.name,active:c.Wa,
params:this.Aa[c.index]});return k};m.prototype.tb=function(a){var b,c,k;this.scale=a.s;this.i=a.a;this.Y=a.vl;this.Z=a.vt;this.ga=a.vr;this.fa=a.vb;this.visible=a.v;this.Jc=a.bc;this.Zc=a.t;this.yc=a.px;this.zc=a.py;this.opacity=a.o;this.dd=a.zr;this.Ag=a.cg||[];xa(this.hc,this.Ip);var l=new ba;b=0;for(k=this.Ag.length;b<k;++b)l.add(this.Ag[b]);c=b=0;for(k=this.hc.length;b<k;++b)l.contains(this.hc[b][2])||(this.hc[c]=this.hc[b],++c);wa(this.hc,c);c=a.fx;b=0;for(k=c.length;b<k;b++)if(a=this.Rk(c[b].name))a.Wa=
c[b].active,this.Aa[a.index]=c[b].params;this.$c();this.c.sort(g);this.rf=!0};Nb=m})();
(function(){function c(a,b){var d,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}}function g(a,b){return a.index-b.index}function m(a){var b,d,e,k;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(g);a.length>=u.length&&(u.length=a.length+1);u[a.length]||(u[a.length]=[]);k=u[a.length];b=0;for(d=k.length;b<d;b++)if(e=k[b],c(a,e))return e;k.push(a);return a}
function l(a,b){this.b=a;this.Pp={};this.Gn={};this.al=!1;this.Yn=new ba;this.yk=[];this.ik=[];this.name=b[0];var d=b[1];this.be=[];var c,e;c=0;for(e=d.length;c<e;c++)this.$n(d[c],null,this.be)}function n(a){this.type=a;this.c=[];this.U=[];this.da=!0}function q(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.na=[];this.Ae=[];this.Xn=this.Qj=this.zm=this.dl=this.group=this.Gp=!1;this.Xa=[];this.Hc=[];this.Dc=[];this.Mg="";this.Jf=this.dl=this.group=!1;this.ki=null;d[1]&&(this.Mg=d[1][1].toLowerCase(),
this.group=!0,this.dl=!!d[1][0],this.ki=[],this.Jf=this.dl,this.b.vf.push(this),this.b.Ng[this.Mg]=this);this.jc=d[2];this.X=d[4];this.group||(this.b.hn[this.X.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var e=new Ob(this,c[a]);e.index=a;this.Xa.push(e);this.bn(e.type)}c=d[6];a=0;for(b=c.length;a<b;a++)e=new Pb(this,c[a]),e.index=a,this.Hc.push(e);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.$n(d[a],this,this.Dc);this.Oi=!1;this.Xa.length&&(this.Oi=null==this.Xa[0].type&&
this.Xa[0].ib==Y.prototype.k.mq)}function b(a,b){var d,c,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Nb))for(d=0,c=a.Vb.length;d<c;d++)e=a.Vb[d],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.cc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ba=[];this.I={};this.index=-1;this.rg=!1;this.ib=this.b.Pd(b[1]);this.trigger=0<b[3];this.Fn=2===b[3];this.Ji=b[5];this.Vt=b[6];this.X=b[7];this.b.Zd[this.X.toString()]=this;-1===b[0]?(this.type=null,this.Ja=this.im,this.Je=null,this.Lc=-1):(this.type=this.b.u[b[0]],
this.Ja=this.Vt?this.Gu:this.hm,b[2]?(this.Je=this.type.Bi(b[2]),this.Lc=this.type.Ok(b[2])):(this.Je=null,this.Lc=-1),this.cc.parent&&this.cc.parent.Aj());this.Fn&&(this.Ja=this.Hu);if(10===b.length){var d,c,e=b[9];d=0;for(c=e.length;d<c;d++){var k=new Qb(this,e[d]);this.T.push(k)}this.Ba.length=e.length}}function t(a,b){this.cc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ba=[];this.I={};this.index=-1;this.rg=!1;this.ib=this.b.Pd(b[1]);-1===b[0]?(this.type=null,this.Ja=this.im,this.Je=null,this.Lc=
-1):(this.type=this.b.u[b[0]],this.Ja=this.hm,b[2]?(this.Je=this.type.Bi(b[2]),this.Lc=this.type.Ok(b[2])):(this.Je=null,this.Lc=-1));this.X=b[3];this.b.Rd[this.X.toString()]=this;if(6===b.length){var d,c,e=b[5];d=0;for(c=e.length;d<c;d++){var k=new Qb(this,e[d]);this.T.push(k)}this.Ba.length=e.length}}function v(){G++;H.length===G&&H.push(new Rb);return H[G]}function d(a,b){this.qa=a;this.cc=a.cc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.hd=null;this.Jd=0;this.get=null;this.un=0;this.Da=
null;this.key=0;this.object=null;this.index=0;this.Oh=this.pf=this.Oh=this.pf=this.In=this.Re=this.Ph=null;this.Fc=!1;var d,c,e;switch(b[0]){case 0:case 7:this.hd=new Sb(this,b[1]);this.Jd=0;this.get=this.nt;break;case 1:this.hd=new Sb(this,b[1]);this.Jd=0;this.get=this.ot;break;case 5:this.hd=new Sb(this,b[1]);this.Jd=0;this.get=this.ut;break;case 3:case 8:this.un=b[1];this.get=this.lt;break;case 6:this.Da=this.b.Bl[b[1]];this.get=this.wt;break;case 9:this.key=b[1];this.get=this.tt;break;case 4:this.object=
this.b.u[b[1]];this.get=this.xt;this.cc.bn(this.object);this.qa instanceof Pb?this.cc.Aj():this.cc.parent&&this.cc.parent.Aj();break;case 10:this.index=b[1];a.type&&a.type.D?(this.get=this.pt,this.Fc=!0):this.get=this.qt;break;case 11:this.Ph=b[1];this.Re=null;this.get=this.mt;break;case 2:case 12:this.In=b[1];this.get=this.kt;break;case 13:for(this.get=this.yt,this.pf=[],this.Oh=[],d=1,c=b.length;d<c;d++)e=new Qb(this.qa,b[d]),this.pf.push(e),this.Oh.push(0)}}function f(a,b,d){this.sheet=a;this.parent=
b;this.b=a.b;this.na=[];this.name=d[1];this.Yj=d[2];this.cl=d[3];this.Xg=!!d[4];this.Ni=!!d[5];this.X=d[6];this.b.pg[this.X.toString()]=this;this.data=this.cl;this.parent?(this.df=this.Xg||this.Ni?-1:this.b.Ou++,this.b.or.push(this)):(this.df=-1,this.b.nr.push(this))}function e(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.na=[];this.Pg=null;this.Dt=d[1];this.Wa=!0}function k(){this.Jp=[];this.reset(null)}var u=[];l.prototype.toString=function(){return this.name};l.prototype.$n=function(a,b,d){switch(a[0]){case 0:a=
new Tb(this,b,a);if(a.jc)for(d.push(a),d=0,b=a.Xa.length;d<b;d++)a.Xa[d].trigger&&this.ao(a,d);else a.lo()?this.ao(a,0):d.push(a);break;case 1:a=new Kb(this,b,a);d.push(a);break;case 2:a=new Ub(this,b,a),d.push(a)}};l.prototype.Ea=function(){var a,b;a=0;for(b=this.be.length;a<b;a++)this.be[a].Ea(a<b-1&&this.be[a+1].Oi)};l.prototype.Em=function(){P(this.yk);P(this.ik);this.an(this);P(this.ik)};l.prototype.an=function(a){var b,d,c,e,k=a.yk,f=a.ik,g=this.Yn.pd();b=0;for(d=g.length;b<d;++b)c=g[b],e=c.Pg,
!c.Wa||a===e||-1<f.indexOf(e)||(f.push(e),e.an(a),k.push(e))};l.prototype.Ja=function(a){this.b.yw||(this.al=!0,a||(this.b.pl=!0));var b,d;b=0;for(d=this.be.length;b<d;b++){var c=this.be[b];c.Ja();this.b.sk(c.na);this.b.fe&&this.b.pb()}a||(this.b.pl=!1)};l.prototype.ao=function(a,b){a.jc||this.b.Tj.push(a);var d,c,e=a.Xa[b],k;e.type?k=e.type.name:k="system";var f=(d=e.Fn)?this.Gn:this.Pp;f[k]||(f[k]=[]);k=f[k];f=e.ib;if(d){if(e.T.length&&(e=e.T[0],1===e.type&&2===e.hd.type)){e=e.hd.value.toLowerCase();
d=0;for(c=k.length;d<c;d++)if(k[d].method==f){d=k[d].Dg;d[e]?d[e].push([a,b]):d[e]=[[a,b]];return}d={};d[e]=[[a,b]];k.push({method:f,Dg:d})}}else{d=0;for(c=k.length;d<c;d++)if(k[d].method==f){k[d].Dg.push([a,b]);return}Z&&f===Z.prototype.k.uf?k.unshift({method:f,Dg:[[a,b]]}):k.push({method:f,Dg:[[a,b]]})}};Ab=l;n.prototype.$k=function(){return this.da?this.type.c.length:this.c.length};n.prototype.Xb=function(){return this.da?this.type.c:this.c};n.prototype.xh=function(a){a&&(a.b.Oa().zb.jc?(this.da&&
(P(this.c),xa(this.U,a.type.c),this.da=!1),a=this.U.indexOf(a),-1!==a&&(this.c.push(this.U[a]),this.U.splice(a,1))):(this.da=!1,P(this.c),this.c[0]=a))};hb=n;window._c2hh_="189BF63191E29A43747095FF656474172E7DF1B8";q.prototype.Ea=function(a){var b,d=this.parent;if(this.group)for(this.Qj=!0;d;){if(!d.group){this.Qj=!1;break}d=d.parent}this.zm=!this.lo()&&(!this.parent||this.parent.group&&this.parent.Qj);this.Xn=!!a;this.Ae=this.na.slice(0);for(d=this.parent;d;){a=0;for(b=d.na.length;a<b;a++)this.kr(d.na[a]);
d=d.parent}this.na=m(this.na);this.Ae=m(this.Ae);a=0;for(b=this.Xa.length;a<b;a++)this.Xa[a].Ea();a=0;for(b=this.Hc.length;a<b;a++)this.Hc[a].Ea();a=0;for(b=this.Dc.length;a<b;a++)this.Dc[a].Ea(a<b-1&&this.Dc[a+1].Oi)};q.prototype.Ku=function(a){if(this.Jf!==!!a){this.Jf=!!a;var b;a=0;for(b=this.ki.length;a<b;++a)this.ki[a].Up();0<b&&this.b.ma.Qe&&this.b.ma.Qe.Em()}};q.prototype.bn=function(a){b(a,this.na)};q.prototype.kr=function(a){b(a,this.Ae)};q.prototype.Aj=function(){this.Gp=!0;this.parent&&
this.parent.Aj()};q.prototype.lo=function(){return this.Xa.length?this.Xa[0].trigger:!1};q.prototype.Ja=function(){var a,b,d=!1,c=this.b,e=this.b.Oa();e.zb=this;var k=this.Xa;this.Oi||(e.Ek=!1);if(this.jc){0===k.length&&(d=!0);e.Na=0;for(a=k.length;e.Na<a;e.Na++)b=k[e.Na],b.trigger||(b=b.Ja())&&(d=!0);(e.Ye=d)&&this.wj()}else{e.Na=0;for(a=k.length;e.Na<a;e.Na++)if(b=k[e.Na].Ja(),!b){e.Ye=!1;this.zm&&c.fe&&c.pb();return}e.Ye=!0;this.wj()}this.ks(e)};q.prototype.ks=function(a){a.Ye&&this.Xn&&(a.Ek=
!0);this.zm&&this.b.fe&&this.b.pb()};q.prototype.Eu=function(a){this.b.Oa().zb=this;this.Xa[a].Ja()&&(this.wj(),this.b.Oa().Ye=!0)};q.prototype.wj=function(){var a=this.b.Oa(),b;a.Tb=0;for(b=this.Hc.length;a.Tb<b;a.Tb++)if(this.Hc[a.Tb].Ja())return;this.sp()};q.prototype.Bu=function(){var a=this.b.Oa(),b;for(b=this.Hc.length;a.Tb<b;a.Tb++)if(this.Hc[a.Tb].Ja())return;this.sp()};q.prototype.sp=function(){if(this.Dc.length){var a,b,d,c,e=this.Dc.length-1;this.b.qj(this);if(this.Gp)for(a=0,b=this.Dc.length;a<
b;a++)d=this.Dc[a],(c=!this.Qj||!this.group&&a<e)&&this.b.pj(d.na),d.Ja(),c?this.b.jf(d.na):this.b.sk(d.na);else for(a=0,b=this.Dc.length;a<b;a++)this.Dc[a].Ja();this.b.mj()}};q.prototype.Fu=function(){var a=this.b.Oa();a.zb=this;var b=!1,d;a.Na=0;for(d=this.Xa.length;a.Na<d;a.Na++)if(this.Xa[a.Na].Ja())b=!0;else if(!this.jc)return!1;return this.jc?b:!0};q.prototype.Cu=function(){this.b.Eg++;var a=this.b.Oa().Na,b=this.b.qj(this);if(!this.jc)for(b.Na=a+1,a=this.Xa.length;b.Na<a;b.Na++)if(!this.Xa[b.Na].Ja()){this.b.mj();
return}this.wj();this.b.mj()};q.prototype.Pt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Xa[b].type===a.type)return!1;return!0};Tb=q;a.prototype.Ea=function(){var a,b,d;a=0;for(b=this.T.length;a<b;a++)d=this.T[a],d.Ea(),d.Fc&&(this.rg=!0)};a.prototype.Hu=function(){return!0};a.prototype.im=function(){var a,b;a=0;for(b=this.T.length;a<b;a++)this.Ba[a]=this.T[a].get();return Na(this.ib.apply(this.b.nd,this.Ba),this.Ji)};a.prototype.Gu=function(){var a,b;a=0;for(b=this.T.length;a<
b;a++)this.Ba[a]=this.T[a].get();a=this.ib.apply(this.Je?this.Je:this.type,this.Ba);this.type.lc();return a};a.prototype.hm=function(){var a,b,d,c,e,k,f,g,l=this.type,n=l.W(),m=this.cc.jc&&!this.trigger;b=0;var q=l.Nb,u=l.D,t=l.wd,v=this.Lc,H=-1<v,D=this.rg,w=this.T,z=this.Ba,C=this.Ji,B=this.ib,G;if(D)for(b=0,e=w.length;b<e;++b)k=w[b],k.Fc||(z[b]=k.get(0));else for(b=0,e=w.length;b<e;++b)z[b]=w[b].get(0);if(n.da){P(n.c);P(n.U);G=l.c;a=0;for(c=G.length;a<c;++a){g=G[a];if(D)for(b=0,e=w.length;b<e;++b)k=
w[b],k.Fc&&(z[b]=k.get(a));H?(b=0,u&&(b=g.type.Ff[t]),b=B.apply(g.L[v+b],z)):b=B.apply(g,z);(f=Na(b,C))?n.c.push(g):m&&n.U.push(g)}l.finish&&l.finish(!0);n.da=!1;l.lc();return n.$k()}d=0;G=(f=m&&!this.cc.Pt(this))?n.U:n.c;var M=!1;a=0;for(c=G.length;a<c;++a){g=G[a];if(D)for(b=0,e=w.length;b<e;++b)k=w[b],k.Fc&&(z[b]=k.get(a));H?(b=0,u&&(b=g.type.Ff[t]),b=B.apply(g.L[v+b],z)):b=B.apply(g,z);if(Na(b,C))if(M=!0,f){if(n.c.push(g),q)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.W().c.push(k)}else{G[d]=
g;if(q)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.W().c[d]=k;d++}else if(f){G[d]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.W().U[d]=k;d++}else if(m&&(n.U.push(g),q))for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.W().U.push(k)}wa(G,d);if(q)for(u=l.Vb,a=0,c=u.length;a<c;a++)g=u[a].W(),f?wa(g.U,d):wa(g.c,d);d=M;if(f&&!M)for(a=0,c=n.c.length;a<c;a++){g=n.c[a];if(D)for(b=0,e=w.length;b<e;b++)k=w[b],k.Fc&&(z[b]=k.get(a));b=H?B.apply(g.L[v],z):B.apply(g,
z);if(Na(b,C)){M=!0;break}}l.finish&&l.finish(d||m);return m?M:n.$k()};Ob=a;t.prototype.Ea=function(){var a,b,d;a=0;for(b=this.T.length;a<b;a++)d=this.T[a],d.Ea(),d.Fc&&(this.rg=!0)};t.prototype.im=function(){var a=this.b,b,d,c=this.T,e=this.Ba;b=0;for(d=c.length;b<d;++b)e[b]=c[b].get();return this.ib.apply(a.nd,e)};t.prototype.hm=function(){var a=this.type,b=this.Lc,d=a.wd,c=this.rg,e=this.T,k=this.Ba,f=this.ib,g=a.W().Xb(),a=a.D,l=-1<b,n,m,q,u,t,v;if(c)for(m=0,u=e.length;m<u;++m)t=e[m],t.Fc||(k[m]=
t.get(0));else for(m=0,u=e.length;m<u;++m)k[m]=e[m].get(0);n=0;for(q=g.length;n<q;++n){v=g[n];if(c)for(m=0,u=e.length;m<u;++m)t=e[m],t.Fc&&(k[m]=t.get(n));l?(m=0,a&&(m=v.type.Ff[d]),f.apply(v.L[b+m],k)):f.apply(v,k)}return!1};Pb=t;var H=[],G=-1;d.prototype.Ea=function(){var a,b;if(11===this.type)this.Re=this.b.On(this.Ph,this.cc.parent);else if(13===this.type)for(a=0,b=this.pf.length;a<b;a++)this.pf[a].Ea();this.hd&&this.hd.Ea()};d.prototype.au=function(a){this.Fc||!a||a.ra.Cj||(this.Fc=!0)};d.prototype.yp=
function(){this.Fc=!0};d.prototype.nt=function(a){this.Jd=a||0;a=v();this.hd.get(a);G--;return a.data};d.prototype.ot=function(a){this.Jd=a||0;a=v();this.hd.get(a);G--;return ha(a.data)?a.data:""};d.prototype.xt=function(){return this.object};d.prototype.lt=function(){return this.un};d.prototype.ut=function(a){this.Jd=a||0;a=v();this.hd.get(a);G--;return a.Ya()?this.b.Ig(a.data):this.b.Uk(a.data)};d.prototype.wt=function(){return this.Da};d.prototype.tt=function(){return this.key};d.prototype.qt=
function(){return this.index};d.prototype.pt=function(a){a=a||0;var b=this.qa.type,d=null,d=b.W(),c=d.Xb();if(c.length)d=c[a%c.length].type;else if(d.U.length)d=d.U[a%d.U.length].type;else if(b.c.length)d=b.c[a%b.c.length].type;else return 0;return this.index+d.ti[b.wd]};d.prototype.mt=function(){return this.Re};d.prototype.kt=function(){return this.In};d.prototype.yt=function(){var a,b;a=0;for(b=this.pf.length;a<b;a++)this.Oh[a]=this.pf[a].get();return this.Oh};Qb=d;f.prototype.Ea=function(){this.na=
m(this.na)};f.prototype.of=function(a){var b=this.b.Nn();this.parent&&!this.Xg&&b?(this.df>=b.length&&(b.length=this.df+1),b[this.df]=a):this.data=a};f.prototype.Kg=function(){var a=this.b.Nn();return!this.parent||this.Xg||!a||this.Ni?this.data:this.df>=a.length||"undefined"===typeof a[this.df]?this.cl:a[this.df]};f.prototype.Ja=function(){!this.parent||this.Xg||this.Ni||this.of(this.cl)};Kb=f;e.prototype.toString=function(){return"include:"+this.Pg.toString()};e.prototype.Ea=function(){this.Pg=this.b.Gk[this.Dt];
this.sheet.Yn.add(this);this.na=m(this.na);for(var a=this.parent;a;)a.group&&a.ki.push(this),a=a.parent;this.Up()};e.prototype.Ja=function(){this.parent&&this.b.zh(this.b.u);this.Pg.al||this.Pg.Ja(!0);this.parent&&this.b.jf(this.b.u)};e.prototype.Up=function(){for(var a=this.parent;a;){if(a.group&&!a.Jf){this.Wa=!1;return}a=a.parent}this.Wa=!0};Ub=e;k.prototype.reset=function(a){this.zb=a;this.Tb=this.Na=0;P(this.Jp);this.Ek=this.Ye=!1};Jb=k})();
(function(){function c(b,a){this.qa=b;this.b=b.b;this.type=a[0];this.get=[this.Ds,this.zs,this.Ms,this.Ps,this.ns,this.Ns,this.Hs,this.ws,this.Gs,this.Ls,this.os,this.Ks,this.xs,this.Is,this.Es,this.Fs,this.As,this.Bs,this.vs,this.Os,this.Js,this.Cs,this.us,this.ys][this.type];var c=null;this.Cd=this.T=this.Ba=this.ib=this.Oj=this.second=this.first=this.value=null;this.Lc=-1;this.Oc=null;this.Zp=-1;this.Re=this.Ph=null;this.dg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Sb(b,a[1]);break;case 18:this.first=new Sb(b,a[1]);this.second=new Sb(b,a[2]);this.Oj=new Sb(b,a[3]);break;case 19:this.ib=this.b.Pd(a[1]);this.ib!==Y.prototype.Fa.random&&this.ib!==Y.prototype.Fa.Dr||this.qa.yp();this.Ba=[];this.T=[];3===a.length?(c=a[2],this.Ba.length=c.length+1):this.Ba.length=1;break;case 20:this.Cd=this.b.u[a[1]];this.Lc=-1;this.ib=this.b.Pd(a[2]);this.dg=a[3];Xb.Function&&this.ib===Xb.Function.prototype.Fa.hv&&this.qa.yp();a[4]?this.Oc=new Sb(b,a[4]):this.Oc=null;this.Ba=
[];this.T=[];6===a.length?(c=a[5],this.Ba.length=c.length+1):this.Ba.length=1;break;case 21:this.Cd=this.b.u[a[1]];this.dg=a[2];a[3]?this.Oc=new Sb(b,a[3]):this.Oc=null;this.Zp=a[4];break;case 22:this.Cd=this.b.u[a[1]];this.Cd.Bi(a[2]);this.Lc=this.Cd.Ok(a[2]);this.ib=this.b.Pd(a[3]);this.dg=a[4];a[5]?this.Oc=new Sb(b,a[5]):this.Oc=null;this.Ba=[];this.T=[];7===a.length?(c=a[6],this.Ba.length=c.length+1):this.Ba.length=1;break;case 23:this.Ph=a[1],this.Re=null}this.qa.au(this.Cd);4<=this.type&&17>=
this.type&&(this.first=new Sb(b,a[1]),this.second=new Sb(b,a[2]));if(c){var g,d;g=0;for(d=c.length;g<d;g++)this.T.push(new Sb(b,c[g]))}}function g(){++q;n.length===q&&n.push(new Rb);return n[q]}function m(b,a,c){var g,d;g=0;for(d=b.length;g<d;++g)b[g].get(c),a[g+1]=c.data}function l(b,a){this.type=b||Vb.tf;this.data=a||0;this.ff=null;this.type==Vb.tf&&(this.data=Math.floor(this.data))}c.prototype.Ea=function(){23===this.type&&(this.Re=this.qa.b.On(this.Ph,this.qa.cc.parent));this.first&&this.first.Ea();
this.second&&this.second.Ea();this.Oj&&this.Oj.Ea();this.Oc&&this.Oc.Ea();if(this.T){var b,a;b=0;for(a=this.T.length;b<a;b++)this.T[b].Ea()}};var n=[],q=-1;c.prototype.Os=function(b){var a=this.T,c=this.Ba;c[0]=b;b=g();m(a,c,b);--q;this.ib.apply(this.b.nd,c)};c.prototype.Js=function(b){var a=this.Cd,c=this.Ba,l=this.T,d=this.Oc,f=this.ib,e=this.qa.Jd,k=a.W(),n=k.Xb();if(!n.length)if(k.U.length)n=k.U;else{this.dg?b.$b(""):b.ta(0);return}c[0]=b;b.ff=a;b=g();m(l,c,b);d&&(d.get(b),b.Ya()&&(e=b.data,n=
a.c));--q;a=n.length;if(e>=a||e<=-a)e%=a;0>e&&(e+=a);f.apply(n[e],c)};c.prototype.us=function(b){var a=this.Cd,c=this.Ba,l=this.T,d=this.Oc,f=this.Lc,e=this.ib,k=this.qa.Jd,n=a.W(),H=n.Xb();if(!H.length)if(n.U.length)H=n.U;else{this.dg?b.$b(""):b.ta(0);return}c[0]=b;b.ff=a;b=g();m(l,c,b);d&&(d.get(b),b.Ya()&&(k=b.data,H=a.c));--q;l=H.length;if(k>=l||k<=-l)k%=l;0>k&&(k+=l);k=H[k];H=0;a.D&&(H=k.type.Ff[a.wd]);e.apply(k.L[f+H],c)};c.prototype.Cs=function(b){var a=this.Oc,c=this.Cd,l=this.Zp,d=this.qa.Jd,
f=c.W(),e=f.Xb();if(!e.length)if(f.U.length)e=f.U;else{this.dg?b.$b(""):b.ta(0);return}if(a){f=g();a.get(f);if(f.Ya()){d=f.data;e=c.c;0!==e.length&&(d%=e.length,0>d&&(d+=e.length));d=c.Tk(d);c=d.Qa[l];ha(c)?b.$b(c):b.G(c);--q;return}--q}a=e.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=e[d];e=0;c.D&&(e=d.type.ti[c.wd]);c=d.Qa[l+e];ha(c)?b.$b(c):b.G(c)};c.prototype.Ds=function(b){b.type=Vb.tf;b.data=this.value};c.prototype.zs=function(b){b.type=Vb.sf;b.data=this.value};c.prototype.Ms=function(b){b.type=
Vb.String;b.data=this.value};c.prototype.Ps=function(b){this.first.get(b);b.Ya()&&(b.data=-b.data)};c.prototype.ns=function(b){this.first.get(b);var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data+=a.data,a.Mf()&&b.Xf());--q};c.prototype.Ns=function(b){this.first.get(b);var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data-=a.data,a.Mf()&&b.Xf());--q};c.prototype.Hs=function(b){this.first.get(b);var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data*=a.data,a.Mf()&&b.Xf());--q};c.prototype.ws=function(b){this.first.get(b);
var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data/=a.data,b.Xf());--q};c.prototype.Gs=function(b){this.first.get(b);var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data%=a.data,a.Mf()&&b.Xf());--q};c.prototype.Ls=function(b){this.first.get(b);var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data=Math.pow(b.data,a.data),a.Mf()&&b.Xf());--q};c.prototype.os=function(b){this.first.get(b);var a=g();this.second.get(a);a.Of()||b.Of()?this.qs(b,a):this.ps(b,a);--q};c.prototype.qs=function(b,a){b.Of()&&
a.Of()?this.ts(b,a):this.rs(b,a)};c.prototype.ts=function(b,a){b.data+=a.data};c.prototype.rs=function(b,a){b.Of()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.$b(b.data.toString()+a.data)};c.prototype.ps=function(b,a){b.ta(b.data&&a.data?1:0)};c.prototype.Ks=function(b){this.first.get(b);var a=g();this.second.get(a);b.Ya()&&a.Ya()&&(b.data||a.data?b.ta(1):b.ta(0));--q};c.prototype.vs=function(b){this.first.get(b);b.data?this.second.get(b):this.Oj.get(b)};c.prototype.xs=function(b){this.first.get(b);
var a=g();this.second.get(a);b.ta(b.data===a.data?1:0);--q};c.prototype.Is=function(b){this.first.get(b);var a=g();this.second.get(a);b.ta(b.data!==a.data?1:0);--q};c.prototype.Es=function(b){this.first.get(b);var a=g();this.second.get(a);b.ta(b.data<a.data?1:0);--q};c.prototype.Fs=function(b){this.first.get(b);var a=g();this.second.get(a);b.ta(b.data<=a.data?1:0);--q};c.prototype.As=function(b){this.first.get(b);var a=g();this.second.get(a);b.ta(b.data>a.data?1:0);--q};c.prototype.Bs=function(b){this.first.get(b);
var a=g();this.second.get(a);b.ta(b.data>=a.data?1:0);--q};c.prototype.ys=function(b){var a=this.Re.Kg();ga(a)?b.G(a):b.$b(a)};Sb=c;l.prototype.Mf=function(){return this.type===Vb.sf};l.prototype.Ya=function(){return this.type===Vb.tf||this.type===Vb.sf};l.prototype.Of=function(){return this.type===Vb.String};l.prototype.Xf=function(){this.Mf()||(this.Of()&&(this.data=parseFloat(this.data)),this.type=Vb.sf)};l.prototype.ta=function(b){this.type=Vb.tf;this.data=Math.floor(b)};l.prototype.G=function(b){this.type=
Vb.sf;this.data=b};l.prototype.$b=function(b){this.type=Vb.String;this.data=b};l.prototype.Mu=function(b){ga(b)?(this.type=Vb.sf,this.data=b):ha(b)?(this.type=Vb.String,this.data=b.toString()):(this.type=Vb.tf,this.data=0)};Rb=l;Vb={tf:0,sf:1,String:2}})();function Y(c){this.b=c;this.Sb=[]}
Y.prototype.$a=function(){var c={},g,m,l,n,q,b,a,t;c.waits=[];var v=c.waits,d;g=0;for(m=this.Sb.length;g<m;g++){b=this.Sb[g];d={t:b.time,st:b.Ep,s:b.rm,ev:b.Ef.X,sm:[],sols:{}};b.Ef.Hc[b.Tb]&&(d.act=b.Ef.Hc[b.Tb].X);l=0;for(n=b.na.length;l<n;l++)d.sm.push(b.na[l].X);for(q in b.Fb)if(b.Fb.hasOwnProperty(q)){a=this.b.u[parseInt(q,10)];t={sa:b.Fb[q].xj,insts:[]};l=0;for(n=b.Fb[q].yd.length;l<n;l++)t.insts.push(b.Fb[q].yd[l].uid);d.sols[a.X.toString()]=t}v.push(d)}return c};
Y.prototype.tb=function(c){c=c.waits;var g,m,l,n,q,b,a,t,v,d,f;P(this.Sb);g=0;for(m=c.length;g<m;g++)if(b=c[g],t=this.b.hn[b.ev.toString()]){v=-1;l=0;for(n=t.Hc.length;l<n;l++)if(t.Hc[l].X===b.act){v=l;break}if(-1!==v){a={Fb:{},na:[],Ak:!1};a.time=b.t;a.Ep=b.st||"";a.rm=!!b.s;a.Ef=t;a.Tb=v;l=0;for(n=b.sm.length;l<n;l++)(t=this.b.Ei(b.sm[l]))&&a.na.push(t);for(q in b.sols)if(b.sols.hasOwnProperty(q)&&(t=this.b.Ei(parseInt(q,10)))){v=b.sols[q];d={xj:v.sa,yd:[]};l=0;for(n=v.insts.length;l<n;l++)(f=this.b.Rn(v.insts[l]))&&
d.yd.push(f);a.Fb[t.index.toString()]=d}this.Sb.push(a)}}};
(function(){function c(){}function g(){}function m(){}var l=Y.prototype;c.prototype.oq=function(){return!0};c.prototype.Oq=function(){return!0};c.prototype.Nq=function(){return!0};c.prototype.nq=function(b){var a=this.b.Ci(),c=a.I.Every_lastTime||0,g=this.b.Ob.ua;"undefined"===typeof a.I.Every_seconds&&(a.I.Every_seconds=b);var d=a.I.Every_seconds;if(g>=c+d)return a.I.Every_lastTime=c+d,g>=a.I.Every_lastTime+.04&&(a.I.Every_lastTime=g),a.I.Every_seconds=b,!0;g<c-.1&&(a.I.Every_lastTime=g);return!1};
c.prototype.jq=function(b,a,c){return Wb(b.Kg(),a,c)};c.prototype.vq=function(b){return(b=this.b.Ng[b.toLowerCase()])&&b.Jf};c.prototype.mq=function(){var b=this.b.Oa();return b.Ek?!1:!b.Ye};c.prototype.Pm=function(){return!0};c.prototype.Eq=function(){return!0};c.prototype.dk=function(){return!0};c.prototype.Sm=function(){return!0};c.prototype.Pq=function(){return!0};c.prototype.Uh=function(){return!0};c.prototype.fq=function(b,a,c){return Ja(Q(b),Q(c))<=Q(a)};c.prototype.uq=function(b,a){return La(Q(b),
Q(a))};c.prototype.tq=function(b,a,c){b=Ia(b);a=Ia(a);c=Ia(c);return La(c,a)?La(b,a)&&!La(b,c):!(!La(b,a)&&La(b,c))};l.k=new c;g.prototype.pq=function(b){this.b.Yg||this.b.wg||(this.b.wg=b)};g.prototype.kq=function(b,a,c,g){if(a&&b&&(a=this.b.wn(b,a,c,g))){this.b.Qc++;var d;this.b.trigger(Object.getPrototypeOf(b.ra).k.Th,a);if(a.Nb)for(c=0,g=a.siblings.length;c<g;c++)d=a.siblings[c],this.b.trigger(Object.getPrototypeOf(d.type.ra).k.Th,d);this.b.Qc--;b=b.W();b.da=!1;P(b.c);b.c[0]=a;if(a.Nb)for(c=0,
g=a.siblings.length;c<g;c++)d=a.siblings[c],b=d.type.W(),b.da=!1,P(b.c),b.c[0]=d}};g.prototype.Yq=function(b,a){0===b.Yj?ga(a)?b.of(a):b.of(parseFloat(a)):1===b.Yj&&b.of(a.toString())};g.prototype.cq=function(b,a){0===b.Yj?ga(a)?b.of(b.Kg()+a):b.of(b.Kg()+parseFloat(a)):1===b.Yj&&b.of(b.Kg()+a.toString())};var n=[],q=[];g.prototype.cr=function(b){if(!(0>b)){var a,c,g,d=this.b.Oa(),f;n.length?f=n.pop():f={Fb:{},na:[]};f.Ak=!1;f.time=this.b.Ob.ua+b;f.Ep="";f.rm=!1;f.Ef=d.zb;f.Tb=d.Tb+1;b=0;for(a=this.b.u.length;b<
a;b++)g=this.b.u[b],c=g.W(),c.da&&-1===d.zb.na.indexOf(g)||(f.na.push(g),g=void 0,q.length?g=q.pop():g={yd:[]},g.xj=!1,g.xj=c.da,xa(g.yd,c.c),f.Fb[b.toString()]=g);this.Sb.push(f);return!0}};l.ca=new g;m.prototype["int"]=function(b,a){ha(a)?(b.ta(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.ta(a)};m.prototype["float"]=function(b,a){ha(a)?(b.G(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.G(a)};m.prototype.random=function(b,a,c){void 0===c?b.G(Math.random()*a):b.G(Math.random()*(c-a)+a)};m.prototype.sqrt=
function(b,a){b.G(Math.sqrt(a))};m.prototype.abs=function(b,a){b.G(Math.abs(a))};m.prototype.round=function(b,a){b.ta(Math.round(a))};m.prototype.floor=function(b,a){b.ta(Math.floor(a))};m.prototype.ceil=function(b,a){b.ta(Math.ceil(a))};m.prototype.sin=function(b,a){b.G(Math.sin(Q(a)))};m.prototype.cos=function(b,a){b.G(Math.cos(Q(a)))};m.prototype.tan=function(b,a){b.G(Math.tan(Q(a)))};m.prototype.asin=function(b,a){b.G(Ea(Math.asin(a)))};m.prototype.acos=function(b,a){b.G(Ea(Math.acos(a)))};m.prototype.atan=
function(b,a){b.G(Ea(Math.atan(a)))};m.prototype.exp=function(b,a){b.G(Math.exp(a))};m.prototype.log10=function(b,a){b.G(Math.log(a)/Math.LN10)};m.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,g,d;c=2;for(g=arguments.length;c<g;c++)d=arguments[c],"number"===typeof d&&a<d&&(a=d);b.G(a)};m.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,g,d;c=2;for(g=arguments.length;c<g;c++)d=arguments[c],"number"===typeof d&&a>d&&(a=d);b.G(a)};m.prototype.Df=
function(b){b.G(this.b.Df)};m.prototype.lg=function(b){b.G(this.b.lg)};m.prototype.time=function(b){b.G(this.b.Ob.ua)};m.prototype.De=function(b){b.ta(this.b.De)};m.prototype.cj=function(b){b.ta(this.b.cj)};m.prototype.Lk=function(b){b.ta(this.b.Lk)};m.prototype.i=function(b,a,c,g,d){b.G(Ea(X(a,c,g,d)))};m.prototype.left=function(b,a,c){b.$b(ha(a)?a.substr(0,c):"")};m.prototype.right=function(b,a,c){b.$b(ha(a)?a.substr(a.length-c):"")};m.prototype.replace=function(b,a,c,g){ha(a)&&ha(c)&&ha(g)?b.$b(a.replace(new RegExp(Wa(c),
"gi"),g)):b.$b(ha(a)?a:"")};m.prototype.trim=function(b,a){b.$b(ha(a)?a.trim():"")};m.prototype.Dr=function(b){var a=y(Math.random()*(arguments.length-1));b.Mu(arguments[a+1])};m.prototype.uk=function(b){b.G(this.b.uk/1E3)};m.prototype.Vi=function(b){b.G(this.b.Vi)};l.Fa=new m;l.Du=function(){var b,a,c,g,d,f,e=this.b.Oa();b=0;for(c=this.Sb.length;b<c;b++){g=this.Sb[b];if(-1===g.time){if(!g.rm)continue}else if(g.time>this.b.Ob.ua)continue;e.zb=g.Ef;e.Tb=g.Tb;e.Na=0;for(a in g.Fb)g.Fb.hasOwnProperty(a)&&
(d=this.b.u[parseInt(a,10)].W(),f=g.Fb[a],d.da=f.xj,xa(d.c,f.yd),d=f,P(d.yd),q.push(d));g.Ef.Bu();this.b.sk(g.na);g.Ak=!0}a=b=0;for(c=this.Sb.length;b<c;b++)g=this.Sb[b],this.Sb[a]=g,g.Ak?(Pa(g.Fb),P(g.na),n.push(g)):a++;wa(this.Sb,a)}})();
(function(){gb=function(c,m){var l=c[1],n=c[3],q=c[4],b=c[5],a=c[6],t=c[7],v=c[8];m.k||(m.k={});m.ca||(m.ca={});m.Fa||(m.Fa={});var d=m.k,f=m.ca,e=m.Fa;n&&(d.mv=function(a,b){return Wb(this.x,a,b)},d.nv=function(a,b){return Wb(this.y,a,b)},d.tv=function(){var a=this.j;this.ea();var b=this.ia;return!(b.right<a.Y||b.bottom<a.Z||b.left>a.ga||b.top>a.fa)},d.uv=function(){this.ea();var a=this.ia,b=this.b.ma;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.Gv=function(a,b,d){var c=this.W(),
e=c.Xb();if(!e.length)return!1;var f=e[0],g=f,l=Ma(f.x,f.y,b,d),p,n,m;p=1;for(n=e.length;p<n;p++)if(f=e[p],m=Ma(f.x,f.y,b,d),0===a&&m<l||1===a&&m>l)l=m,g=f;c.xh(g);return!0},f.Xv=function(a){this.x!==a&&(this.x=a,this.F())},f.Yv=function(a){this.y!==a&&(this.y=a,this.F())},f.Vm=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.F()},f.Tv=function(a,b){var d=a.dt(this);if(d){var c;d.Hg?(c=d.Hg(b,!0),d=d.Hg(b,!1)):(c=d.x,d=d.y);if(this.x!==c||this.y!==d)this.x=c,this.y=d,this.F()}},f.zv=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.F())},f.yv=function(a,b){0!==b&&(this.x+=Math.cos(Q(a))*b,this.y+=Math.sin(Q(a))*b,this.F())},e.Wm=function(a){a.G(this.x)},e.Xm=function(a){a.G(this.y)},e.Df=function(a){a.G(this.b.Se(this))});q&&(d.lv=function(a,b){return Wb(this.width,a,b)},d.iv=function(a,b){return Wb(this.height,a,b)},f.Wv=function(a){this.width!==a&&(this.width=a,this.F())},f.Rv=function(a){this.height!==a&&(this.height=a,this.F())},f.Uv=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.F()},e.bw=function(a){a.G(this.width)},e.pv=function(a){a.G(this.height)},e.cv=function(a){this.ea();a.G(this.ia.left)},e.gv=function(a){this.ea();a.G(this.ia.top)},e.dv=function(a){this.ea();a.G(this.ia.right)},e.bv=function(a){this.ea();a.G(this.ia.bottom)});b&&(d.fq=function(a,b){return Ja(this.i,Q(b))<=Q(a)},d.uq=function(a){return La(this.i,Q(a))},d.tq=function(a,b){var d=Ia(a),c=Ia(b),e=Ga(this.i);return La(c,d)?La(e,d)&&
!La(e,c):!(!La(e,d)&&La(e,c))},f.Sq=function(a){a=Q(Fa(a));isNaN(a)||this.i===a||(this.i=a,this.F())},f.Kv=function(a){0===a||isNaN(a)||(this.i+=Q(a),this.i=Ga(this.i),this.F())},f.Lv=function(a){0===a||isNaN(a)||(this.i-=Q(a),this.i=Ga(this.i),this.F())},f.Mv=function(a,b){var d=Ka(this.i,Q(b),Q(a));isNaN(d)||this.i===d||(this.i=d,this.F())},f.Nv=function(a,b,d){a=Ka(this.i,Math.atan2(d-this.y,b-this.x),Q(a));isNaN(a)||this.i===a||(this.i=a,this.F())},f.Vv=function(a,b){var d=Math.atan2(b-this.y,
a-this.x);isNaN(d)||this.i===d||(this.i=d,this.F())},e.dq=function(a){a.G(Ha(this.i))});l||(d.jv=function(a,b,d){return Wb(this.Qa[a],b,d)},d.rv=function(a){return this.Qa[a]},d.Hv=function(a,b){var d=this.W(),c=d.Xb();if(!c.length)return!1;var e=c[0],f=e,g=e.Qa[b],l,p,n;l=1;for(p=c.length;l<p;l++)if(e=c[l],n=e.Qa[b],0===a&&n<g||1===a&&n>g)g=n,f=e;d.xh(f);return!0},d.Fv=function(a){var b,d,c,e,f;if(this.b.Ci().Ji){f=this.W();if(f.da)for(f.da=!1,P(f.c),P(f.U),c=this.c,b=0,d=c.length;b<d;b++)e=c[b],
e.uid===a?f.U.push(e):f.c.push(e);else{c=b=0;for(d=f.c.length;b<d;b++)e=f.c[b],f.c[c]=e,e.uid===a?f.U.push(e):c++;wa(f.c,c)}this.lc();return!!f.c.length}e=this.b.Rn(a);if(!e)return!1;f=this.W();if(!f.da&&-1===f.c.indexOf(e))return!1;if(this.D)for(a=e.type.wa,b=0,d=a.length;b<d;b++){if(a[b]===this)return f.xh(e),this.lc(),!0}else if(e.type===this)return f.xh(e),this.lc(),!0;return!1},d.Th=function(){return!0},d.Gq=function(){return!0},f.Sv=function(a,b){var d=this.Qa;ga(d[a])?d[a]=ga(b)?b:parseFloat(b):
ha(d[a])&&(d[a]=ha(b)?b:b.toString())},f.av=function(a,b){var d=this.Qa;ga(d[a])?d[a]=ga(b)?d[a]+b:d[a]+parseFloat(b):ha(d[a])&&(d[a]=ha(b)?d[a]+b:d[a]+b.toString())},f.Zv=function(a,b){var d=this.Qa;ga(d[a])&&(d[a]=ga(b)?d[a]-b:d[a]-parseFloat(b))},f.Ov=function(a,b){this.Qa[a]=b?1:0},f.$v=function(a){this.Qa[a]=1-this.Qa[a]},f.lq=function(){this.b.Od(this)},f.zq||(f.zq=function(a){var b,d;try{b=JSON.parse(a)}catch(c){return}this.b.Ui(this,b,!0);this.Ge&&this.Ge();if(this.L)for(a=0,b=this.L.length;a<
b;++a)d=this.L[a],d.Ge&&d.Ge()}),e.ov=function(a){var b=a.ff.c.length,d,c,e;d=0;for(c=this.b.Mc.length;d<c;d++)e=this.b.Mc[d],a.ff.D?0<=e.type.wa.indexOf(a.ff)&&b++:e.type===a.ff&&b++;a.ta(b)},e.Jv=function(a){a.ta(a.ff.W().Xb().length)},e.aw=function(a){a.ta(this.uid)},e.qv=function(a){a.ta(this.Lg())},e.gq||(e.gq=function(a){a.$b(JSON.stringify(this.b.jm(this,!0)))}));a&&(d.vv=function(){return this.visible},f.Zq=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ja=!0)},d.kv=function(a,b){return Wb(cb(100*
this.opacity),a,b)},f.Wq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ja=!0)},e.Opacity=function(a){a.G(cb(100*this.opacity))});t&&(d.sv=function(a){return a?this.j===a:!1},d.Iv=function(a){var b=this.W(),d=b.Xb();if(!d.length)return!1;var c=d[0],e=c,f,g;f=1;for(g=d.length;f<g;f++)if(c=d[f],0===a){if(c.j.index>e.j.index||c.j.index===e.j.index&&c.jd()>e.jd())e=c}else if(c.j.index<e.j.index||c.j.index===e.j.index&&c.jd()<e.jd())e=c;b.xh(e);return!0},f.Cv=function(){var a=
this.j,b=a.c;b.length&&b[b.length-1]===this||(a.bg(this,!1),a.tg(this,!1),this.b.ja=!0)},f.Av=function(){var a=this.j,b=a.c;b.length&&b[0]===this||(a.bg(this,!1),a.tu(this),this.b.ja=!0)},f.Bv=function(a){a&&a!=this.j&&(this.j.bg(this,!0),this.j=a,a.tg(this,!0),this.b.ja=!0)},f.ew=function(a,b){var d=0===a;if(b){var c=b.Ys(this);c&&c.uid!==this.uid&&(this.j.index!==c.j.index&&(this.j.bg(this,!0),this.j=c.j,c.j.tg(this,!0)),this.j.cu(this,c,d),this.b.ja=!0)}},e.xv=function(a){a.ta(this.j.Vo)},e.wv=
function(a){a.$b(this.j.name)},e.dw=function(a){a.ta(this.jd())});v&&(f.Pv=function(a,b){if(this.b.n){var d=this.type.Sk(b);if(!(0>d)){var c=1===a;this.Qd[d]!==c&&(this.Qd[d]=c,this.$c(),this.b.ja=!0)}}},f.Qv=function(a,b,d){if(this.b.n){var c=this.type.Sk(a);0>c||(a=this.type.O[c],c=this.Aa[c],b=Math.floor(b),0>b||b>=c.length||(1===this.b.n.it(a.Ka,b)&&(d/=100),c[b]!==d&&(c[b]=d,a.Wa&&(this.b.ja=!0))))}})};Bb=function(){this.pk=this.bi=!0;this.type.Vh=!0;this.b.ja=!0;var c,m,l=this.lk;c=0;for(m=
l.length;c<m;++c)l[c](this);this.j.kc&&this.ea()};Cb=function(c){c&&this.lk.push(c)};Eb=function(){if(this.bi){var c=this.ia,m=this.yb;c.set(this.x,this.y,this.x+this.width,this.y+this.height);c.offset(-this.Kb*this.width,-this.Lb*this.height);this.i?(c.offset(-this.x,-this.y),m.Ap(c,this.i),m.offset(this.x,this.y),m.jn(c)):m.ze(c);c.normalize();this.bi=!1;this.Xp()}};var c=new sa(0,0,0,0);Fb=function(){if(this.j.kc){var g=this.j.lb,m=this.ia;c.set(g.Gb(m.left),g.Hb(m.top),g.Gb(m.right),g.Hb(m.bottom));
this.Qb.Cg(c)||(this.Qb.right<this.Qb.left?g.update(this,null,c):g.update(this,this.Qb,c),this.Qb.yf(c),this.j.Wc=!0)}};Gb=function(){if(this.pk&&this.oc){this.ea();var g=this.type.xg,m=this.ia;c.set(g.Gb(m.left),g.Hb(m.top),g.Gb(m.right),g.Hb(m.bottom));this.nc.Cg(c)||(this.nc.right<this.nc.left?g.update(this,null,c):g.update(this,this.nc,c),this.nc.yf(c),this.pk=!1)}};Db=function(c,m){return this.ia.rb(c,m)&&this.yb.rb(c,m)?this.Ee?this.Bw(c,m):this.P&&!this.P.je()?(this.P.Ud(this.width,this.height,
this.i),this.P.rb(c-this.x,m-this.y)):!0:!1};xb=function(){this.type.Vj();return this.Ve};Hb=function(){this.j.Gm();return this.cd};Ib=function(){P(this.ba);var c,m,l,n=!0;c=0;for(m=this.Qd.length;c<m;c++)this.Qd[c]&&(l=this.type.O[c],this.ba.push(l),l.Uc||(n=!1));this.Yp=!!this.ba.length;this.Ed=n};yb=function(){return"Inst"+this.mp};jb=function(c){if(c&&c.Nb&&c.type!=this){var m,l,n;m=0;for(l=c.siblings.length;m<l;m++)if(n=c.siblings[m],n.type==this)return n}c=this.W().Xb();return c.length?c[0]:
null};kb=function(c){var m=this.W().Xb();return m.length?m[c.Lg()%m.length]:null};ib=function(){if(this.hg&&!this.D){var c,m;c=0;for(m=this.c.length;c<m;c++)this.c[c].Ve=c;var l=c,n=this.b.Mc;c=0;for(m=n.length;c<m;++c)n[c].type===this&&(n[c].Ve=l++);this.hg=!1}};vb=function(c){if(c<this.c.length)return this.c[c];c-=this.c.length;var m=this.b.Mc,l,n;l=0;for(n=m.length;l<n;++l)if(m[l].type===this){if(0===c)return m[l];--c}return null};lb=function(){return this.Kd[this.fd]};mb=function(){this.fd++;
this.fd===this.Kd.length?this.Kd.push(new hb(this)):(this.Kd[this.fd].da=!0,P(this.Kd[this.fd].U))};nb=function(){this.fd++;this.fd===this.Kd.length&&this.Kd.push(new hb(this));var c=this.Kd[this.fd],m=this.Kd[this.fd-1];m.da?c.da=!0:(c.da=!1,xa(c.c,m.c));P(c.U)};qb=function(){this.fd--};rb=function(c){var m,l,n,q,b,a=0;if(!this.D)for(m=0,l=this.wa.length;m<l;m++)for(b=this.wa[m],n=0,q=b.ya.length;n<q;n++){if(c===b.ya[n].name)return this.I.lastBehIndex=a,b.ya[n];a++}m=0;for(l=this.ya.length;m<l;m++){if(c===
this.ya[m].name)return this.I.lastBehIndex=a,this.ya[m];a++}return null};sb=function(c){return this.Bi(c)?this.I.lastBehIndex:-1};tb=function(c){var m,l;m=0;for(l=this.O.length;m<l;m++)if(this.O[m].name===c)return m;return-1};ub=function(){if(this.Nb&&!this.D){var c,m,l,n,q,b,a;this.Vj();b=this.W();var t=b.da,v=(c=this.b.Oa())&&c.zb&&c.zb.jc;c=0;for(m=this.Vb.length;c<m;c++)if(q=this.Vb[c],q!==this&&(q.Vj(),a=q.W(),a.da=t,!t)){P(a.c);l=0;for(n=b.c.length;l<n;++l)a.c[l]=q.Tk(b.c[l].Ve);if(v)for(P(a.U),
l=0,n=b.U.length;l<n;++l)a.U[l]=q.Tk(b.U[l].Ve)}}};wb=function(){return"Type"+this.X};Wb=function(c,m,l){if("undefined"===typeof c||"undefined"===typeof l)return!1;switch(m){case 0:return c===l;case 1:return c!==l;case 2:return c<l;case 3:return c<=l;case 4:return c>l;case 5:return c>=l;default:return!1}}})();var ec={};function hc(c){this.b=c}
(function(){function c(){}var g=hc.prototype;g.ka=function(c){this.ra=c;this.b=c.b};g.ka.prototype.R=function(){};g.aa=function(c){this.type=c;this.b=c.b;this.$g=Array(256);this.Nh=Array(256);this.Md=0};var m=g.aa.prototype;m.R=function(){var c=this;this.b.Ga||(jQuery(document).keydown(function(g){c.rh(g)}),jQuery(document).keyup(function(g){c.sh(g)}))};var l=[32,33,34,35,36,37,38,39,40,44];m.rh=function(c){var g=!1;window!=window.top&&-1<l.indexOf(c.which)&&(c.preventDefault(),g=!0,c.stopPropagation());
if(this.$g[c.which])this.Nh[c.which]&&!g&&c.preventDefault();else{this.$g[c.which]=!0;this.Md=c.which;this.b.uc=!0;this.b.trigger(hc.prototype.k.Cq,this);var b=this.b.trigger(hc.prototype.k.Lq,this),a=this.b.trigger(hc.prototype.k.Mq,this);this.b.uc=!1;if(b||a)this.Nh[c.which]=!0,g||c.preventDefault()}};m.sh=function(c){this.$g[c.which]=!1;this.Md=c.which;this.b.uc=!0;this.b.trigger(hc.prototype.k.Km,this);var g=this.b.trigger(hc.prototype.k.Om,this),b=this.b.trigger(hc.prototype.k.Nm,this);this.b.uc=
!1;if(g||b||this.Nh[c.which])this.Nh[c.which]=!0,c.preventDefault()};m.re=function(){var c;for(c=0;256>c;++c)if(this.$g[c]){this.$g[c]=!1;this.Md=c;this.b.trigger(hc.prototype.k.Km,this);var g=this.b.trigger(hc.prototype.k.Om,this),b=this.b.trigger(hc.prototype.k.Nm,this);if(g||b)this.Nh[c]=!0}};m.$a=function(){return{triggerKey:this.Md}};m.tb=function(c){this.Md=c.triggerKey};c.prototype.Lq=function(c){return c===this.Md};c.prototype.Cq=function(){return!0};c.prototype.Km=function(){return!0};c.prototype.Om=
function(c){return c===this.Md};c.prototype.Mq=function(c){return c===this.Md};c.prototype.Nm=function(c){return c===this.Md};g.k=new c;g.ca=new function(){};g.Fa=new function(){}})();function ic(c){this.b=c}
(function(){function c(c){this.qa=c;this.Wa=!1;this.i=this.speed=this.y=this.x=0;this.opacity=1;this.Sd=this.Kf=this.size=this.Fi=0}var g=ic.prototype;g.ka=function(c){this.ra=c;this.b=c.b};var m=g.ka.prototype;m.R=function(){this.D||(this.V=new Image,this.V.vk=this.xm,this.J=null,this.b.Zj(this.V,this.Nj))};m.vh=function(){this.D||(this.J=null)};m.wh=function(){this.D||!this.c.length||this.J||(this.J=this.b.n.Vf(this.V,!0,this.b.pa,this.Lh))};m.Fl=function(){this.D||this.J||!this.b.n||(this.J=this.b.n.Vf(this.V,
!0,this.b.pa,this.Lh))};m.Uj=function(){this.D||this.c.length||!this.J||(this.b.n.deleteTexture(this.J),this.J=null)};m.nj=function(c){c.drawImage(this.V,0,0)};c.prototype.init=function(){var c=this.qa;this.x=c.x-c.ak/2+Math.random()*c.ak;this.y=c.y-c.bk/2+Math.random()*c.bk;this.speed=c.gl-c.Ej/2+Math.random()*c.Ej;this.i=c.i-c.Fj/2+Math.random()*c.Fj;this.opacity=c.el;this.size=c.fl-c.Dj/2+Math.random()*c.Dj;this.Fi=c.Zk-c.Gi/2+Math.random()*c.Gi;this.Sd=this.Kf=0};c.prototype.xb=function(c){var g=
this.qa;this.x+=Math.cos(this.i)*this.speed*c;this.y+=Math.sin(this.i)*this.speed*c;this.y+=this.Kf*c;this.speed+=g.xa*c;this.size+=this.Fi*c;this.Kf+=g.de*c;this.Sd+=c;1>this.size?this.Wa=!1:(0!==g.bh&&(this.i+=Math.random()*g.bh*c-g.bh*c/2),0!==g.eh&&(this.speed+=Math.random()*g.eh*c-g.eh*c/2),0!==g.dh&&(this.opacity+=Math.random()*g.dh*c-g.dh*c/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=g.Bf&&this.Sd>=g.timeout&&(this.Wa=!1),2===g.Bf&&0>=this.speed&&(this.Wa=!1))};c.prototype.qc=
function(c){var g=this.qa.opacity*this.opacity;if(0!==g){0===this.qa.Bf&&(g*=1-this.Sd/this.qa.timeout);c.globalAlpha=g;var g=this.x-this.size/2,b=this.y-this.size/2;this.qa.b.Tc&&(g=g+.5|0,b=b+.5|0);c.drawImage(this.qa.type.V,g,b,this.size,this.size)}};c.prototype.Bb=function(c){var g=this.qa.opacity*this.opacity;0===this.qa.Bf&&(g*=1-this.Sd/this.qa.timeout);var b=this.size,a=b*this.qa.gp,l=this.x-b/2,m=this.y-b/2;this.qa.b.Tc&&(l=l+.5|0,m=m+.5|0);1>a||0===g||(a<c.bu||a>c.Kl?(c.xe(g),c.ue(l,m,l+
b,m,l+b,m+b,l,m+b)):c.nu(this.x,this.y,a,g))};c.prototype.left=function(){return this.x-this.size/2};c.prototype.right=function(){return this.x+this.size/2};c.prototype.top=function(){return this.y-this.size/2};c.prototype.bottom=function(){return this.y+this.size/2};g.aa=function(c){this.type=c;this.b=c.b};var m=g.aa.prototype,l=[];m.R=function(){var c=this.C;this.tj=c[0];this.Fj=Q(c[1]);this.fg=c[2];this.tm=!0;this.gl=c[3];this.fl=c[4];this.el=c[5]/100;this.Zk=c[6];this.ak=c[7];this.bk=c[8];this.Ej=
c[9];this.Dj=c[10];this.Gi=c[11];this.xa=c[12];this.de=c[13];this.bh=c[14];this.eh=c[15];this.dh=c[16];this.Bf=c[17];this.timeout=c[18];this.gf=0;this.gp=1;this.ij=this.x;this.kj=this.y;this.jj=this.x;this.hj=this.y;this.mr(function(c){c.ia.set(c.ij,c.kj,c.jj,c.hj);c.yb.ze(c.ia);c.bi=!1;c.Hm();c.Xp()});this.Bc||(this.Db=[]);this.b.Pj(this);this.type.Fl();if(1===this.fg)for(c=0;c<this.tj;c++)this.hk().opacity=0;this.xi=!0};m.$a=function(){var c={r:this.tj,sc:this.Fj,st:this.fg,s:this.tm,isp:this.gl,
isz:this.fl,io:this.el,gr:this.Zk,xr:this.ak,yr:this.bk,spr:this.Ej,szr:this.Dj,grnd:this.Gi,acc:this.xa,g:this.de,lar:this.bh,lsr:this.eh,lor:this.dh,dm:this.Bf,to:this.timeout,pcc:this.gf,ft:this.xi,p:[]},g,b,a,l=c.p;g=0;for(b=this.Db.length;g<b;g++)a=this.Db[g],l.push([a.x,a.y,a.speed,a.i,a.opacity,a.Fi,a.size,a.Kf,a.Sd]);return c};m.tb=function(c){this.tj=c.r;this.Fj=c.sc;this.fg=c.st;this.tm=c.s;this.gl=c.isp;this.fl=c.isz;this.el=c.io;this.Zk=c.gr;this.ak=c.xr;this.bk=c.yr;this.Ej=c.spr;this.Dj=
c.szr;this.Gi=c.grnd;this.xa=c.acc;this.de=c.g;this.bh=c.lar;this.eh=c.lsr;this.dh=c.lor;this.Bf=c.dm;this.timeout=c.to;this.gf=c.pcc;this.xi=c.ft;l.push.apply(l,this.Db);P(this.Db);var g,b,a,m=c.p;c=0;for(g=m.length;c<g;c++)b=this.hk(),a=m[c],b.x=a[0],b.y=a[1],b.speed=a[2],b.i=a[3],b.opacity=a[4],b.Fi=a[5],b.size=a[6],b.Kf=a[7],b.Sd=a[8]};m.$f=function(){l.push.apply(l,this.Db);P(this.Db)};m.hk=function(){var g;l.length?(g=l.pop(),g.qa=this):g=new c(this);this.Db.push(g);g.Wa=!0;return g};m.xb=function(){var c=
this.b.Se(this),g,b,a,m;if(0===this.fg&&this.tm)for(this.gf+=c*this.tj,b=y(this.gf),this.gf-=b,g=0;g<b;g++)a=this.hk(),a.init();this.ij=this.x;this.kj=this.y;this.jj=this.x;this.hj=this.y;m=g=0;for(b=this.Db.length;g<b;g++)a=this.Db[g],this.Db[m]=a,this.b.ja=!0,1===this.fg&&this.xi&&a.init(),a.xb(c),a.Wa?(a.left()<this.ij&&(this.ij=a.left()),a.right()>this.jj&&(this.jj=a.right()),a.top()<this.kj&&(this.kj=a.top()),a.bottom()>this.hj&&(this.hj=a.bottom()),m++):l.push(a);wa(this.Db,m);this.F();this.xi=
!1;1===this.fg&&0===this.Db.length&&this.b.Od(this)};m.qc=function(c){var g,b,a,l=this.j;g=0;for(b=this.Db.length;g<b;g++)a=this.Db[g],a.right()>=l.Y&&a.bottom()>=l.Z&&a.left()<=l.ga&&a.top()<=l.fa&&a.qc(c)};m.Bb=function(c){this.gp=this.j.gc();c.Va(this.type.J);var g,b,a,l=this.j;g=0;for(b=this.Db.length;g<b;g++)a=this.Db[g],a.right()>=l.Y&&a.bottom()>=l.Z&&a.left()<=l.ga&&a.top()<=l.fa&&a.Bb(c)};g.k=new function(){};g.ca=new function(){};g.Fa=new function(){}})();function Z(c){this.b=c}
(function(){function c(){if(0===this.xk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.gg?b.drawImage(this.V,this.Yf,this.Zf,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.V,0,0,this.width,this.height);this.xk=a.toDataURL("image/png")}return this.xk}function g(){}function m(a){a[0]=0;a[1]=0;a[2]=0;k.push(a)}function l(a,b){return a<b?""+a+","+b:""+b+","+a}function n(a,b,c,d){b=b.uid;c=c.uid;var e=l(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var h=k.length?k.pop():[0,0,0];h[0]=b;h[1]=c;h[2]=d;a[e]=h}}function q(a,b,c){b=l(b.uid,c.uid);a.hasOwnProperty(b)&&(m(a[b]),delete a[b])}function b(a,b,c){b=l(b.uid,c.uid);if(a.hasOwnProperty(b))return u=a[b][2],!0;u=-2;return!1}function a(){}function t(){}var v=Z.prototype;v.ka=function(a){this.ra=a;this.b=a.b};var d=v.ka.prototype;d.R=function(){if(!this.D){var a,b,d,e,h,f,g,k,l;this.Ic=[];this.Og=!1;a=0;for(b=this.Ub.length;a<b;a++){h=this.Ub[a];g={};g.name=h[0];g.speed=h[1];g.loop=h[2];
g.em=h[3];g.fm=h[4];g.hp=h[5];g.X=h[6];g.frames=[];d=0;for(e=h[7].length;d<e;d++)f=h[7][d],k={},k.Nj=f[0],k.xm=f[1],k.Yf=f[2],k.Zf=f[3],k.width=f[4],k.height=f[5],k.duration=f[6],k.Kb=f[7],k.Lb=f[8],k.bl=f[9],k.lj=f[10],k.ip=f[11],k.gg=0!==k.width,k.xk="",k.iw=c,l={left:0,top:0,right:1,bottom:1},k.qm=l,k.J=null,(l=this.b.Us(f[0]))?k.V=l:(k.V=new Image,k.V.Fr=f[0],k.V.vk=f[1],k.V.ur=null,this.b.Zj(k.V,f[0])),g.frames.push(k),this.Ic.push(k);this.Ub[a]=g}}};d.Wp=function(){var a,b,c;a=0;for(b=this.c.length;a<
b;a++)c=this.c[a],c.mi=c.gb.J};d.vh=function(){if(!this.D){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],c.V.ur=null,c.J=null;this.Og=!1;this.Wp()}};d.wh=function(){if(!this.D&&this.c.length){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],c.J=this.b.n.Vf(c.V,!1,this.b.pa,c.ip);this.Wp()}};d.Fl=function(){if(!this.D&&!this.Og&&this.b.n){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],c.J=this.b.n.Vf(c.V,!1,this.b.pa,c.ip);this.Og=!0}};d.Uj=function(){if(!this.D&&!this.c.length&&
this.Og){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],this.b.n.deleteTexture(c.J),c.J=null;this.Og=!1}};var f=[];d.nj=function(a){var b,c,d;P(f);b=0;for(c=this.Ic.length;b<c;++b)d=this.Ic[b].V,-1===f.indexOf(d)&&(a.drawImage(d,0,0),f.push(d))};v.aa=function(a){this.type=a;this.b=a.b;a=this.type.Ub[0].frames[0].lj;this.Bc?this.P.Ch(a):this.P=new Xa(a)};var e=v.aa.prototype;e.R=function(){this.visible=0===this.C[0];this.Ii=this.Vg=!1;this.oc=0!==this.C[3];this.oa=this.Ln(this.C[1])||this.type.Ub[0];
this.H=this.C[2];0>this.H&&(this.H=0);this.H>=this.oa.frames.length&&(this.H=this.oa.frames.length-1);var a=this.oa.frames[this.H];this.P.Ch(a.lj);this.Kb=a.Kb;this.Lb=a.Lb;this.zf=this.oa.speed;this.ae=this.oa.fm;1===this.type.Ub.length&&1===this.type.Ub[0].frames.length||0===this.zf||(this.b.Pj(this),this.Vg=!0);this.Bc?this.ed.reset():this.ed=new Va;this.xd=this.ed.ua;this.Ie=!0;this.qd=0;this.He=!0;this.wf=this.cn="";this.sn=0;this.gi=-1;this.type.Fl();var b,c,d,e,h,f,g,a=0;for(b=this.type.Ub.length;a<
b;a++)for(e=this.type.Ub[a],c=0,d=e.frames.length;c<d;c++)h=e.frames[c],0===h.width&&(h.width=h.V.width,h.height=h.V.height),h.gg&&(g=h.V,f=h.qm,f.left=h.Yf/g.width,f.top=h.Zf/g.height,f.right=(h.Yf+h.width)/g.width,f.bottom=(h.Zf+h.height)/g.height,0===h.Yf&&0===h.Zf&&h.width===g.width&&h.height===g.height&&(h.gg=!1));this.gb=this.oa.frames[this.H];this.mi=this.gb.J};e.$a=function(){var a={a:this.oa.X,f:this.H,cas:this.zf,fs:this.xd,ar:this.qd,at:this.ed.ua,rt:this.ae};this.Ie||(a.ap=this.Ie);this.He||
(a.af=this.He);return a};e.tb=function(a){var b=this.Ws(a.a);b&&(this.oa=b);this.H=a.f;0>this.H&&(this.H=0);this.H>=this.oa.frames.length&&(this.H=this.oa.frames.length-1);this.zf=a.cas;this.xd=a.fs;this.qd=a.ar;this.ed.reset();this.ed.ua=a.at;this.Ie=a.hasOwnProperty("ap")?a.ap:!0;this.He=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ae=a.rt:this.ae=this.oa.fm;this.gb=this.oa.frames[this.H];this.mi=this.gb.J;this.P.Ch(this.gb.lj);this.Kb=this.gb.Kb;this.Lb=this.gb.Lb};e.kk=function(a){this.H=
a?0:this.oa.frames.length-1;this.Ie=!1;this.cn=this.oa.name;this.Ii=!0;this.b.trigger(Z.prototype.k.Bq,this);this.b.trigger(Z.prototype.k.Aq,this);this.Ii=!1;this.qd=0};e.Xh=function(){return this.ed.ua};e.xb=function(){this.ed.add(this.b.Se(this));this.wf.length&&this.An();0<=this.gi&&this.Bn();var a=this.ed.ua,b=this.oa,c=b.frames[this.H],d=c.duration/this.zf;this.Ie&&a>=this.xd+d&&(this.He?this.H++:this.H--,this.xd+=d,this.H>=b.frames.length&&(b.hp?(this.He=!1,this.H=b.frames.length-2):b.loop?
this.H=this.ae:(this.qd++,this.qd>=b.em?this.kk(!1):this.H=this.ae)),0>this.H&&(b.hp?(this.H=1,this.He=!0,b.loop||(this.qd++,this.qd>=b.em&&this.kk(!0))):b.loop?this.H=this.ae:(this.qd++,this.qd>=b.em?this.kk(!0):this.H=this.ae)),0>this.H?this.H=0:this.H>=b.frames.length&&(this.H=b.frames.length-1),a>this.xd+b.frames[this.H].duration/this.zf&&(this.xd=a),a=b.frames[this.H],this.uf(c,a),this.b.ja=!0)};e.Ln=function(a){var b,c,d;b=0;for(c=this.type.Ub.length;b<c;b++)if(d=this.type.Ub[b],db(d.name,a))return d;
return null};e.Ws=function(a){var b,c,d;b=0;for(c=this.type.Ub.length;b<c;b++)if(d=this.type.Ub[b],d.X===a)return d;return null};e.An=function(){var a=this.oa.frames[this.H],b=this.Ln(this.wf);this.wf="";!b||db(b.name,this.oa.name)&&this.Ie||(this.oa=b,this.zf=b.speed,this.ae=b.fm,0>this.H&&(this.H=0),this.H>=this.oa.frames.length&&(this.H=this.oa.frames.length-1),1===this.sn&&(this.H=0),this.Ie=!0,this.xd=this.ed.ua,this.He=!0,this.uf(a,this.oa.frames[this.H]),this.b.ja=!0)};e.Bn=function(){var a=
this.oa.frames[this.H],b=this.H;this.H=y(this.gi);0>this.H&&(this.H=0);this.H>=this.oa.frames.length&&(this.H=this.oa.frames.length-1);b!==this.H&&(this.uf(a,this.oa.frames[this.H]),this.xd=this.ed.ua,this.b.ja=!0);this.gi=-1};e.uf=function(a,b){var c=a.width,d=a.height,e=b.width,h=b.height;c!=e&&(this.width*=e/c);d!=h&&(this.height*=h/d);this.Kb=b.Kb;this.Lb=b.Lb;this.P.Ch(b.lj);this.F();this.gb=b;this.mi=b.J;c=0;for(d=this.L.length;c<d;c++)e=this.L[c],e.ju&&e.ju(a,b);this.b.trigger(Z.prototype.k.uf,
this)};e.qc=function(a){a.globalAlpha=this.opacity;var b=this.gb,c=b.gg,d=b.V,e=this.x,h=this.y,f=this.width,g=this.height;if(0===this.i&&0<=f&&0<=g)e-=this.Kb*f,h-=this.Lb*g,this.b.Tc&&(e=Math.round(e),h=Math.round(h)),c?a.drawImage(d,b.Yf,b.Zf,b.width,b.height,e,h,f,g):a.drawImage(d,e,h,f,g);else{this.b.Tc&&(e=Math.round(e),h=Math.round(h));a.save();var k=0<f?1:-1,l=0<g?1:-1;a.translate(e,h);1===k&&1===l||a.scale(k,l);a.rotate(this.i*k*l);e=0-this.Kb*ka(f);h=0-this.Lb*ka(g);c?a.drawImage(d,b.Yf,
b.Zf,b.width,b.height,e,h,ka(f),ka(g)):a.drawImage(d,e,h,ka(f),ka(g));a.restore()}};e.Cf=function(a){this.Bb(a)};e.Bb=function(a){a.Va(this.mi);a.xe(this.opacity);var b=this.gb,c=this.yb;if(this.b.Tc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.gg?a.ve(c.La+d,c.Ma+e,c.nb+d,c.ob+e,c.cb+d,c.eb+e,c.ab+d,c.bb+e,b.qm):a.ue(c.La+d,c.Ma+e,c.nb+d,c.ob+e,c.cb+d,c.eb+e,c.ab+d,c.bb+e)}else b.gg?a.ve(c.La,c.Ma,c.nb,c.ob,c.cb,c.eb,c.ab,c.bb,b.qm):a.ue(c.La,c.Ma,c.nb,c.ob,c.cb,c.eb,c.ab,c.bb)};
e.$s=function(a){var b=this.gb,c,d;c=0;for(d=b.bl.length;c<d;c++)if(db(a,b.bl[c][0]))return c;return-1};e.Hg=function(a,b){var c=this.gb,d=c.bl,e;ha(a)?e=this.$s(a):e=a-1;e=y(e);if(0>e||e>=d.length)return b?this.x:this.y;var h=(d[e][1]-c.Kb)*this.width,d=d[e][2],d=(d-c.Lb)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var f=h*c-d*e,d=d*c+h*e,h=f+this.x,d=d+this.y;return b?h:d};var k=[],u=-2,H=[];g.prototype.Fq=function(a){if(!a)return!1;var c=this.b,d=c.Ci(),e=d.type,h=null;d.I.collmemory?h=d.I.collmemory:
(h={},d.I.collmemory=h);d.I.spriteCreatedDestroyCallback||(d.I.spriteCreatedDestroyCallback=!0,c.jr(function(a){var b=d.I.collmemory;a=a.uid;var c,e;for(c in b)b.hasOwnProperty(c)&&(e=b[c],e[0]===a||e[1]===a)&&(m(b[c]),delete b[c])}));var f=e.W(),g=a.W(),f=f.Xb(),k,l,r,x,t,D,w,z=this.b.De,C=z-1,B=c.Oa().zb;for(l=0;l<f.length;l++){r=f[l];g.da?(r.ea(),this.b.Qk(r.j,a,r.ia,H),k=H,this.b.lr(r,a,k)):k=g.Xb();for(x=0;x<k.length;x++)t=k[x],c.Be(r,t)||c.Cr(r,t)?(D=b(h,r,t),D=!D||u<C,n(h,r,t,z),D&&(c.pj(B.na),
D=e.W(),w=a.W(),D.da=!1,w.da=!1,e===a?(D.c.length=2,D.c[0]=r,D.c[1]=t,e.lc()):(D.c.length=1,w.c.length=1,D.c[0]=r,w.c[0]=t,e.lc(),a.lc()),B.Cu(),c.jf(B.na))):q(h,r,t);P(H)}return!1};var G=null,h=new ba,r=!1,x=[],S=new sa(0,0,0,0);d.finish=function(a){if(r){if(a){var b=this.b.Oa().zb.jc;a=G.W();var c=h.pd(),d,e;if(a.da){a.da=!1;P(a.c);d=0;for(e=c.length;d<e;++d)a.c[d]=c[d];if(b)for(P(a.U),d=0,e=G.c.length;d<e;++d)c=G.c[d],h.contains(c)||a.U.push(c)}else if(b)for(b=a.c.length,d=0,e=c.length;d<e;++d)a.c[b+
d]=c[d],Ca(a.U,c[d]);else xa(a.c,c);G.lc()}h.clear();r=!1}};g.prototype.wq=function(a){if(a){var b=!1,c,d,e,f=this.b.Ci(),g=f.type,f=f.Ji;c=a.W();d=this.b.Oa().zb.jc;var k;c.da?(this.ea(),S.yf(this.ia),S.offset(0,0),this.b.Qk(this.j,a,S,x),k=x):k=d?this.b.Nt()&&!c.U.length&&c.c.length?c.c:c.U:c.c;G=a;r=g!==a&&!f;c=0;for(d=k.length;c<d;c++)if(e=k[c],this.b.Be(this,e)){b=!0;if(f)break;g!==a&&h.add(e)}P(x);a=b}else a=!1;return a};g.prototype.sq=function(a){return this.wf.length?db(this.wf,a):db(this.oa.name,
a)};g.prototype.Aq=function(a){return db(this.cn,a)};g.prototype.Bq=function(){return!0};g.prototype.uf=function(){return!0};v.k=new g;a.prototype.Tq=function(a,b){this.wf=a;this.sn=b;this.Vg||(this.b.Pj(this),this.Vg=!0);this.Ii||this.An()};a.prototype.Uq=function(a){this.gi=a;this.Vg||(this.b.Pj(this),this.Vg=!0);this.Ii||this.Bn()};a.prototype.Vq=function(a){this.oc!==(0!==a)&&((this.oc=0!==a)?this.F():(this.nc.right>=this.nc.left&&this.type.xg.update(this,this.nc,null),this.nc.set(0,0,-1,-1)))};
v.ca=new a;t.prototype.qq=function(a,b){a.G(this.Hg(b,!0))};t.prototype.rq=function(a,b){a.G(this.Hg(b,!1))};v.Fa=new t})();function jc(c){this.b=c}
(function(){function c(a,b){return a.length?a.pop():new b}function g(a,c,d){if(d){var f;d=0;for(f=c.length;d<f;d++)a.length<b&&a.push(c[d]);P(c)}else for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a.length<b&&a.push(c[f]),delete c[f])}function m(b,d,f){var g=b.$e;f=f.replace(/\s\s*$/,"");d>=g.length&&g.push(c(a,Object));d=g[d];d.text=f;d.width=b.Ml(f);b.jg=la(b.jg,d.width)}function l(){}var n=jc.prototype;n.R=function(){};n.ka=function(a){this.ra=a;this.b=a.b};var q=n.ka.prototype;q.R=function(){this.D||
(this.V=new Image,this.b.Zj(this.V,this.Nj),this.J=null)};q.vh=function(){this.D||(this.J=null)};q.wh=function(){if(!this.D&&this.c.length){this.J||(this.J=this.b.n.Vf(this.V,!1,this.b.pa,this.Lh));var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].J=this.J}};q.Uj=function(){this.D||this.c.length||!this.J||(this.b.n.deleteTexture(this.J),this.J=null)};q.nj=function(a){a.drawImage(this.V,0,0)};n.aa=function(a){this.type=a;this.b=a.b};q=n.aa.prototype;q.$f=function(){g(a,this.$e,!0);g(t,this.ii,!1);
g(v,this.ji,!1);Pa(this.Yd)};q.R=function(){this.V=this.type.V;this.hi=this.C[0];this.Wd=this.C[1];this.characterSet=this.C[2];this.text=this.C[3];this.Xd=this.C[4];this.visible=0===this.C[5];this.Hi=this.C[6]/2;this.Xj=this.C[7]/2;this.Zu=0===this.C[9];this.xf=this.C[10];this.lineHeight=this.C[11];this.qf=this.jg=0;this.Bc?(P(this.$e),Pa(this.ii),Pa(this.ji),Pa(this.Yd)):(this.$e=[],this.ii={},this.ji={},this.Yd={});this.Kh=!0;this.Al=this.width;this.b.n&&(this.type.J||(this.type.J=this.b.n.Vf(this.type.V,
!1,this.b.pa,this.type.Lh)),this.J=this.type.J);this.$q()};q.$a=function(){var a={t:this.text,csc:this.Xd,csp:this.xf,lh:this.lineHeight,tw:this.jg,th:this.qf,lrt:this.Wt,ha:this.Hi,va:this.Xj,cw:{}},b;for(b in this.Yd)a.cw[b]=this.Yd[b];return a};q.tb=function(a){this.text=a.t;this.Xd=a.csc;this.xf=a.csp;this.lineHeight=a.lh;this.jg=a.tw;this.qf=a.th;this.Wt=a.lrt;a.hasOwnProperty("ha")&&(this.Hi=a.ha);a.hasOwnProperty("va")&&(this.Xj=a.va);for(var b in a.cw)this.Yd[b]=a.cw[b];this.Kh=!0;this.Al=
this.width};var b=1E3,a=[],t=[],v=[];q.$q=function(){for(var a=this.V,b=a.width,d=a.height,a=this.hi,f=this.Wd,g=a/b,h=f/d,l=this.characterSet,b=Math.floor(b/a),d=Math.floor(d/f),m=0;m<l.length&&!(m>=b*d);m++){var n=m%b,p=Math.floor(m/b),q=l.charAt(m);if(this.b.n){var N=this.ji,E=n*g,T=p*h,n=(n+1)*g,p=(p+1)*h;void 0===N[q]&&(N[q]=c(v,sa));N[q].left=E;N[q].top=T;N[q].right=n;N[q].bottom=p}else N=this.ii,n=n*a,p=p*f,E=a,T=f,void 0===N[q]&&(N[q]=c(t,Object)),N[q].x=n,N[q].y=p,N[q].aq=E,N[q].Un=T}};var d=
[];n.br=function(a){P(d);for(var b="",c,f=0;f<a.length;)if(c=a.charAt(f),"\n"===c)b.length&&(d.push(b),b=""),d.push("\n"),++f;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(f),f++;while(f<a.length&&(" "===a.charAt(f)||"\t"===a.charAt(f)));d.push(b);b=""}else f<a.length&&(b+=c,f++);b.length&&d.push(b)};n.dr=function(b){var d=b.text,f=b.$e;if(d&&d.length){var l=b.width;if(2>=l)g(a,f,!0);else{var m=b.Xd,h=b.xf;if(d.length*(b.hi*m+h)-h<=l&&-1===d.indexOf("\n")&&(h=b.Ml(d),h<=l)){g(a,f,!0);f.push(c(a,
Object));f[0].text=d;f[0].width=h;b.jg=h;b.qf=b.Wd*m+b.lineHeight;return}this.er(b);b.qf=f.length*(b.Wd*m+b.lineHeight)}}else g(a,f,!0)};n.er=function(c){var f=c.Zu,g=c.text,l=c.$e,n=c.width;f&&(this.br(g),g=d);var h="",r,q,t,p=0,A=!1;for(t=0;t<g.length;t++)"\n"===g[t]?(!0===A?A=!1:(m(c,p,h),p++),h=""):(A=!1,r=h,h+=g[t],q=c.Ml(h.replace(/\s\s*$/,"")),q>n&&(""===r?(m(c,p,h),h="",A=!0):(m(c,p,r),h=g[t]),p++,f||" "!==h||(h="")));h.replace(/\s\s*$/,"").length&&(m(c,p,h),p++);for(t=p;t<l.length;t++)a.length<
b&&a.push(l[t]);l.length=p};q.Ml=function(a){for(var b=this.xf,c=a.length,d=0,f=0;f<c;f++)d+=this.Pk(a.charAt(f))*this.Xd+b;return d-(0<d?b:0)};q.Pk=function(a){var b=this.Yd;return void 0!==b[a]?b[a]:this.hi};q.pp=function(){if(this.Kh||this.width!==this.Al)this.qf=this.jg=0,this.type.ra.dr(this),this.Kh=!1,this.Al=this.width};q.qc=function(a){var b=this.V;if(""!==this.text&&null!=b&&(this.pp(),!(this.height<this.Wd*this.Xd+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.Tc&&
(b=Math.round(b),c=Math.round(c));var d=this.j.Y,f=this.j.Z,h=this.j.ga,g=this.j.fa;a.save();a.translate(b,c);a.rotate(this.i);for(var l=this.i,m=this.Hi,n=this.Xd,q=this.Wd*n,t=this.lineHeight,E=this.xf,v=this.$e,J,R=-(this.Kb*this.width),F=-(this.Lb*this.height),F=F+this.Xj*la(0,this.height-this.qf),K,I,O,V=0;V<v.length;V++){var D=v[V].text;J=m*la(0,this.width-v[V].width);K=R+J;F+=t;if(0===l&&c+F+q<f)F+=q;else{for(var w=0;w<D.length;w++){I=D.charAt(w);J=this.Pk(I);var z=this.ii[I];if(0===l&&b+K+
J*n+E<d)K+=J*n+E;else{if(K+J*n>this.width+1E-5)break;void 0!==z&&(I=K,O=F,0===l&&1===n&&(I=Math.round(I),O=Math.round(O)),a.drawImage(this.V,z.x,z.y,z.aq,z.Un,I,O,z.aq*n,z.Un*n));K+=J*n+E;if(0===l&&b+K>h)break}}F+=q;if(0===l&&(F+q+t>this.height||c+F>g))break}}a.restore()}};var f=new ta;q.Bb=function(a){a.Va(this.J);a.xe(this.opacity);if(this.text&&(this.pp(),!(this.height<this.Wd*this.Xd+this.lineHeight))){this.ea();var b=this.yb,c=0,d=0;this.b.Tc&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-
this.y);var g=this.j.Y,h=this.j.Z,l=this.j.ga,m=this.j.fa,n=this.i,p=this.Hi,q=this.Xj,t=this.Xd,E=this.Wd*t,v=this.lineHeight,J=this.xf,R=this.$e,F=this.qf,K,I,O;0!==n&&(I=Math.cos(n),O=Math.sin(n));for(var c=b.La+c,b=b.Ma+d,V,q=q*la(0,this.height-F),D,w,F=0;F<R.length;F++)if(d=R[F].text,V=K=p*la(0,this.width-R[F].width),q+=v,0===n&&b+q+E<h)q+=E;else{for(var z=0;z<d.length;z++){var C=d.charAt(z);K=this.Pk(C);C=this.ji[C];if(0===n&&c+V+K*t+J<g)V+=K*t+J;else{if(V+K*t>this.width+1E-5)break;if(void 0!==
C){var B=this.hi*t,L=this.Wd*t;D=V;w=q;0===n&&1===t&&(D=Math.round(D),w=Math.round(w));f.La=D;f.Ma=w;f.nb=D+B;f.ob=w;f.ab=D;f.bb=w+L;f.cb=D+B;f.eb=w+L;0!==n&&(D=f,w=I,B=O,L=void 0,L=D.La*w-D.Ma*B,D.Ma=D.Ma*w+D.La*B,D.La=L,L=D.nb*w-D.ob*B,D.ob=D.ob*w+D.nb*B,D.nb=L,L=D.ab*w-D.bb*B,D.bb=D.bb*w+D.ab*B,D.ab=L,L=D.cb*w-D.eb*B,D.eb=D.eb*w+D.cb*B,D.cb=L);f.offset(c,b);a.ve(f.La,f.Ma,f.nb,f.ob,f.cb,f.eb,f.ab,f.bb,C)}V+=K*t+J;if(0===n&&c+V>l)break}}q+=E;if(0===n&&(q+E+v>this.height||b+q>m))break}}};n.k=new function(){};
l.prototype.Xq=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Kh=!0,this.b.ja=!0)};q.Xh=function(a,b){var c=parseInt(b,10);this.Yd[a]!==c&&(this.Yd[a]=c,this.Kh=!0,this.b.ja=!0)};n.ca=new l;n.Fa=new function(){}})();function kc(c){this.b=c}
(function(){function c(a){v=a.x;d=a.y;f=a.z}function g(a,b,c,d){var f;f=e.length?e.pop():new m;f.init(a,b,c,d);return f}function m(){this.Gh=this.id=this.wc=this.vc=this.y=this.x=this.Ij=this.Hj=this.yl=this.time=this.vm=0;this.Mh=this.Sj=!1}function l(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function n(){}function q(){}var b=kc.prototype;b.ka=function(a){this.ra=
a;this.b=a.b};b.ka.prototype.R=function(){};b.aa=function(a){this.type=a;this.b=a.b;this.touches=[];this.Nl=!1};var a=b.aa.prototype,t={left:0,top:0};a.Gg=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var v=0,d=0,f=0,e=[];m.prototype.init=function(a,b,c,d){var e=Qa();this.vm=this.yl=this.time=e;this.Hj=a;this.Ij=b;this.x=a;this.y=b;this.vc=a;this.wc=b;this.pressure=this.height=this.width=0;this.id=c;this.Gh=d;this.Mh=this.Sj=!1};m.prototype.update=
function(a,b,c,d,e,f){this.yl=this.time;this.time=a;this.vc=this.x;this.wc=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Mh&&15<=Ma(this.Hj,this.Ij,this.x,this.y)&&(this.Mh=!0)};m.prototype.$t=function(a,b){!this.Sj&&500<=Qa()-this.vm&&!this.Mh&&15>Ma(this.Hj,this.Ij,this.x,this.y)&&(this.Sj=!0,a.od=this.Gh,a.mg=this.id,a.If=b,a.b.trigger(kc.prototype.k.Jq,a),a.sd=this.x,a.td=this.y,a.b.trigger(kc.prototype.k.Kq,a),a.If=0)};var k=-1E3,u=-1E3,H=-1E4;m.prototype.Po=function(a,
b){if(!this.Sj){var c=Qa();333>=c-this.vm&&!this.Mh&&15>Ma(this.Hj,this.Ij,this.x,this.y)&&(a.od=this.Gh,a.mg=this.id,a.If=b,666>=c-H&&25>Ma(k,u,this.x,this.y)?(a.b.trigger(kc.prototype.k.Hq,a),a.sd=this.x,a.td=this.y,a.b.trigger(kc.prototype.k.Iq,a),u=k=-1E3,H=-1E4):(a.b.trigger(kc.prototype.k.Qq,a),a.sd=this.x,a.td=this.y,a.b.trigger(kc.prototype.k.Rq,a),k=this.x,u=this.y,H=c),a.If=0)}};a.R=function(){this.Rt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.If=this.mg=this.od=
this.td=this.sd=this.$m=this.Zm=this.Ym=this.ir=this.hr=this.fr=this.gj=this.fj=this.ej=0;this.Wu=0!==this.C[0];var a=0<this.b.Jb?document:this.b.canvas,b=document;this.b.he?b=a=window.Canvas:this.b.rc&&(b=a=window);var d=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){d.$o(a)},!1),a.addEventListener("pointermove",function(a){d.Zo(a)},!1),b.addEventListener("pointerup",function(a){d.dj(a,!1)},!1),b.addEventListener("pointercancel",function(a){d.dj(a,!0)},!1),this.b.canvas&&
(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){d.$o(a)},!1),a.addEventListener("MSPointerMove",function(a){d.Zo(a)},!1),b.addEventListener("MSPointerUp",
function(a){d.dj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){d.dj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){d.cp(a)},!1),a.addEventListener("touchmove",function(a){d.bp(a)},!1),b.addEventListener("touchend",function(a){d.Rl(a,!1)},!1),b.addEventListener("touchcancel",function(a){d.Rl(a,!0)},
!1));if(this.Rt){var e=function(a){a=a.reading;d.Ym=a.accelerationX;d.Zm=a.accelerationY;d.$m=a.accelerationZ},f=function(a){a=a.reading;d.ej=a.yawDegrees;d.fj=a.pitchDegrees;d.gj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var l=Windows.Devices.Sensors.Inclinometer.getDefault();l&&(l.reportInterval=Math.max(l.minimumReportInterval,16),l.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),l&&l.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),l&&l.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){d.ej=a.alpha||0;d.fj=a.beta||0;d.gj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.fr=a.accelerationIncludingGravity.x||0,d.hr=a.accelerationIncludingGravity.y||
0,d.ir=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.Ym=a.acceleration.x||0,d.Zm=a.acceleration.y||0,d.$m=a.acceleration.z||0)},!1);this.Wu&&!this.b.Ga&&(jQuery(document).mousemove(function(a){d.hu(a)}),jQuery(document).mousedown(function(a){d.gu(a)}),jQuery(document).mouseup(function(a){d.iu(a)}));!this.b.Pi&&this.b.tc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(c,null,{frequency:40});this.b.Lp(this)};a.Zo=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Gg(a.pointerId),c=Qa();if(0<=b){var d=this.b.Ga?t:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};a.$o=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var b=this.b.Ga?t:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Qa();
this.od=this.touches.length;this.mg=a.pointerId;this.touches.push(g(c,b,a.pointerId,this.od));this.b.uc=!0;this.b.trigger(kc.prototype.k.Rm,this);this.b.trigger(kc.prototype.k.Um,this);this.sd=c;this.td=b;this.b.trigger(kc.prototype.k.ek,this);this.b.uc=!1}};a.dj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.Gg(a.pointerId);this.od=0<=c?this.touches[c].Gh:-1;this.mg=0<=c?this.touches[c].id:-1;this.b.uc=!0;this.b.trigger(kc.prototype.k.Qm,
this);this.b.trigger(kc.prototype.k.Tm,this);0<=c&&(b||this.touches[c].Po(this,c),100>e.length&&e.push(this.touches[c]),this.touches.splice(c,1));this.b.uc=!1}};a.bp=function(a){a.preventDefault&&a.preventDefault();var b=Qa(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Gg(e.identifier),0<=f){var g=this.b.Ga?t:jQuery(this.b.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.ww||e.Fw||e.ow||e.rw||0),2*(e.xw||e.Gw||e.pw||
e.sw||0),e.hw||e.Ew||e.mw||e.qw||0)}};a.cp=function(a){a.preventDefault&&eb(a)&&a.preventDefault();var b=this.b.Ga?t:jQuery(this.b.canvas).offset();Qa();this.b.uc=!0;var c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Gg(e.identifier),-1===f){f=e.pageX-b.left;var l=e.pageY-b.top;this.od=this.touches.length;this.mg=e.identifier;this.touches.push(g(f,l,e.identifier,this.od));this.b.trigger(kc.prototype.k.Rm,this);this.b.trigger(kc.prototype.k.Um,this);this.sd=f;this.td=
l;this.b.trigger(kc.prototype.k.ek,this)}this.b.uc=!1};a.Rl=function(a,b){a.preventDefault&&eb(a)&&a.preventDefault();this.b.uc=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.Gg(f.identifier),0<=f&&(this.od=this.touches[f].Gh,this.mg=this.touches[f].id,this.b.trigger(kc.prototype.k.Qm,this),this.b.trigger(kc.prototype.k.Tm,this),b||this.touches[f].Po(this,f),100>e.length&&e.push(this.touches[f]),this.touches.splice(f,1));this.b.uc=!1};a.Xh=function(){return this.b.tc&&
0===this.ej&&0!==f?90*f:this.ej};a.gw=function(){return this.b.tc&&0===this.fj&&0!==d?90*d:this.fj};a.lw=function(){return this.b.tc&&0===this.gj&&0!==v?90*v:this.gj};a.gu=function(a){l(a)||(this.cp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Nl=!0)};a.hu=function(a){this.Nl&&!l(a)&&this.bp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.iu=function(a){a.preventDefault&&this.b.Vn&&!this.b.Lf&&a.preventDefault();this.b.Vn=!0;l(a)||(this.Rl({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]}),this.Nl=!1)};a.kg=function(){var a,b,c,d=Qa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.yl=d),c.$t(this,a)};n.prototype.Um=function(){return!0};n.prototype.Tm=function(){return!0};n.prototype.ek=function(a){return a?this.b.Mj(a,this.sd,this.td):!1};var G=[];n.prototype.xq=function(a){if(!a)return!1;var b=a.W(),c=b.Xb(),d,e,f,g,l,k;f=0;for(g=c.length;f<g;f++){var m=c[f];m.ea();l=0;for(k=this.touches.length;l<k;l++)if(e=this.touches[l],d=
m.j.fb(e.x,e.y,!0),e=m.j.fb(e.x,e.y,!1),m.rb(d,e)){G.push(m);break}}return G.length?(b.da=!1,xa(b.c,G),a.lc(),P(G),!0):!1};n.prototype.Rm=function(a){a=Math.floor(a);return a===this.od};n.prototype.Qm=function(a){a=Math.floor(a);return a===this.od};n.prototype.Jq=function(){return!0};n.prototype.Qq=function(){return!0};n.prototype.Hq=function(){return!0};n.prototype.Kq=function(a){return a?this.b.Mj(a,this.sd,this.td):!1};n.prototype.Rq=function(a){return a?this.b.Mj(a,this.sd,this.td):!1};n.prototype.Iq=
function(a){return a?this.b.Mj(a,this.sd,this.td):!1};b.k=new n;q.prototype.Wm=function(a,b){var c=this.If;if(0>c||c>=this.touches.length)a.G(0);else{var d,e,f,g,l;fa(b)?(d=this.b.Ig(0),e=d.scale,f=d.dd,g=d.yc,l=d.i,d.scale=1,d.dd=1,d.yc=1,d.i=0,a.G(d.fb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.dd=f,d.yc=g,d.i=l):(d=ga(b)?this.b.Ig(b):this.b.Uk(b))?a.G(d.fb(this.touches[c].x,this.touches[c].y,!0)):a.G(0)}};q.prototype.Xm=function(a,b){var c=this.If;if(0>c||c>=this.touches.length)a.G(0);
else{var d,e,f,g,l;fa(b)?(d=this.b.Ig(0),e=d.scale,f=d.dd,g=d.zc,l=d.i,d.scale=1,d.dd=1,d.zc=1,d.i=0,a.G(d.fb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.dd=f,d.zc=g,d.i=l):(d=ga(b)?this.b.Ig(b):this.b.Uk(b))?a.G(d.fb(this.touches[c].x,this.touches[c].y,!1)):a.G(0)}};b.Fa=new q})();function lc(c){this.b=c}
(function(){function c(a){a%=f.length;0>a&&(a+=f.length);return a}function g(){var a,b,d,e;a=0;for(b=f.length;a<b;++a)d=f[a],(e=f[c(a-1)])&&!d&&(k=a),!e&&d&&(H=a)}var m=lc.prototype;m.ka=function(a){this.ra=a;this.b=a.b};var l=m.ka.prototype,n=!1,q=null,b=null;l.R=function(){this.D||n||(n=!0,q=new Image,q.vk=15E3,this.b.Zj(q,"penumbra.png"))};l.vh=function(){if(!this.D){this.Zb=this.J=null;var a,b,c;a=0;for(b=this.c.length;a<b;++a)c=this.c[a],c.J=null,c.Zb=null}};l.wh=function(){if(!this.D){var a,
b;a=0;for(b=this.c.length;a<b;++a)this.c[a].xn()}};m.aa=function(a){this.type=a;this.b=a.b};l=m.aa.prototype;l.R=function(){if(!b){var a=q.width,c=q.height,d=document.createElement("canvas");d.width=a;d.height=c;d=d.getContext("2d");d.clearRect(0,0,a,c);d.drawImage(q,0,0,a,c);b=d.getImageData(0,0,a,c).data}this.me=this.x;this.ne=this.y;this.wo=this.C[0];this.Pb=1E3;this.Uf=this.C[1];this.qn=this.C[2];this.tag=this.C[3];this.Cl=this.Dl=this.El=0;this.oo=this.x;this.po=this.y;this.Zb=this.J=null;this.b.n?
this.xn():this.Uf=0;this.b.Lp(this)};l.rn=function(a){return 1===this.qn?db(this.tag,a):2===this.qn?!db(this.tag,a):!0};l.kg=function(){if(this.oo!==this.x||this.po!==this.y)this.me=this.x,this.ne=this.y;var a=this.j,b=(a.Y+a.ga)/2,c=(a.Z+a.fa)/2,d=a.ga-a.Y+this.Pb,e=a.fa-a.Z+this.Pb;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.F();this.oo=this.x;this.po=this.y;this.Pb=1.5*Ma(a.Y,a.Z,a.ga,a.fa)};l.$f=function(){this.b.n&&(this.J&&(this.b.n.deleteTexture(this.J),
this.J=null),this.Zb&&(this.b.n.deleteTexture(this.Zb),this.Zb=null))};l.$a=function(){return{}};l.tb=function(){};var a=[],t=[];l.Sn=function(){this.b.nm&&(this.b.Tn(this.j,this.b.nm.uw,this.ia,a),Ra(a))};var v=[],d=0,f=[],e=[],k=-1,u=-1,H=-1,G=-1,h=0,r=0,x=[],S=0,p=0,A=0,N=0,E=0,T=0,J=0,R=0,F=new Xa([]);l.qc=function(b){this.Sn();b.save();b.fillStyle="rgba("+this.El+","+this.Dl+","+this.Cl+","+this.opacity+")";var c,d,e,g,h,l,k,m,n,p;c=0;for(d=a.length;c<d;++c)if(e=a[c],e.I.shadowcasterEnabled&&
this.rn(e.I.shadowcasterTag))if(e.ea(),k=e.I.shadowcasterHeight,e.Ee){e.Mn(this.ia,t);m=e.x;n=e.y;e=0;for(g=t.length;e<g;++e){h=t[e];p=h.op;h.hf?(h=h.hf,l=p.left,p=p.top):(F.ze(p,0,0),h=F,p=l=0);this.fi(h,m+l,n+p,k,!1);b.beginPath();b.moveTo(x[0],x[1]);h=2;for(l=x.length;h<l;h+=2)b.lineTo(x[h],x[h+1]);b.closePath();b.fill();P(f);P(x)}P(t)}else{e.P&&!e.P.je()?(e.P.Ud(e.width,e.height,e.i),h=e.P):(F.ye(e.yb,e.x,e.y,e.width,e.height),h=F);this.fi(h,e.x,e.y,k,Na(0>e.width,0>e.height));b.beginPath();b.moveTo(x[0],
x[1]);e=2;for(g=x.length;e<g;e+=2)b.lineTo(x[e],x[e+1]);b.closePath();b.fill();P(f);P(x)}b.restore();P(a)};l.et=function(a,b,c,e){d=a.Ac;P(v);var f,g=a.Ia;r=h=0;var l;for(l=0;l<d;++l)f=2*l,a=g[f]+b,f=g[f+1]+c,e?(v.unshift(f),v.unshift(a)):(v.push(a),v.push(f)),h+=a,r+=f;h/=d;r/=d};l.fi=function(a,b,c,h,l){this.et(a,b,c,l);var m;P(f);P(e);P(x);G=u=H=k=-1;c=this.me;l=this.ne;if(0<this.Uf)this.nk(-this.Uf),g(),xa(e,f),u=k,G=H,P(f),H=k=-1,this.nk(this.Uf),g(),-1!==k&&-1!==H&&-1!==u&&-1!==G&&this.Ar();
else for(this.nk(0),g(),a=0;a<d;++a)m=2*a,b=v[m],m=v[m+1],this.wr(a,c,l,b,m,h)};l.wr=function(a,b,d,e,g,h){var l;l=f[c(a-1)];var m=a===k,n=a===H;f[a]||l?(a=X(b,d,e,g),l=Ma(b,d,e,g),h=this.Br(b,d,e,g,h),b+=Math.cos(a)*(l+h),d+=Math.sin(a)*(l+h)):(b=e,d=g);n&&(x.push(e),x.push(g));x.push(b);x.push(d);m&&(x.push(e),x.push(g))};l.nk=function(a){var b=this.me,c=this.ne,e=b,g=c,l,k,m,n,p;for(l=0;l<d;++l)k=2*l,m=l+1,m=m===d?0:2*m,n=v[k],k=v[k+1],p=v[m],m=v[m+1],0!==a&&(g=X(b,c,h,r)-Math.PI/2,e=b+Math.cos(g)*
a,g=c+Math.sin(g)*a),f.push(Ja(X(n,k,e,g),X(n,k,p,m)-Math.PI/2)>=Math.PI/2)};var K=0,I=0;l.Ar=function(){for(var a=u,b,c,e;a=a%d,b=2*a,c=v[b],e=v[b+1],x.push(c),x.push(e),a!==H;++a);var f=this.Uf,g=X(this.me,this.ne,h,r),a=this.me+Math.cos(g-Math.PI/2)*f,l=this.ne+Math.sin(g-Math.PI/2)*f,g=X(a,l,c,e),k=Ma(a,l,c,e),a=a+Math.cos(g)*(k+this.Pb),l=l+Math.sin(g)*(k+this.Pb);b=2*u;var m=v[b];b=v[b+1];var g=X(this.me,this.ne,h,r),n=this.me+Math.cos(g+Math.PI/2)*f,q=this.ne+Math.sin(g+Math.PI/2)*f,g=X(n,
q,m,b),k=Ma(n,q,m,b),f=n+Math.cos(g)*(k+this.Pb),g=q+Math.sin(g)*(k+this.Pb);E=c;T=e;S=m;p=b;var t,F,G,k=a-c,n=l-e;t=f-m;F=g-b;G=-t*n+k*F;0===G?c=!1:(q=(-n*(c-m)+k*(e-b))/G,G=-t*n+k*F,0===G?c=!1:(m=(t*(e-b)-F*(c-m))/G,0<=q&&1>=q&&0<=m&&1>=m?(K=c+m*k,I=e+m*n,c=!0):c=!1));c?(x.push(K),x.push(I),J=K,R=I,A=K,N=I):(x.push(a),x.push(l),x.push(f),x.push(g),J=a,R=l,A=f,N=g)};l.Br=function(a,b,c,d,e){if(e>=this.wo)return this.Pb;if(0>=e)return 0;a=Ma(a,b,c,d);a=Math.atan(a/(this.wo-e));e=e*Math.tan(a);e>=
this.Pb&&(e=this.Pb);0>e&&(e=0);return e};l.Bb=function(b){b.xe(this.opacity);this.Sn();var c,d,e,g,h,l,m,n,p,q;c=0;for(d=a.length;c<d;++c)if(e=a[c],e.I.shadowcasterEnabled&&this.rn(e.I.shadowcasterTag))if(e.ea(),h=e.I.shadowcasterHeight,e.Ee){e.Mn(this.ia,t);m=e.x;n=e.y;e=0;for(g=t.length;e<g;++e)l=t[e],p=l.op,l.hf?(l=l.hf,q=p.left,p=p.top):(F.ze(p,0,0),l=F,p=q=0),this.fi(l,m+q,n+p,h,!1),6>x.length||(b.Va(this.J),b.vn(x),-1<k&&-1<u&&(b.Va(this.Zb),this.ri(b,!0)),-1<H&&-1<G&&(b.Va(this.Zb),this.ri(b,
!1)),P(f),P(x));P(t)}else e.P&&!e.P.je()?(e.P.Ud(e.width,e.height,e.i),l=e.P):(F.ye(e.yb,e.x,e.y,e.width,e.height),l=F),this.fi(l,e.x,e.y,h,Na(0>e.width,0>e.height)),6>x.length||(b.Va(this.J),b.vn(x),-1<k&&-1<u&&(b.Va(this.Zb),this.ri(b,!0)),-1<H&&-1<G&&(b.Va(this.Zb),this.ri(b,!1)),P(f),P(x));P(a)};l.ri=function(a,b){var c=this.me,d=this.ne,e,f,g,l,m,n;b?(g=S,l=p,m=A,n=N):(g=E,l=T,m=J,n=R);var q=this.Uf,t=X(c,d,h,r),x=Math.PI/2;b&&(x=-x);c+=Math.cos(t+x)*q;d+=Math.sin(t+x)*q;q=!1;if(b){if(q=k!==
u)e=v[2*k],f=v[2*k+1]}else if(q=H!==G)e=v[2*G],f=v[2*G+1];var t=q?X(e,f,g,l):X(c,d,g,l),x=g+Math.cos(t)*this.Pb,F=l+Math.sin(t)*this.Pb,I,K,qa,ob=qa=0,pb=1;q&&(qa=X(c,d,e,f),I=e+Math.cos(qa)*this.Pb,K=f+Math.sin(qa)*this.Pb,c=X(g,l,m,n),qa=Ja(t,qa)/Ja(c,qa),t=Ma(e,f,g,l),t=t/(t+this.Pb),c=X(0,1,qa,0),d=Ma(0,1,qa,0),ob+=Math.cos(c)*t*d,pb+=Math.sin(c)*t*d);a.np(g,l,m,n,x,F,x,F,ob,pb,1,qa,qa);q&&a.np(e,f,x,F,I,K,I,K,0,1,qa,0,0)};l.xn=function(){this.b.n&&(this.J&&(this.b.n.deleteTexture(this.J),this.J=
null),this.Zb&&(this.b.n.deleteTexture(this.Zb),this.Zb=null),this.Gr(),this.Jr())};l.Gr=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.El+","+this.Dl+","+this.Cl+")";b.fillRect(0,0,16,16);this.J=this.b.n.Wb(16,16,!1,!1,!0);this.b.n.$p(a,this.J)};l.Jr=function(){var a=q.width,c=q.height,d=this.El,e=this.Dl,f=this.Cl,g=b,h=document.createElement("canvas");h.width=a;h.height=c;var l=h.getContext("2d"),k=l.createImageData(a,c),
m=k.data,n,p;n=0;for(p=m.length;n<p;n+=4)m[n]=d,m[n+1]=e,m[n+2]=f,m[n+3]=g[n+3];l.putImageData(k,0,0);this.Zb=this.b.n.Wb(a,c,this.b.pa,!1,!1);this.b.n.$p(h,this.Zb)};m.k=new function(){};m.ca=new function(){};m.Fa=new function(){}})();function mc(c){this.b=c}
(function(){var c=mc.prototype;c.ka=function(c){this.behavior=c;this.b=c.b};c.ka.prototype.R=function(){};c.aa=function(c,g){this.type=c;this.behavior=c.behavior;this.d=g;this.b=c.b};var g=c.aa.prototype;g.R=function(){var c=this.C[0];this.xa=this.C[1];this.de=this.C[2];this.sr=0!==this.C[3];this.mf=0!==this.C[4];this.A=Math.cos(this.d.i)*c;this.q=Math.sin(this.d.i)*c;this.vc=this.d.x;this.wc=this.d.y;this.Qf=this.d.i;this.Rj=0;this.enabled=0!==this.C[5]};g.$a=function(){return{acc:this.xa,g:this.de,
dx:this.A,dy:this.q,lx:this.vc,ly:this.wc,lka:this.Qf,t:this.Rj,e:this.enabled}};g.tb=function(c){this.xa=c.acc;this.de=c.g;this.A=c.dx;this.q=c.dy;this.vc=c.lx;this.wc=c.ly;this.Qf=c.lka;this.Rj=c.t;this.enabled=c.e};g.xb=function(){if(this.enabled){var c=this.b.Se(this.d),g,n;this.d.i!==this.Qf&&(this.mf&&(g=Ma(0,0,this.A,this.q),this.A=Math.cos(this.d.i)*g,this.q=Math.sin(this.d.i)*g),this.Qf=this.d.i);0!==this.xa&&(g=Ma(0,0,this.A,this.q),n=0===this.A&&0===this.q?this.d.i:X(0,0,this.A,this.q),
g+=this.xa*c,0>g&&(g=0),this.A=Math.cos(n)*g,this.q=Math.sin(n)*g);0!==this.de&&(this.q+=this.de*c);this.vc=this.d.x;this.wc=this.d.y;if(0!==this.A||0!==this.q)if(this.d.x+=this.A*c,this.d.y+=this.q*c,this.Rj+=Ma(0,0,this.A*c,this.q*c),this.mf&&(this.d.i=X(0,0,this.A,this.q),this.d.F(),this.Qf=this.d.i),this.d.F(),this.sr&&(g=this.b.ac(this.d)))this.b.kf(this.d,g),g=Ma(0,0,this.A,this.q),n=this.b.nn(this.d,this.vc,this.wc),this.A=Math.cos(n)*g,this.q=Math.sin(n)*g,this.d.x+=this.A*c,this.d.y+=this.q*
c,this.d.F(),this.mf&&(this.Qf=this.d.i=n,this.d.F()),this.b.rj(this.d,this.A/g,this.q/g,Math.max(2.5*g*c,30))||this.b.Ah(this.d,100)}};c.k=new function(){};c.ca=new function(){};c.Fa=new function(){}})();function nc(c){this.b=c}
(function(){function c(){}var g=nc.prototype;g.ka=function(c){this.behavior=c;this.b=c.b};g.ka.prototype.R=function(){};g.aa=function(c,g){this.type=c;this.behavior=c.behavior;this.d=g;this.b=c.b;this.Hd=this.Gd=this.Fd=this.Id=this.Ue=this.Xc=this.Sc=this.Nc=this.bd=!1;this.K=0;this.ub=this.Ib=this.d.i};var m=g.aa.prototype;m.R=function(){this.Yb=this.C[0];this.xa=this.C[1];this.Ab=this.C[2];this.Jj=Q(this.C[3]);this.Dk=Q(this.C[4]);this.Mk=this.C[5];this.mf=1===this.C[6];this.zk=1===this.C[7];this.enabled=
0!==this.C[8];this.vc=this.d.x;this.wc=this.d.y;this.Pf=this.d.i;this.zk&&!this.b.Ga&&(jQuery(document).keydown(function(c){return function(g){c.rh(g)}}(this)),jQuery(document).keyup(function(c){return function(g){c.sh(g)}}(this)))};m.$a=function(){return{ignoreInput:this.Ue,enabled:this.enabled,s:this.K,a:this.Ib,m:this.ub,maxspeed:this.Yb,acc:this.xa,dec:this.Ab,steerSpeed:this.Jj,driftRecover:this.Dk,friction:this.Mk,lastx:this.vc,lasty:this.wc,lastAngle:this.Pf}};m.tb=function(c){this.Ue=c.ignoreInput;
this.enabled=c.enabled;this.K=c.s;this.Ib=c.a;this.ub=c.m;this.Yb=c.maxspeed;this.xa=c.acc;this.Ab=c.dec;this.Jj=c.steerSpeed;this.Dk=c.driftRecover;this.Mk=c.friction;this.vc=c.lastx;this.wc=c.lasty;this.Pf=c.lastAngle;this.Hd=this.Gd=this.Fd=this.Id=this.Xc=this.Sc=this.Nc=this.bd=!1};m.rh=function(c){switch(c.which){case 37:c.preventDefault();this.Sc=!0;break;case 38:c.preventDefault();this.bd=!0;break;case 39:c.preventDefault();this.Xc=!0;break;case 40:c.preventDefault(),this.Nc=!0}};m.sh=function(c){switch(c.which){case 37:c.preventDefault();
this.Sc=!1;break;case 38:c.preventDefault();this.bd=!1;break;case 39:c.preventDefault();this.Xc=!1;break;case 40:c.preventDefault(),this.Nc=!1}};m.re=function(){this.Xc=this.Sc=this.Nc=this.bd=!1};m.xb=function(){var c=this.b.Se(this.d),g=this.Sc||this.Gd,m=this.Xc||this.Hd,b=this.bd||this.Id,a=this.Nc||this.Fd;this.Fd=this.Id=this.Hd=this.Gd=!1;if(this.enabled){this.mf&&this.d.i!==this.Pf&&(this.Pf=this.ub=this.Ib=this.d.i);var t=this.b.ac(this.d);if(t&&(this.b.kf(this.d,t),!this.b.Ah(this.d)))return;
this.Ue&&(a=b=m=g=!1);b&&!a&&(this.K+=this.xa*c,this.K>this.Yb&&(this.K=this.Yb));a&&!b&&(this.K-=this.Ab*c,this.K<-this.Yb&&(this.K=-this.Yb));a===b&&(0<this.K?(this.K-=this.Ab*c*.1,0>this.K&&(this.K=0)):0>this.K&&(this.K+=this.Ab*c*.1,0<this.K&&(this.K=0)));0>this.K&&(b=g,g=m,m=b);g&&!m&&(this.Ib=Ga(this.Ib-this.Jj*c*(Math.abs(this.K)/this.Yb)));m&&!g&&(this.Ib=Ga(this.Ib+this.Jj*c*(Math.abs(this.K)/this.Yb)));g=this.Dk*c;m=Ja(this.Ib,this.ub);m>Q(90)&&(g+=m-Q(90));m<=g?this.ub=Ga(this.Ib):La(this.Ib,
this.ub)?this.ub=Ga(this.ub+g):this.ub=Ga(this.ub-g);this.vc=this.d.x;this.wc=this.d.y;if(0!==this.K&&0!==c){if(this.d.x+=Math.cos(this.ub)*this.K*c,this.d.y+=Math.sin(this.ub)*this.K*c,this.mf&&(this.Pf=this.d.i=this.Ib),this.d.F(),g=this.b.ac(this.d))this.b.kf(this.d,g),this.K=Math.abs(this.K),this.ub=this.b.nn(this.d,this.vc,this.wc),this.d.x+=Math.cos(this.ub)*this.K*c,this.d.y+=Math.sin(this.ub)*this.K*c,this.d.F(),this.K*=1-this.Mk,this.b.rj(this.d,Math.cos(this.ub),Math.sin(this.ub),Math.max(2.5*
this.K*c,30))||this.b.Ah(this.d,100)}else this.mf&&this.d.i!==this.Ib&&(this.Pf=this.d.i=this.Ib,this.d.F(),this.b.ac(this.d)&&this.b.Ah(this.d,100))}};g.k=new function(){};c.prototype.gk=function(){this.K=0};c.prototype.fk=function(c){switch(c){case 0:this.Gd=!0;break;case 1:this.Hd=!0;break;case 2:this.Id=!0;break;case 3:this.Fd=!0}};g.ca=new c;g.Fa=new function(){}})();function oc(c){this.b=c}
(function(){function c(){}var g=oc.prototype;g.ka=function(c){this.behavior=c;this.b=c.b};g.ka.prototype.R=function(){};g.aa=function(c,g){this.type=c;this.behavior=c.behavior;this.d=g;this.b=c.b;this.Hd=this.Gd=this.Fd=this.Id=this.Ue=this.Xc=this.Sc=this.Nc=this.bd=!1;this.xl=this.wl=this.ul=this.zl=-1;this.q=this.A=0};var m=g.aa.prototype;m.R=function(){this.Yb=this.C[0];this.xa=this.C[1];this.Ab=this.C[2];this.Ck=this.C[3];this.jk=this.C[4];this.zk=1===this.C[5];this.enabled=0!==this.C[6];this.zk&&
!this.b.Ga&&(jQuery(document).keydown(function(c){return function(g){c.rh(g)}}(this)),jQuery(document).keyup(function(c){return function(g){c.sh(g)}}(this)))};m.$a=function(){return{dx:this.A,dy:this.q,enabled:this.enabled,maxspeed:this.Yb,acc:this.xa,dec:this.Ab,ignoreInput:this.Ue}};m.tb=function(c){this.A=c.dx;this.q=c.dy;this.enabled=c.enabled;this.Yb=c.maxspeed;this.xa=c.acc;this.Ab=c.dec;this.Ue=c.ignoreInput;this.Hd=this.Gd=this.Fd=this.Id=this.Xc=this.Sc=this.Nc=this.bd=!1;this.xl=this.wl=
this.ul=this.zl=-1};m.rh=function(c){var g=this.b.De;switch(c.which){case 37:c.preventDefault();this.wl<g&&(this.Sc=!0);break;case 38:c.preventDefault();this.zl<g&&(this.bd=!0);break;case 39:c.preventDefault();this.xl<g&&(this.Xc=!0);break;case 40:c.preventDefault(),this.ul<g&&(this.Nc=!0)}};m.sh=function(c){var g=this.b.De;switch(c.which){case 37:c.preventDefault();this.Sc=!1;this.wl=g;break;case 38:c.preventDefault();this.bd=!1;this.zl=g;break;case 39:c.preventDefault();this.Xc=!1;this.xl=g;break;
case 40:c.preventDefault(),this.Nc=!1,this.ul=g}};m.re=function(){this.Xc=this.Sc=this.Nc=this.bd=!1};m.xb=function(){var c=this.b.Se(this.d),g=this.Sc||this.Gd,m=this.Xc||this.Hd,b=this.bd||this.Id,a=this.Nc||this.Fd;this.Fd=this.Id=this.Hd=this.Gd=!1;if(this.enabled){var t=this.b.ac(this.d);if(t&&(this.b.kf(this.d,t),!this.b.Ah(this.d)))return;this.Ue&&(a=b=m=g=!1);0===this.Ck?m=g=!1:1===this.Ck&&(a=b=!1);2===this.Ck&&(b||a)&&(m=g=!1);g==m&&(0>this.A?(this.A+=this.Ab*c,0<this.A&&(this.A=0)):0<this.A&&
(this.A-=this.Ab*c,0>this.A&&(this.A=0)));b==a&&(0>this.q?(this.q+=this.Ab*c,0<this.q&&(this.q=0)):0<this.q&&(this.q-=this.Ab*c,0>this.q&&(this.q=0)));g&&!m&&(this.A=0<this.A?this.A-(this.xa+this.Ab)*c:this.A-this.xa*c);m&&!g&&(this.A=0>this.A?this.A+(this.xa+this.Ab)*c:this.A+this.xa*c);b&&!a&&(this.q=0<this.q?this.q-(this.xa+this.Ab)*c:this.q-this.xa*c);a&&!b&&(this.q=0>this.q?this.q+(this.xa+this.Ab)*c:this.q+this.xa*c);if(0!==this.A||0!==this.q){Math.sqrt(this.A*this.A+this.q*this.q)>this.Yb&&
(t=Math.atan2(this.q,this.A),this.A=this.Yb*Math.cos(t),this.q=this.Yb*Math.sin(t));m=this.d.x;b=this.d.y;g=this.d.i;this.d.x+=this.A*c;this.d.F();if(t=this.b.ac(this.d))this.b.rj(this.d,0>this.A?1:-1,0,Math.abs(Math.floor(this.A*c)))||(this.d.x=m),this.A=0,this.d.F(),this.b.kf(this.d,t);this.d.y+=this.q*c;this.d.F();if(t=this.b.ac(this.d))this.b.rj(this.d,0,0>this.q?1:-1,Math.abs(Math.floor(this.q*c)))||(this.d.y=b),this.q=0,this.d.F(),this.b.kf(this.d,t);c=cb(this.A);t=cb(this.q);0===c&&0===t||
!this.d.type.ra.Tt||(1===this.jk?this.d.i=Ia(90*Math.round(Ea(Math.atan2(t,c))/90)):2===this.jk?this.d.i=Ia(45*Math.round(Ea(Math.atan2(t,c))/45)):3===this.jk&&(this.d.i=Math.atan2(t,c)));this.d.F();this.d.i!=g&&(t=this.b.ac(this.d))&&(this.d.i=g,this.d.F(),this.b.kf(this.d,t))}}};g.k=new function(){};c.prototype.gk=function(){this.q=this.A=0};c.prototype.fk=function(c){switch(c){case 0:this.Gd=!0;break;case 1:this.Hd=!0;break;case 2:this.Id=!0;break;case 3:this.Fd=!0}};g.ca=new c;g.Fa=new function(){}})();
function pc(c){this.b=c}
(function(){var c=pc.prototype;c.ka=function(c){this.behavior=c;this.b=c.b};c.ka.prototype.R=function(){};c.aa=function(c,m){this.type=c;this.behavior=c.behavior;this.d=m;this.b=c.b;this.mode=0};c=c.aa.prototype;c.R=function(){this.mode=this.C[0]};c.xb=function(){};c.kg=function(){this.d.ea();var c=this.d.ia,m=this.d.j.Da,l=!1;0===this.mode?(0>this.d.x&&(this.d.x=0,l=!0),0>this.d.y&&(this.d.y=0,l=!0),this.d.x>m.width&&(this.d.x=m.width,l=!0),this.d.y>m.height&&(this.d.y=m.height,l=!0)):(0>c.left&&
(this.d.x-=c.left,l=!0),0>c.top&&(this.d.y-=c.top,l=!0),c.right>m.width&&(this.d.x-=c.right-m.width,l=!0),c.bottom>m.height&&(this.d.y-=c.bottom-m.height,l=!0));l&&this.d.F()}})();function qc(c){this.b=c}
(function(){function c(){}function g(){}function m(){}var l=qc.prototype;l.ka=function(c){this.behavior=c;this.b=c.b};l.ka.prototype.R=function(){};l.aa=function(c,b){this.type=c;this.behavior=c.behavior;this.d=b;this.b=c.b;this.Me=this.q=this.A=0};var n=l.aa.prototype;n.R=function(){this.ig=this.C[0];this.Yl=this.C[1];this.enabled=0!==this.C[2]};n.$a=function(){return{dx:this.A,dy:this.q,cancelStep:this.Me,enabled:this.enabled,stepMode:this.ig,pxPerStep:this.Yl}};n.tb=function(c){this.A=c.dx;this.q=
c.dy;this.Me=c.cancelStep;this.enabled=c.enabled;this.ig=c.stepMode;this.Yl=c.pxPerStep};n.Xh=function(){return Math.sqrt(this.A*this.A+this.q*this.q)};n.fc=function(){return Math.atan2(this.q,this.A)};n.step=function(c,b,a){if(0!==c||0!==b){var g=this.d.x,l=this.d.y,d,f=Math.round(Math.sqrt(c*c+b*b)/this.Yl);0===f&&(f=1);var e;for(e=1;e<=f;e++)if(d=e/f,this.d.x=g+c*d,this.d.y=l+b*d,this.d.F(),this.b.trigger(a,this.d),1===this.Me){e--;d=e/f;this.d.x=g+c*d;this.d.y=l+b*d;this.d.F();break}else if(2===
this.Me)break}};n.xb=function(){var c=this.b.Se(this.d),b=this.A*c,c=this.q*c;0===this.A&&0===this.q||!this.enabled||(this.Me=0,0===this.ig?(this.d.x+=b,this.d.y+=c):1===this.ig?this.step(b,c,qc.prototype.k.Dq):2===this.ig?(this.step(b,0,qc.prototype.k.Lm),this.Me=0,this.step(0,c,qc.prototype.k.Mm)):3===this.ig&&(this.step(0,c,qc.prototype.k.Mm),this.Me=0,this.step(b,0,qc.prototype.k.Lm)),this.d.F())};c.prototype.Dq=function(){return!0};c.prototype.Lm=function(){return!0};c.prototype.Mm=function(){return!0};
l.k=new c;g.prototype.gk=function(){this.q=this.A=0};l.ca=new g;m.prototype.A=function(c){c.G(this.A)};m.prototype.q=function(c){c.G(this.q)};l.Fa=new m})();function rc(c){this.b=c}
(function(){var c=rc.prototype;c.ka=function(c){this.behavior=c;this.b=c.b};c.ka.prototype.R=function(){};c.aa=function(c,m){this.type=c;this.behavior=c.behavior;this.d=m;this.b=c.b};c=c.aa.prototype;c.R=function(){};c.xb=function(){this.d.ea();var c=this.d.ia,m=this.d.j.Da;(0>c.right||0>c.bottom||c.left>m.width||c.top>m.height)&&this.b.Od(this.d)}})();function sc(c){this.b=c;this.pm=this.Bj=this.Eh=this.om=0}
(function(){var c=sc.prototype;c.ka=function(c){this.behavior=c;this.b=c.b};c.ka.prototype.R=function(){};c.aa=function(c,g){this.type=c;this.behavior=c.behavior;this.d=g;this.b=c.b};var g=c.aa.prototype;g.R=function(){this.enabled=0!==this.C[0]};g.$a=function(){return{smg:this.behavior.om,ss:this.behavior.Eh,se:this.behavior.Bj,smd:this.behavior.pm}};g.tb=function(c){this.behavior.om=c.smg;this.behavior.Eh=c.ss;this.behavior.Bj=c.se;this.behavior.pm=c.smd};g.xb=function(){};g.kg=function(){if(this.enabled){var c=
this.behavior.aj.pd(),g=0,n=0,q,b,a,t=0;q=0;for(b=c.length;q<b;q++){a:{a=c[q];for(var v=void 0,d=void 0,f=void 0,v=0,d=a.L.length;v<d;++v)if(f=a.L[v],f.behavior instanceof sc){a=f;break a}a=null}a&&a.enabled&&(g+=c[q].x,n+=c[q].y,++t)}c=this.d.j.Da;b=this.b.Ob.ua;a=q=0;b>=this.behavior.Eh&&b<this.behavior.Bj&&(q=this.behavior.om*Math.min(this.b.lg,1),0===this.behavior.pm&&(q*=1-(b-this.behavior.Eh)/(this.behavior.Bj-this.behavior.Eh)),b=Math.random()*Math.PI*2,a=Math.random()*q,q=Math.cos(b)*a,a*=
Math.sin(b));c.lm(g/t+q);c.mm(n/t+a)}};c.ca=new function(){}})();function gc(c){this.b=c}(function(){var c=gc.prototype;c.ka=function(c){this.behavior=c;this.b=c.b};c.ka.prototype.R=function(){};c.aa=function(c,g){this.type=c;this.behavior=c.behavior;this.d=g;this.b=c.b};var g=c.aa.prototype;g.R=function(){this.d.I.solidEnabled=0!==this.C[0]};g.xb=function(){};c.k=new function(){};c.ca=new function(){}})();
function fc(){return[hc,ic,lc,Z,jc,kc,nc,pc,rc,oc,gc,sc,qc,mc,Y.prototype.k.vq,kc.prototype.k.xq,Y.prototype.k.jq,nc.prototype.ca.fk,Z.prototype.ca.Tq,Y.prototype.k.oq,Z.prototype.ca.Vm,Z.prototype.Fa.Wm,Z.prototype.Fa.Xm,Z.prototype.Fa.qq,Z.prototype.Fa.rq,Z.prototype.ca.Sq,Z.prototype.Fa.dq,jc.prototype.ca.Xq,Z.prototype.k.wq,Z.prototype.k.sq,kc.prototype.k.ek,Y.prototype.ca.cq,Y.prototype.ca.Yq,Z.prototype.ca.Zq,Y.prototype.k.nq,ic.prototype.ca.Vm,oc.prototype.ca.fk,Z.prototype.ca.Vq,Z.prototype.ca.Wq,
Y.prototype.ca.pq,Z.prototype.ca.Uq,Z.prototype.k.Fq,Z.prototype.ca.lq,Y.prototype.ca.cr,Y.prototype.ca.kq,nc.prototype.ca.gk]};
